{"version":3,"sources":["activation/leaky-relu.js","activation/relu.js","activation/sigmoid.js","activation/tanh.js","activation/index.js","cross-validate.js","../node_modules/gpu.js/dist/gpu-browser.js","utilities/kernel.js","utilities/zeros.js","utilities/zeros-2d.js","utilities/layer-size.js","layer/base.js","utilities/zeros-3d.js","layer/activation.js","layer/types.js","layer/add.js","praxis/base.js","praxis/arthur-deviation-weights.js","praxis/arthur-deviation-biases.js","utilities/random-weight.js","utilities/random.js","utilities/randos.js","utilities/randos-2d.js","layer/random.js","layer/multiply.js","layer/sigmoid.js","layer/arthur-feed-forward.js","utilities/layer-setup.js","utilities/randos-3d.js","utilities/values.js","layer/convolution.js","layer/dropout.js","layer/feed-forward.js","layer/fully-connected.js","layer/negative.js","layer/multiply-element.js","utilities/ones.js","utilities/ones-2d.js","layer/ones.js","layer/tanh.js","layer/zeros.js","layer/gru.js","layer/input.js","layer/leaky-relu.js","layer/lstm-cell.js","layer/target.js","layer/output.js","layer/pool.js","layer/relu.js","layer/rnn-cell.js","layer/regression.js","layer/soft-max.js","layer/svm.js","layer/transpose.js","layer/index.js","likely.js","lookup.js","praxis/adam.js","praxis/momentum-root-mean-squared-propagation.js","praxis/index.js","utilities/layer-from-json.js","utilities/traverse-layers-from.js","utilities/flatten-layers.js","estimator/mean-squared-error.js","feed-forward.js","../src/thaw.js","../src/block.js","../src/index.js","../node_modules/events/events.js","../node_modules/inherits/inherits_browser.js","../node_modules/process/browser.js","../node_modules/process-nextick-args/index.js","../node_modules/isarray/index.js","../node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/buffer/index.js","../node_modules/readable-stream/node_modules/safe-buffer/index.js","../node_modules/core-util-is/lib/util.js","../node_modules/readable-stream/lib/internal/streams/BufferList.js","../node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/util-deprecate/browser.js","../node_modules/readable-stream/lib/_stream_writable.js","../node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/readable-stream/node_modules/string_decoder/lib/string_decoder.js","../node_modules/readable-stream/lib/_stream_readable.js","../node_modules/readable-stream/lib/_stream_transform.js","../node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/readable-stream/readable-browser.js","../node_modules/readable-stream/writable-browser.js","../node_modules/readable-stream/duplex-browser.js","../node_modules/readable-stream/transform.js","../node_modules/readable-stream/passthrough.js","../node_modules/stream-browserify/index.js","train-stream.js","utilities/to-array.js","utilities/max.js","utilities/mse.js","utilities/range.js","utilities/lookup-table.js","utilities/cast.js","neural-network.js","neural-network-gpu.js","layer/recurrent-connection.js","layer/recurrent-input.js","layer/recurrent-zeros.js","recurrent.js","recurrent/matrix/index.js","recurrent/matrix/random-matrix.js","recurrent/matrix/ones-matrix.js","recurrent/matrix/copy.js","recurrent/matrix/clone-negative.js","recurrent/matrix/add.js","recurrent/matrix/add-b.js","recurrent/matrix/all-ones.js","recurrent/matrix/multiply.js","recurrent/matrix/multiply-b.js","recurrent/matrix/multiply-element.js","recurrent/matrix/multiply-element-b.js","recurrent/matrix/relu.js","recurrent/matrix/relu-b.js","recurrent/matrix/row-pluck.js","recurrent/matrix/row-pluck-b.js","recurrent/matrix/sigmoid.js","recurrent/matrix/sigmoid-b.js","recurrent/matrix/tanh.js","recurrent/matrix/tanh-b.js","recurrent/matrix/softmax.js","recurrent/matrix/equation.js","recurrent/matrix/sample-i.js","recurrent/matrix/max-i.js","utilities/data-formatter.js","recurrent/rnn.js","utilities/array-lookup-table.js","recurrent/rnn-time-step.js","recurrent/lstm.js","recurrent/lstm-time-step.js","recurrent/gru.js","recurrent/gru-time-step.js","utilities/to-svg.js","index.js"],"names":["activate","weight","measure","error","module","exports","Math","max","delta","value","exp","tanh","leakyRelu","require","relu","sigmoid","CrossValidate","Classifier","options","json","trainOpts","trainSet","testSet","classifier","beginTrain","Date","now","trainingStats","train","beginTest","testStats","test","endTest","stats","Object","assign","trainTime","testTime","iterations","total","learningRate","hiddenLayers","network","toJSON","array","i","length","j","floor","random","temp","data","k","Error","size","constructor","Array","shuffleArray","newData","keys","forEach","key","avgs","binaryStats","truePos","trueNeg","falsePos","falseNeg","results","stat","isBinary","dclone","slice","splice","result","testPartition","hasOwnProperty","push","precision","recall","accuracy","testSize","trainSize","sets","fromJSON","crossValidateJson","reduce","prev","cur","Infinity","instance","f","define","amd","g","window","global","self","GPU","r","e","n","t","o","c","u","a","code","p","call","factory","acorn","reservedWords","strict","strictBind","ecma5AndLessKeywords","keywords","keywordRelationalOperator","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","RegExp","nonASCIIidentifier","astralIdentifierStartCodes","astralIdentifierCodes","isInAstralSet","set","pos","isIdentifierStart","astral","String","fromCharCode","isIdentifierChar","TokenType","label","conf","keyword","beforeExpr","startsExpr","isLoop","isAssign","prefix","postfix","binop","updateContext","name","prec","keywords$1","kw","types","num","regexp","string","eof","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","dot","question","arrow","template","invalidTemplate","ellipsis","backQuote","dollarBraceL","eq","incDec","logicalOR","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","equality","relational","bitShift","plusMin","modulo","star","slash","starstar","_break","_case","_catch","_continue","_debugger","_default","_do","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_const","_while","_with","_new","_this","_super","_class","_extends","_export","_import","_null","_true","_false","_in","_instanceof","_typeof","_void","_delete","lineBreak","lineBreakG","source","isNewLine","ecma2019String","nonASCIIwhitespace","skipWhiteSpace","ref","prototype","toString","has","obj","propName","isArray","wordsRegexp","words","replace","Position","line","col","column","offset","SourceLocation","start","end","sourceFile","getLineInfo","input","lastIndex","match","exec","index","defaultOptions","ecmaVersion","sourceType","onInsertedSemicolon","onTrailingComma","allowReserved","allowReturnOutsideFunction","allowImportExportEverywhere","allowAwaitOutsideFunction","allowHashBang","locations","onToken","onComment","ranges","program","directSourceFile","preserveParens","getOptions","opts","opt","tokens","token","pushComment","block","text","startLoc","endLoc","comment","type","loc","range","SCOPE_TOP","SCOPE_FUNCTION","SCOPE_VAR","SCOPE_ASYNC","SCOPE_GENERATOR","SCOPE_ARROW","SCOPE_SIMPLE_CATCH","SCOPE_SUPER","SCOPE_DIRECT_SUPER","functionFlags","async","generator","BIND_NONE","BIND_VAR","BIND_LEXICAL","BIND_FUNCTION","BIND_SIMPLE_CATCH","BIND_OUTSIDE","Parser","startPos","reserved","v","reservedStrict","reservedWordsStrict","reservedWordsStrictBind","containsEsc","lineStart","lastIndexOf","curLine","split","curPosition","lastTokEndLoc","lastTokStartLoc","lastTokStart","lastTokEnd","context","initialContext","exprAllowed","inModule","strictDirective","potentialArrowAt","yieldPos","awaitPos","awaitIdentPos","labels","undefinedExports","skipLineComment","scopeStack","enterScope","regexpState","prototypeAccessors","inFunction","configurable","inGenerator","inAsync","allowSuper","allowDirectSuper","treatFunctionsAsVar","parse","node","startNode","nextToken","parseTopLevel","get","currentVarScope","flags","currentThisScope","treatFunctionsAsVarInScope","currentScope","inNonArrowFunction","extend","plugins","len","arguments","cls","parseExpressionAt","parser","parseExpression","tokenizer","defineProperties","pp","literal","eat","next","isContextual","eatContextual","expectContextual","unexpected","canInsertSemicolon","insertSemicolon","semicolon","afterTrailingComma","tokType","notNext","expect","raise","DestructuringErrors","shorthandAssign","trailingComma","parenthesizedAssign","parenthesizedBind","doubleProto","checkPatternErrors","refDestructuringErrors","raiseRecoverable","parens","checkExpressionErrors","andThrow","checkYieldAwaitInDefaultParams","isSimpleAssignTarget","expr","expression","pp$1","body","stmt","parseStatement","list","adaptDirectivePrologue","finishNode","loopLabel","kind","switchLabel","isLet","skip","nextCh","charCodeAt","ident","isAsyncFunction","charAt","topLevel","starttype","parseBreakContinueStatement","parseDebuggerStatement","parseDoStatement","parseForStatement","parseFunctionStatement","parseClass","parseIfStatement","parseReturnStatement","parseSwitchStatement","parseThrowStatement","parseTryStatement","parseVarStatement","parseWhileStatement","parseWithStatement","parseBlock","parseEmptyStatement","parseExpressionStatement","parseImport","parseExport","maybeName","parseLabeledStatement","isBreak","parseIdent","lab","pop","parseParenExpression","awaitAt","parseFor","init$1","parseVar","declarations","await","parseForIn","init","toAssignable","checkLVal","isAsync","declarationPosition","parseFunction","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","consequent","alternate","argument","discriminant","cases","sawDefault","isCase","exitScope","empty","handler","clause","param","parseBindingAtom","simple","finalizer","object","i$1","label$1","statementStart","indexOf","createNewLexicalScope","update","isForIn","id","left","right","parseMaybeAssign","isFor","decl","parseVarId","FUNC_NULLABLE_ID","statement","allowExpressionBody","initFunction","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","parseFunctionParams","parseFunctionBody","params","parseBindingList","isStatement","oldStrict","parseClassId","parseClassSuper","classBody","hadConstructor","element","parseClassElement","superClass","constructorAllowsSuper","this$1","method","tryContextual","noLineBreak","computed","startNodeAt","static","isGenerator","parsePropertyName","allowsDirectSuper","parseClassMethod","parseMethod","parseExprSubscripts","parseExprAtom","checkExport","fNode","declaration","cNode","shouldParseExportStatement","checkVariableExport","specifiers","parseExportSpecifiers","spec","checkUnreserved","local","checkLocalExport","checkPatternExport","pat","properties","prop","list$1","elements","elt","decls","nodes","first","exported","parseImportSpecifiers","node$1","node$2","imported","statements","isDirectiveCandidate","directive","raw","pp$2","isBinding","toAssignableList","operator","exprList","last","parseSpread","parseRestBinding","parseObj","close","allowEmpty","allowTrailingComma","elts","rest","parseBindingListItem","elem","parseMaybeDefault","bindingType","checkClashes","declareName","pp$3","checkPropClash","propHash","shorthand","proto","other","redefinition","noIn","expressions","afterLeftParse","parseYield","ownDestructuringErrors","oldParenAssign","oldTrailingComma","parseMaybeConditional","parseExprOps","parseMaybeUnary","parseExprOp","leftStartPos","leftStartLoc","minPrec","logical","op","buildBinary","sawUnary","parseAwait","parseSubscripts","base","noCalls","maybeAsyncArrow","parseSubscript","property","parseExprList","parseArrowExpression","callee","tag","quasi","parseTemplate","isTagged","readRegexp","canBeArrow","parseLiteral","regex","pattern","parseParenAndDistinguishExpression","parseNew","parseExprImport","parseDynamicImport","errorPos","bigint","val","innerStartPos","innerStartLoc","lastIsComma","spreadStart","parseParenItem","innerEndPos","innerEndLoc","parseParenArrowList","finishNodeAt","par","item","empty$1","meta","isImport","parseTemplateElement","cooked","tail","curElt","quasis","isAsyncProp","isPattern","parseProperty","parsePropertyValue","paramCount","isArrowFunction","isMethod","isExpression","useStrict","checkParams","nonSimple","isSimpleParamList","oldLabels","allowDuplicates","nameHash","re","liberal","delegate","pp$4","message","err","SyntaxError","raisedAt","pp$5","Scope","var","lexical","functions","scope","redeclared","scope$1","scope$2","scope$3","Node","pp$6","TokContext","isExpr","preserveSpace","override","types$1","b_stat","b_expr","b_tmpl","p_stat","p_expr","q_tmpl","tryReadTemplateToken","f_stat","f_expr","f_expr_gen","f_gen","pp$7","braceIsBlock","prevType","parent","curContext","inGeneratorContext","out","statementParens","allowed","ecma9BinaryProperties","ecma10BinaryProperties","ecma11BinaryProperties","unicodeBinaryProperties","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","ecma11ScriptValues","unicodeScriptValues","buildUnicodeData","d","binary","nonBinary","General_Category","Script","Script_Extensions","gc","sc","scx","pp$8","RegExpValidationState","validFlags","unicodeProperties","switchU","switchN","lastIntValue","lastStringValue","lastAssertionIsQuantifiable","numCapturingParens","maxBackReference","groupNames","backReferenceNames","reset","unicode","at","s","l","nextIndex","current","lookahead","advance","ch","codePointToString","validateRegExpFlags","state","flag","validateRegExpPattern","regexp_pattern","regexp_disjunction","regexp_alternative","regexp_eatQuantifier","regexp_eatTerm","regexp_eatAssertion","regexp_eatAtom","regexp_eatExtendedAtom","lookbehind","noError","regexp_eatQuantifierPrefix","regexp_eatBracedQuantifier","min","regexp_eatDecimalDigits","regexp_eatPatternCharacters","regexp_eatReverseSolidusAtomEscape","regexp_eatCharacterClass","regexp_eatUncapturingGroup","regexp_eatCapturingGroup","regexp_eatAtomEscape","regexp_groupSpecifier","regexp_eatInvalidBracedQuantifier","regexp_eatExtendedPatternCharacter","regexp_eatSyntaxCharacter","isSyntaxCharacter","regexp_eatGroupName","regexp_eatRegExpIdentifierName","regexp_eatRegExpIdentifierStart","regexp_eatRegExpIdentifierPart","regexp_eatRegExpUnicodeEscapeSequence","isRegExpIdentifierStart","isRegExpIdentifierPart","regexp_eatBackReference","regexp_eatCharacterClassEscape","regexp_eatCharacterEscape","regexp_eatKGroupName","regexp_eatDecimalEscape","regexp_eatControlEscape","regexp_eatCControlLetter","regexp_eatZero","regexp_eatHexEscapeSequence","regexp_eatLegacyOctalEscapeSequence","regexp_eatIdentityEscape","regexp_eatControlLetter","isDecimalDigit","isControlLetter","regexp_eatFixedHexDigits","lead","leadSurrogateEnd","trail","regexp_eatHexDigits","isValidUnicode","isCharacterClassEscape","regexp_eatUnicodePropertyValueExpression","regexp_eatUnicodePropertyName","regexp_eatUnicodePropertyValue","regexp_validateUnicodePropertyNameAndValue","regexp_eatLoneUnicodePropertyNameOrValue","nameOrValue","regexp_validateUnicodePropertyNameOrValue","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","regexp_classRanges","regexp_eatClassAtom","regexp_eatClassEscape","ch$1","isOctalDigit","regexp_eatClassControlLetter","isHexDigit","hexToInt","regexp_eatOctalDigit","n1","n2","Token","pp$9","ignoreEscapeSequenceInKeyword","getToken","Symbol","iterator","done","skipSpace","finishToken","readToken","fullCharCodeAtPos","readWord","getTokenFromCode","skipBlockComment","startSkip","loop","readToken_dot","readNumber","next2","readToken_slash","finishOp","readToken_mult_modulo_exp","tokentype","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","readRadixNumber","readString","codePointToString$1","str","escaped","inClass","flagsStart","readWord1","readInt","radix","BigInt","startsWithDot","octal","str$1","val$1","parseInt","parseFloat","readCodePoint","codePos","readHexChar","invalidStringToken","quote","chunkStart","readEscapedChar","INVALID_TEMPLATE_ESCAPE_ERROR","inTemplateElement","readTmplToken","readInvalidTemplateToken","position","inTemplate","octalStr","substr","word","escStart","esc","version","tokTypes","keywordTypes","tokContexts","defineProperty","glWiretap","gl","contextName","throwGetError","useTrackablePrimitives","readPixelsFile","recording","variables","onReadPixels","onUnrecognizedArgumentLookup","proxy","Proxy","listen","contextVariables","entityNames","imageCount","indent","readPixelsVariableName","addComment","checkThrowError","insertVariable","setIndent","getContextVariableName","getError","variableName","extension","getExtension","tappedExtension","glExtensionWiretap","getEntity","targetVariableName","getVariableName","argumentAsStrings","join","writePPM","readPixels","apply","argumentsToString","addVariable","drawBuffers","methodCallToString","trackablePrimitive","spaces","repeat","width","height","sourceVariable","imageVariable","args","extensionEntityNames","getExtensionEntity","drawBuffersWEBGL","from","map","arg","argumentToString","hasLines","hasSingleQuotes","hasDoubleQuotes","JSON","stringify","instantiationString","setupArguments","newArguments","toArray","mock1D","row","Float32Array","output","x","thread","y","z","_fn","mock2D","matrix","mock2DGraphical","mock3D","cube","apiDecorate","kernel","setOutput","setupOutput","graphical","setupGraphical","setConstants","constants","setGraphical","setCanvas","canvas","setContext","destroy","validateSettings","Promise","resolve","reject","getPixels","flip","flipPixels","_imageData","color","b","_colorData","mockMethod","methods","createImageData","Uint8ClampedArray","gpuMock","fn","settings","pixels","halfHeight","bytesPerRow","topOffset","bottomOffset","subarray","copyWithin","utils","alias","fnString","Function","getArgumentNamesFromString","getFunctionBodyFromString","FunctionNode","CPUFunctionNode","ast","retArr","isRootKernel","argumentNames","argumentName","astGeneric","returnType","getType","leadingReturnStatement","followingReturnStatement","isSubKernel","isNaN","astErrorOutput","idtNode","forNode","initArr","testArr","updateArr","bodyArr","isSafe","pushState","includes","popState","iVariableName","getInternalVariableName","whileNode","doWhileNode","assNode","getDeclaration","assignable","bNode","isState","varDecNode","info","valueType","ifNode","tNode","mNode","getMemberExpressionDetails","signature","xProperty","yProperty","zProperty","origin","removeIstanbulCoverage","markupName","isInput","constant","constantTypes","argumentSizes","dynamicArguments","functionName","astMemberExpressionUnroll","calledFunctions","isMathFunction","isAstMathFunction","onFunctionCall","targetTypes","lookupFunctionArgumentTypes","argumentType","triggerImplyArgumentType","arrNode","arrLen","subNode","constantsToString","cpuKernelString","cpuKernel","header","thisProperties","beforeReturn","useFunctionKeyword","colorFn","flattenFunctionToString","thisLookup","propertyName","findDependency","getPixelsFn","constantKeys","argumentTypes","flattenedImageTo3DArray","_imageTo3DArray","doNotDefine","flattenedImageTo2DArray","_mediaTo2DArray","_kernelString","Kernel","FunctionBuilder","CPUKernel","features","combinedKernel","freeze","kernelMap","isIntegerDivisionAccurate","mergeSettings","_prependedString","translatedSources","document","createElement","OffscreenCanvas","getContext","argType","getVariableType","strictIntegers","getDimensions","checkOutput","subKernels","functionBuilder","fromKernel","getPrototypes","getKernelResultType","built","setupConstants","translateSource","kernelString","getKernelString","debug","console","log","run","bind","buildSignature","kernelThreadString","filter","shift","_getLoopMaxString","injectedNative","_resultKernelHeader","_processConstants","_earlyThrows","_processArguments","_graphicalKernelBody","_resultKernelBody","loopMaxIterations","immutable","pipeline","arrayArguments","checks","checkSubKernels","_mapSubKernels","subKernel","media","videoWidth","videoHeight","ctx","drawImage","pixelsData","getImageData","imageArray","pixel","images","imagesArray","_mutableKernel1DResults","_mutableKernel2DResults","_mutableKernel3DResults","_resultMutableKernel1DLoop","_resultImmutableKernel1DLoop","_kernelOutput","_resultMutableKernel2DLoop","_resultImmutableKernel2DLoop","_resultMutableKernel3DLoop","_resultImmutableKernel3DLoop","_graphicalKernel2DLoop","_graphicalOutput","constructorString","_getKernelResultTypeConstructorString","removeCanvasReference","functionNodes","extraNodeOptions","kernelArguments","kernelConstants","argumentBitRatios","constantBitRatios","nativeFunctions","optimizeFloatMemory","dynamicOutput","onIstanbulCoverageVariable","kernelConstant","needsArgumentType","assignArgumentType","lookupReturnType","requestingNode","lookupFunctionArgumentName","argumentIndex","lookupFunctionArgumentBitRatio","triggerImplyArgumentBitRatio","calleeFunctionName","assignArgumentBitRatio","trackFunctionCall","onNestedFunction","nestedFunction","nodeOptions","traceFunctionAST","addFunctionNode","rootNodeOptions","rootNode","subKernelNodes","functionMap","nativeFunctionNames","lookupChain","functionNodeDependencies","functionCalls","nativeFunction","functionNode","retList","functionIndex","traceFunctionCalls","dependantFunctionName","getPrototypesFromFunctionNames","reverse","functionList","ret","nativeIndex","jsonFunctionNodes","jsonFunctionNode","getStringFromFunctionNames","_isNativeFunction","_lookupNativeFunctionReturnType","_isFunction","_getFunction","getJsAST","Boolean","_getNativeFunction","bitRatio","fnNode","calleeNode","calleeBitRatio","Set","add","subKernelNode","called","functionCallIndex","functionCall","FunctionTracer","getFunctionNameFromString","identifiers","contexts","states","strictTypingChecking","fixIntegerDivisionAccuracy","literalTypes","validate","_string","_internalVariableNames","isFunctionString","firstExpression","inParser","functionAST","inForLoopInit","inForLoopTest","dependencies","getDependencies","realType","isSafeDependencies","identifier","typeLookupMap","constantName","trim","literalKey","astKey","Number","isInteger","inferArgumentTypesIfNeeded","getVariableSignature","rightType","lastType","isAstVariable","getCheckVariableType","findIdentifierOrigin","variableSignature","getLookupType","getConstantType","isAstMathVariable","lastReturn","findLastReturn","mathProperties","mathFunctions","every","dependency","isNotSafe","details","returnRawValue","unshift","signatureString","allowedExpressions","astFunctionDeclaration","astFunctionExpression","astReturnStatement","astLiteral","astBinaryExpression","astIdentifierExpression","astAssignmentExpression","astExpressionStatement","astEmptyStatement","astBlockStatement","astIfStatement","astSwitchStatement","astBreakStatement","astContinueStatement","astForStatement","astWhileStatement","astDoWhileStatement","astVariableDeclaration","astVariableDeclarator","astThisExpression","astSequenceExpression","astUnaryExpression","astUpdateExpression","astLogicalExpression","astMemberExpression","astCallExpression","astArrayExpression","astDebuggerStatement","astConditionalExpression","debugString","getAstString","leadingSource","splitLines","lineBefore","isChildFunction","astFunction","esNode","eNode","brNode","crNode","iVarDecNode","sNode","sequenceResult","isIstanbulAST","expressionResult","uNode","unaryResult","checkAndUpconvertBitwiseUnary","logNode","astToFind","stack","atNode","separator","trackIdentifiers","memberExpression","runningContexts","functionContexts","returnStatements","trackedIdentifiers","newFunctionContext","scan","newContext","currentContext","currentFunctionContext","functionContext","previousRunningContext","useFunctionContext","suggestedType","normalizeDeclarations","hasState","testIdentifiers","getIdentifiers","toStringWithoutUtils","glKernelString","originKernel","setupContextString","destroyContextString","build","uploadedValues","postResult","targetName","subKernelsResultVariableSetup","getRenderString","subKernelsResultIndex","findKernelValue","tactic","checkContext","kernelArgument","uploadValue","imageIndex","texture","flattenTo","flatten2dArrayTo","flatten3dArrayTo","flatten4dArrayTo","renderOutput","renderTexture","formatValues","varName","renderKernels","getStringValueHandler","textureName","getToArrayString","mappedTextures","subKernelResult","subKernelTextureName","rendered","getGetPixelsString","constantsUpload","readBackValue","kernelResult","flattenedFunctions","isDeclaration","kernelValues","values","HTMLImageElement","kernelValue","variableIndex","variable","GLTextureArray2Float","GLTextureArray2Float2D","GLTextureArray2Float3D","GLTextureArray3Float","GLTextureArray3Float2D","GLTextureArray3Float3D","GLTextureArray4Float","GLTextureArray4Float2D","GLTextureArray4Float3D","GLTextureFloat","GLTextureFloat2D","GLTextureFloat3D","GLTextureMemoryOptimized","GLTextureMemoryOptimized2D","GLTextureMemoryOptimized3D","GLTextureUnsigned","GLTextureUnsigned2D","GLTextureUnsigned3D","GLTextureGraphical","GLKernel","fix","warnDeprecated","floatTextures","testContext","testCanvas","kernelFunction","v1","v2","round","isDrawBuffers","getIsDrawBuffers","isFloatRead","getIsFloatRead","getIsIntegerDivisionAccurate","isSpeedTacticSupported","getIsSpeedTacticSupported","isTextureFloat","getIsTextureFloat","channelCount","getChannelCount","maxTextureSize","getMaxTextureSize","lowIntPrecision","getShaderPrecisionFormat","FRAGMENT_SHADER","LOW_INT","lowFloatPrecision","LOW_FLOAT","mediumIntPrecision","MEDIUM_INT","mediumFloatPrecision","MEDIUM_FLOAT","highIntPrecision","HIGH_INT","highFloatPrecision","HIGH_FLOAT","getVariablePrecisionString","isStartingVariableName","isVariableChar","char","nextChar","typeMap","lastKernel","texSize","threadDim","w","h","ceil","RGBA","FLOAT","bytes","Uint8Array","UNSIGNED_BYTE","buffer","splitArray","transferValues","TextureConstructor","renderRawOutput","translatedSource","compiledFragmentShader","compiledVertexShader","switchingKernels","_textureSwitched","_mappedTextureSwitched","readPackedPixelsToUint8Array","readPackedPixelsToFloat32Array","renderKernelsToTextures","requestFallback","renderKernelsToArrays","renderValues","erect3DPackedFloat","erect2DPackedFloat","erectPackedFloat","readFloatPixelsToFloat32Array","erectMemoryOptimized3DFloat","erectMemoryOptimized2DFloat","erectMemoryOptimizedFloat","erect3DArray2","erect2DArray2","erectArray2","erect3DArray3","erect2DArray3","erectArray3","erect3DArray4","erect2DArray4","erectArray4","erect3DFloat","erect2DFloat","erectFloat","getMainResultNumberTexture","getMainResultArray2Texture","getMainResultArray3Texture","getMainResultArray4Texture","getMainResultGraphical","getMainResultMemoryOptimizedFloats","getMainResultTexture","getMainResultPackedPixels","linesToString","getMainResultKernelNumberTexture","getMainResultSubKernelNumberTexture","getMainResultKernelArray2Texture","getMainResultSubKernelArray2Texture","getMainResultKernelArray3Texture","getMainResultSubKernelArray3Texture","getMainResultKernelArray4Texture","getMainResultSubKernelArray4Texture","variablePrecision","clone","existingValue","newOutput","toKernelOutput","newThreadDim","newTexSize","getKernelTextureSize","oldTexSize","oldPrecision","newPrecision","warn","switchKernels","needed","bindFramebuffer","FRAMEBUFFER","framebuffer","updateMaxTexSize","viewport","maxTexSize","delete","_setupOutputTexture","_setupSubOutputTextures","reason","textureSize","isInt","low","medium","high","requiredSize","log2","rangeMax","prevArg","_refs","mappedTexture","previousKernel","int","float","vec2","vec3","vec4","GLTexture","framebufferTexture2D","COLOR_ATTACHMENT0","TEXTURE_2D","_deleted","Texture","newTexture","selectTexture","target","createTexture","texImage2D","internalFormat","textureFormat","textureType","copyTexSubImage2D","bindTexture","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","deleteTexture","_framebuffer","deleteFramebuffer","createFramebuffer","activeTexture","TEXTURE15","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","WebGLKernel","isSupported","testExtensions","HeadlessGLKernel","preserveDrawingBuffer","extensions","STACKGL_resize_drawingbuffer","STACKGL_destroy_context","OES_texture_float","OES_texture_float_linear","OES_element_index_uint","WEBGL_draw_buffers","fallbackRequested","resize","WEBGL_color_buffer_float","getFeatures","getParameter","RENDERER","MAX_DRAW_BUFFERS_WEBGL","MAX_TEXTURE_SIZE","setupFeatureChecks","KernelValue","onRequestContextHandle","onUpdateValueMismatch","undefined","contextHandle","forceUploadEachRun","Input","useLegacyEncoder","onRequestFallback","forceUploadKernelConstants","gpu","addFunction","addNativeFunction","initCanvas","initContext","initPlugins","functionToIGPUFunction","splitArgumentTypes","nativeFunctionArguments","nativeFunctionReturnType","Int32Array","getBitRatio","needsConstantTypes","setDynamicOutput","setDynamicArguments","removeCanvasReferences","Int8Array","Uint16Array","Int16Array","argumentsTypes","pluginNames","plugin","Constructor","getSignature","getArgumentTypes","sourceString","argumentTypesObject","fragmentShader","E","WebGLFunctionNode","consequentType","alternateType","sanitizeName","castLiteralToFloat","castValueToInteger","castLiteralToInteger","checkAndUpconvertOperator","castValueToFloat","leftType","operatorMap","literalResult","literalType","bitwiseResult","checkAndUpconvertBitwiseOperators","upconvertableOperators","foundOperator","initString","initNeedsSemiColon","declarationSets","declarationSet","actualType","markupType","declarationResult","fallingThrough","defaultResult","movingDefaultToEnd","pastFirstIf","testType","cleanName","memberExpressionPropertyMarkup","memberExpressionXYZ","functionMatch","functionReplace","targetType","WebGLKernelValueBoolean","WebGLKernelValueFloat","WebGLKernelValueInteger","WebGLKernelValueHTMLImage","WebGLKernelValueDynamicHTMLImage","WebGLKernelValueHTMLVideo","WebGLKernelValueDynamicHTMLVideo","WebGLKernelValueSingleInput","WebGLKernelValueDynamicSingleInput","WebGLKernelValueUnsignedInput","WebGLKernelValueDynamicUnsignedInput","WebGLKernelValueMemoryOptimizedNumberTexture","WebGLKernelValueDynamicMemoryOptimizedNumberTexture","WebGLKernelValueNumberTexture","WebGLKernelValueDynamicNumberTexture","WebGLKernelValueSingleArray","WebGLKernelValueDynamicSingleArray","WebGLKernelValueSingleArray1DI","WebGLKernelValueDynamicSingleArray1DI","WebGLKernelValueSingleArray2DI","WebGLKernelValueDynamicSingleArray2DI","WebGLKernelValueSingleArray3DI","WebGLKernelValueDynamicSingleArray3DI","WebGLKernelValueSingleArray2","WebGLKernelValueSingleArray3","WebGLKernelValueSingleArray4","WebGLKernelValueUnsignedArray","WebGLKernelValueDynamicUnsignedArray","kernelValueMaps","unsigned","dynamic","single","lookupKernelValueType","WebGLKernelValue","WebGLKernelArray","requestTexture","setupTexture","defineTexture","onRequestTexture","onRequestIndex","dimensionsId","sizeId","setUniform1i","checkSize","dimensions","setUniform3iv","setUniform2iv","inputTexture","getMemoryOptimizedFloatTextureSize","uploadArrayLength","setShape","getMemoryOptimizedPackedTextureSize","Type","getTransferArrayType","preUploadValue","setUniform1f","inputImage","initialValueConstructor","pixelStorei","UNPACK_FLIP_Y_WEBGL","Uint32Array","Float64Array","sameError","updateTextureArgumentRefs","valueDimensions","setUniform2fv","setUniform3fv","setUniform4fv","TranserArrayType","mrud","vertexShader","canvases","maxTexSizes","WebGLRenderingContext","isContextMatch","endianness","systemEndianness","argumentTextureCount","constantTextureCount","fragShader","vertShader","drawBuffersMap","onRequestSwitchKernel","textureCache","programUniformLocationCache","uniform1fCache","uniform1iCache","uniform2fCache","uniform2fvCache","uniform2ivCache","uniform3fvCache","uniform3ivCache","uniform4fvCache","uniform4ivCache","alpha","depth","antialias","pluginsToUse","usePlugin","some","pluginName","checkTextureSize","canvasIndex","needsArgumentTypes","textureIndexes","TEXTURE0","setup","initExtensions","failureResult","pickRenderStrategy","enable","SCISSOR_TEST","getVertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getFragmentShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","createProgram","attachShader","linkProgram","vertices","texCoords","texCoordOffset","byteLength","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","bufferSubData","aPosLoc","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","aTexCoordLoc","useProgram","updateValue","getPrototypeString","setupReturnTypes","getSubKernelResultType","scissor","setUniform2f","onBeforeRun","bindRenderbuffer","RENDERBUFFER","_replaceOutputTexture","drawArrays","TRIANGLE_STRIP","_replaceSubOutputTextures","getInternalFormat","beforeMutate","format","getTextureFormat","cache","getUniformLocation","uniform1f","uniform1i","value1","value2","uniform2f","uniform2fv","uniform2iv","uniform3fv","uniform3iv","uniform4fv","uniform4iv","HEADER","_getHeaderString","LOOP_MAX","PLUGINS","_getPluginsString","CONSTANTS","_getConstantsString","DECODE32_ENDIANNESS","_getDecode32EndiannessString","ENCODE32_ENDIANNESS","_getEncode32EndiannessString","DIVIDE_WITH_INTEGER_CHECK","_getDivideWithIntegerCheckString","INJECTED_NATIVE","_getInjectedNative","MAIN_CONSTANTS","_getMainConstantsString","MAIN_ARGUMENTS","_getMainArgumentsString","KERNEL","MAIN_RESULT","getMainResultString","FLOAT_TACTIC_DECLARATION","getFloatTacticDeclaration","INT_TACTIC_DECLARATION","getIntTacticDeclaration","SAMPLER_2D_TACTIC_DECLARATION","getSampler2DTacticDeclaration","SAMPLER_2D_ARRAY_TACTIC_DECLARATION","getSampler2DArrayTacticDeclaration","getSource","getKernelResultDeclaration","getMainResultKernelPackedPixels","getMainResultSubKernelPackedPixels","channels","channel","getMainResultKernelMemoryOptimizedFloats","getMainResultSubKernelMemoryOptimizedFloats","src","artifact","replaceArtifacts","_getFragShaderArtifactMap","_getVertShaderArtifactMap","deleteBuffer","deleteShader","deleteProgram","textureCacheIndex","idx","destroyExtensions","kernels","loseContext","WebGL2FunctionNode","WebGL2KernelValueBoolean","WebGL2KernelValueFloat","WebGL2KernelValueInteger","WebGL2KernelValueHTMLImage","WebGL2KernelValueDynamicHTMLImage","WebGL2KernelValueHTMLImageArray","WebGL2KernelValueDynamicHTMLImageArray","WebGL2KernelValueHTMLVideo","WebGL2KernelValueDynamicHTMLVideo","WebGL2KernelValueSingleInput","WebGL2KernelValueDynamicSingleInput","WebGL2KernelValueUnsignedInput","WebGL2KernelValueDynamicUnsignedInput","WebGL2KernelValueMemoryOptimizedNumberTexture","WebGL2KernelValueDynamicMemoryOptimizedNumberTexture","WebGL2KernelValueNumberTexture","WebGL2KernelValueDynamicNumberTexture","WebGL2KernelValueSingleArray","WebGL2KernelValueDynamicSingleArray","WebGL2KernelValueSingleArray1DI","WebGL2KernelValueDynamicSingleArray1DI","WebGL2KernelValueSingleArray2DI","WebGL2KernelValueDynamicSingleArray2DI","WebGL2KernelValueSingleArray3DI","WebGL2KernelValueDynamicSingleArray3DI","WebGL2KernelValueSingleArray2","WebGL2KernelValueSingleArray3","WebGL2KernelValueSingleArray4","WebGL2KernelValueUnsignedArray","WebGL2KernelValueDynamicUnsignedArray","TEXTURE_2D_ARRAY","texImage3D","xOffset","yOffset","imageDepth","texSubImage3D","RGBA32F","WebGL2Kernel","EXT_color_buffer_float","R32F","RED","RG32F","RG","REPEAT","texStorage2D","WebGL2RenderingContext","MAX_DRAW_BUFFERS","lib","bindTo","kernelRunShortcut","kernelOrder","kernelTypes","internalKernels","Worker","importScripts","HTMLCanvasElement","mode","chooseKernel","ExternalKernel","isFunction","devKernel","upgradeDeprecatedCreateKernelSettings","switchableKernels","settingsCopy","fallbackKernel","kernelRun","dynamicArgument","replaceKernel","reasons","_kernel","existingKernel","onActivate","newKernel","mergedSettings","argument2Type","createKernel","firstKernel","setPipeline","setTimeout","destroyContext","upgradedSettings","floatOutput","outputToTexture","outputImmutable","webGLKernelValueMaps","webGL2KernelValueMaps","mathRandom","resetSwitchingKernels","shortcut","accept","replacementKernel","bindKernelToShortcut","allPropertiesOf","substring","__defineGetter__","__defineSetter__","functionReturnType","FUNCTION_NAME","STRIP_COMMENTS","ARGUMENT_NAMES","_systemEndianness","getSystemEndianness","ArrayBuffer","funcObj","toLowerCase","funcStr","fnStr","isActiveClone","nodeName","texelCount","closestSquareDimensions","sqrt","totalArea","roundTo","pad","dim","part","byteOffset","lines","props","getOwnPropertyNames","getPrototypeOf","oldName","newName","yResults","xStart","xEnd","zResults","xResults","xResultsMax","XResultsMax","flattened","functionDependencies","flatten","flat","lookup","foundSource","flattenedFunctionDependencies","functionDependency","normalizedDeclarations","declarationIndex","propertyIndex","subPropertyIndex","subProperty","elementIndex","splitHTMLImageToRGB","image","rKernel","gKernel","bKernel","aKernel","splitRGBAToCanvases","rgba","visualKernelR","visualKernelG","visualKernelB","visualKernelA","getMinifySafeName","dollarSign","doubleUnderscore","singleUnderscore","gpuInstance","teardown","makeKernel","createKernelMap","makeDevKernel","kernelInput","release","fill","zeros","zeros2D","checkSameSize","layer1","layer2","Base","weights","deltas","praxisOpts","praxis","defaults","setupPraxis","layer","predictKernel","compareKernel","previousLayer","nextLayer","oldWeights","jsonLayer","zeros3D","Activation","inputLayer","Internal","InternalModel","EntryPoint","Filter","Model","Modifier","Operator","predict","inputWeights1","inputWeights2","Add","inputLayer1","inputLayer2","layerTemplate","updateChange","changes","incomingWeights","inputDeltas","lastChange","inputDelta","incoming","change","momentum","ArthurDeviationWeights","weightsLayer","incomingLayer","deltaLayer","arthurDeviationWeights","ArthurDeviationBiases","arthurDeviationBiases","randomWeight","randomFloat","gaussRandom","returnV","vVal","randomInteger","randomN","mu","std","randos","randos2D","Random","weights1","weights2","sum","compareFromX","inputWeights","compareFromY","Multiply","compareKernel1","compareKernel2","inputLayer1Deltas","inputLayer2Deltas","newDeltas1","newDeltas2","multiply","predict2D","inputs","predict3D","compare2D","compare3D","Sigmoid","arthurFeedForward","weightsPraxis","setupKernels","biasesPraxis","biasesLayer","multiplyLayer","addLayer","sigmoidLayer","setStride","strideX","stride","strideY","setPadding","paddingX","padding","paddingY","rondos2D","randos3D","filters","biases","startFilterX","startInputX","endFilterX","filterWidth","inputWidth","startFilterY","startInputY","endFilterY","filterHeight","inputHeight","inputDepth","filterY","inputY","filterX","inputX","compareFilterDeltas","filterDeltas","startDeltaX","endDeltaX","deltaWidth","startDeltaY","endDeltaY","deltaHeight","deltaY","deltaX","deltaZ","compareInputDeltas","compareBiases","biasDeltas","Convolution","bias","filterCount","learnFilters","learnInputs","compareFilterDeltasKernel","deltasWidth","deltasHeight","deltasDepth","compareInputDeltasKernel","compareBiasesKernel","convolution","setDropout","dropout","trainingPredict","probability","compare","dropouts","Dropout","isTraining","feedForward","compareInputDeltas3D","compareFilterDeltas3D","inputZ","FullyConnected","connectionCount","inputLayerDeltas","fullyConnected","Negative","negative","inputLayerWeights1","inputLayerWeights2","MultiplyElement","multiplyElement","ones","ones2D","Ones","errors","Tanh","Zeros","gru","recurrentInput","updateGateWeights","updateGatePeepholes","updateGateBias","updateGate","resetGateWeights","resetGatePeepholes","resetGateBias","resetGate","cellWeights","cellPeepholes","cellBias","cell","rows","columns","reshapeInput","predict1D","LeakyRelu","lstmCell","setDimensions","inputGateWeights","inputGatePeepholes","inputGateBias","inputGate","forgetGateWeights","forgetGatePeepholes","forgetGateBias","forgetGate","outputGateWeights","outputGatePeepholes","outputGateBias","outputGate","memoryWeights","memoryPeepholes","memoryBias","memory","retainCell","writeCell","compare1D","targetValues","Target","compareFn","outputGateConnector","setSwitchY","setSwitchX","largestValue","largestX","largestY","switchY","switchX","outputWidth","outputHeight","deltasY","deltasX","switchXValue","switchYValue","Pool","outputDepth","pool","Relu","rnnCell","transition","Regression","learn","targets","regression","getMaxValue","maxInput","getMaxValue2D","getMaxValue3D","getSum","getSum2D","getSum3D","getExponentials","getExponentials2D","getExponentials3D","exponentials","exponentialsSum","indicator","loss","SoftMax","getExponentialsKernel","getMaxValueKernel","getSumKernel","maxValue","softMax","SVM","svm","Transpose","transpose","likely","net","TypeError","maxProp","hashes","hash","memo","toHash","objects2D","table","valueIndex","objects","tableIndex","dataIndex","arrayLength","limit","shape","Adam","adam","getMomentum","decay","previousMomentum","clipByValue","previousMomenta","clippedDelta","clipValue","decayRate","smoothEps","regularizationStrength","isClippedByValue","MomentumRootMeanSquaredPropagation","momenta","momentumRootMeanSquaredPropagation","MRmsProp","mRmsProp","layerFromJSON","Layer","realLayer","Reflect","construct","traverseLayersFrom","cb","flattenLayers","layers","mse2d","MeanSquaredError","calculate","addAbsolute","abs","divide","mseSum","FeedForward","trainDefaults","_validateTrainingOptions","_setLogMethod","callback","callbackPeriod","errorCheckInterval","validations","errorThresh","logPeriod","timeout","reinforce","binaryThresh","outputLayer","_inputLayer","_outputLayer","_model","_updateTrainingOptions","structure","_hiddenLayers","_connectHiddenLayers","hiddenLayer","_connectLayers","initializeLayers","lastLayer","meanSquaredError","inputLookup","runInput","outputLookup","status","endTime","_prepTraining","_trainingTick","_calculateTrainingError","_trainPatterns","formattedData","formatData","verifyIsInitialized","transferData","initialize","prevSum","_trainPattern","resultArray","logErrorRate","_calculateDeltas","adjustWeights","tmp","inputDatumCheck","buildLookup","datumParam","outputDatumCheck","transferredData","transferInput","transferOutput","formattedDatum","jsonLayers","inputLayerIndex","inputLayer1Index","inputLayer2Index","sizes","concat","getLayer","thaw","thawing","thaws","Thaw","stop","each","items","defaultSettings","tick","clearTimeout","delay","doTick","makeReady","middle","Block","count","_next","addArray","insert","insertArray","R","ReflectApply","receiver","ReflectOwnKeys","ownKeys","getOwnPropertySymbols","ProcessEmitWarning","warning","NumberIsNaN","EventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","enumerable","RangeError","create","setMaxListeners","_getMaxListeners","that","getMaxListeners","emit","doError","events","er","listeners","arrayClone","_addListener","prepend","m","existing","newListener","warned","emitter","addListener","on","prependListener","onceWrapper","fired","removeListener","wrapFn","_onceWrap","wrapped","once","prependOnceListener","originalListener","spliceOne","off","removeAllListeners","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","arr","copy","process","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","nextTick","Item","title","env","argv","versions","noop","binding","cwd","chdir","dir","umask","pna","Writable","WriteReq","chunk","encoding","CorkedRequest","entry","finish","onCorkedFinish","asyncWrite","setImmediate","Duplex","WritableState","util","inherits","internalUtil","deprecate","Stream","Buffer","OurUint8Array","_uint8ArrayToBuffer","_isUint8Array","isBuffer","destroyImpl","nop","stream","isDuplex","objectMode","writableObjectMode","hwm","highWaterMark","writableHwm","writableHighWaterMark","defaultHwm","finalCalled","needDrain","ending","ended","finished","destroyed","noDecode","decodeStrings","defaultEncoding","writing","corked","sync","bufferProcessing","onwrite","writecb","writelen","bufferedRequest","lastBufferedRequest","pendingcb","prefinished","errorEmitted","bufferedRequestCount","corkedRequestsFree","getBuffer","_","realHasInstance","hasInstance","_writableState","writable","write","_write","writev","_writev","_destroy","final","_final","pipe","writeAfterEnd","validChunk","valid","isBuf","writeOrBuffer","cork","uncork","clearBuffer","setDefaultEncoding","decodeChunk","newChunk","doWrite","onwriteError","finishMaybe","onwriteStateUpdate","needFinish","afterWrite","onwriteDrain","holder","allBuffers","endWritable","callFinal","prefinish","need","corkReq","_undestroy","undestroy","TrainStream","neuralNetwork","dataFormatDetermined","floodCallback","doneTrainingCallback","updateTrainingOptions","finishStreamIteration","enc","addFormat","firstDatum","trainPattern","mse","LookupTable","datum","arraysToFloat32Arrays","arrays","arrayToFloat32Arrays","arrayToFloat32Array","objectsToFloat32Arrays","objectToFloat32Arrays","objectToFloat32Array","default","NeuralNetwork","beta1","beta2","epsilon","leakyReluAlpha","activation","outputs","calculateDeltas","inputLookupLength","outputLookupLength","inputSize","outputSize","prevSize","setActivation","_setupAdam","_runInputSigmoid","_calculateDeltasSigmoid","_runInputRelu","_calculateDeltasRelu","_runInputLeakyRelu","_calculateDeltasLeakyRelu","_runInputTanh","_calculateDeltasTanh","isRunnable","toObject","activeLayer","activeWeights","activeBiases","activeOutputs","currentSize","currentWeights","currentBiases","currentOutputs","validateTrainingOptions","setLogMethod","logTrainingStatus","calculateTrainingError","trainPatterns","prepTraining","trainingTick","thawedTrain","trainError","activeSize","activeOutput","activeError","activeDeltas","nextWeights","nextDeltas","currentErrors","currentDeltas","activeDelta","activeChanges","biasChangesLow","biasChangesHigh","changesLow","changesHigh","_adjustWeightsAdam","currentChangesLow","currentChangesHigh","currentBiasChangesLow","currentBiasChangesHigh","gradient","changeLow","changeHigh","momentumCorrection","pow","gradientCorrection","biasGradient","biasChangeLow","biasChangeHigh","biasMomentumCorrection","biasGradientCorrection","_formatInput","getTypedArrayFn","_formatOutput","addKeys","misclasses","errorSum","actual","expected","misclass","getTrainOptsJSON","needsVar","nodeHandle","layerNumber","nodeKey","layersAsMath","checkFns","gpuUtils","weightedSumSigmoid","weightedSumRelu","weightedSumLeakyRelu","weightedSumTanh","calcErrorOutput","calcDeltasSigmoid","calcDeltasRelu","calcDeltasLeakyRelu","calcDeltasTanh","calcError","calcChanges","previousChanges","previousOutputs","addWeights","addBiases","NeuralNetworkGPU","forwardPropagate","backwardPropagate","changesPropagate","biasesPropagate","buildRunInput","buildCalculateDeltas","buildGetChanges","buildChangeBiases","buildGetMSE","getMSE","_addMSE","_divideMSESum","getChanges","changeBiases","weightedSum","texturizeInputData","calcDeltas","outputTextures","texturizeOutputData","RecurrentConnection","RecurrentInput","recurrentInputDeltas","recurrentInputWeights","RecurrentZeros","recurrentZeros","Recurrent","previousLayers","_layerSets","usedHiddenLayerOutputIndex","findInputLayer","layerSettings","previousHiddenLayerOutput","_hiddenLayerOutputIndices","_outputConnection","layerSet","_connectLayersDeep","reuseKernels","initializeDeep","lastLayerUsed","lastLayerSet","prevError","_inputLayers","_hiddenLayerSets","_outputLayers","_previousInputs","_recurrentIndices","Matrix","ix","weightRows","deltasRows","rowIndex","weightValues","deltasValues","columnIndex","setWeight","setDeltas","RandomMatrix","OnesMatrix","product","cloneNegative","addB","allOnes","leftRows","leftColumns","rightColumns","leftRow","leftRowBase","rightRowBase","rightColumn","leftColumn","rightColumnBase","leftIndex","rightIndex","multiplyB","leftRowRoot","rightRow","backPropagateValue","multiplyElementB","reluB","rowPluck","rowPluckIndex","rowBase","rowPluckB","sig","sigmoidB","mwi","tanhB","softmax","maxVal","Equation","inputRow","inputValue","forwardFn","backpropagationFn","iForward","iBackpropagate","runIndex","logProbabilities","probabilities","sampleI","maxI","maxv","maxix","DataFormatter","maxThreshold","indexTable","characterTable","characters","specialIndexes","buildCharactersFromIterable","buildTables","tempCharactersTable","dataFormatterIndex","dataFormatterLength","characterIndex","charactersLength","character","toIndexes","indices","toCharacters","addSpecial","special","specialIndex","toIndexesInputOutput","dataFormatter","fromAllPrintable","addInputOutput","defaultRNNFormatter","validateAndCast","addUnrecognized","formatDataIn","fromArrayInputOutput","RNN","stepCache","runs","ratioClipped","model","equations","allMatrices","equationConnections","outputConnector","inputRange","mapModel","getModel","hiddenSize","lastHiddenSize","equation","equationConnection","initialLayerInputs","getEquation","inputMatrixToRow","createInputMatrix","createHiddenLayers","hiddenMatrix","createOutputMatrix","trainInput","backpropagate","log2ppl","bindEquation","inputIndex","inputMax","equationIndex","predictTargetIndex","backpropagateIndex","regc","clipval","numClipped","numTot","matrixIndex","rawInput","isSampleI","temperature","maxPredictionLength","previousIndex","outputMatrix","probs","formatDataOut","setupData","hiddenSizes","jsonString","matrixOrigin","stateIndex","previousConnectionIndex","connection","matrixToString","toInner","fileName","fnName","statesRaw","usedFunctionNames","innerFunctionsSwitch","toFunctionString","inputMatrix","previousResult","ArrayLookupTable","RNNTimeStep","runObject","runNumbers","runObjects","runArrays","forecast","forecastNumbers","forecastObjects","forecastArrays","setSize","trainInputOutput","trainArrays","trainNumbers","dataShape","toTable2D","toInputTable2D","toOutputTable2D","predictTarget","lastOutput","inputArray","toArrayShort","toObjectPartial","totalSize","outputIndex","toArrays","lookupTable","errorMSE","errorsAbs","errorCount","formatInputData","formatOutputData","forceForecast","LSTM","inputHidden","inputBias","forgetMatrix","forgetHidden","forgetBias","outputHidden","outputBias","cellActivationMatrix","cellActivationHidden","cellActivationBias","cellWrite","LSTMTimeStep","GRU","updateGateInputMatrix","updateGateHiddenMatrix","resetGateInputMatrix","resetGateHiddenMatrix","cellWriteInputMatrix","cellWriteHiddenMatrix","cellWriteBias","GRUTimeStep","recurrentJSONTypes","drawInput","pixelX","pixelY","radius","fontSize","fontClassName","svg","className","drawNeuron","hidden","drawOutput","drawBackwardConnections","lineY","neuralNetworkToSVG","previousSize","rnnToSVG","recurrentLine","drawRecurrentConnections","moveX","moveY","x1","y1","x2","y2","getFeedForwardLayers","layerCount","getRecurrentLayers","wrapSVG","svgBody","getSizes","toSVG","mergedOptions","isRNN","layerTypes","brain","recurrent","utilities"],"mappings":"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KAAJ,CAAU,kCAAV,CAAN;AACH,CAFD;;AAIA48E,OAAO,CAACuB,GAAR,GAAc,YAAY;AAAE,SAAO,GAAP;AAAY,CAAxC;;AACAvB,OAAO,CAACwB,KAAR,GAAgB,UAAUC,GAAV,EAAe;AAC3B,QAAM,IAAIr+E,KAAJ,CAAU,gCAAV,CAAN;AACH,CAFD;;AAGA48E,OAAO,CAAC0B,KAAR,GAAgB,YAAW;AAAE,SAAO,CAAP;AAAW,CAAxC;;;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7vDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;;AAEA,IAAIC,GAAG,GAAG/gF,OAAO,CAAC,sBAAD,CAAjB;AACA;;;AAEAT,MAAM,CAACC,OAAP,GAAiBwhF,QAAjB;AAEA;;AACA,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,QAAzB,EAAmCvL,EAAnC,EAAuC;AACrC,OAAKsL,KAAL,GAAaA,KAAb;AACA,OAAKC,QAAL,GAAgBA,QAAhB;AACA,OAAKzK,QAAL,GAAgBd,EAAhB;AACA,OAAK1/D,IAAL,GAAY,IAAZ;AACD,EAED;AACA;;;AACA,SAASkrE,aAAT,CAAuBvzD,KAAvB,EAA8B;AAC5B,MAAI3hB,KAAK,GAAG,IAAZ;;AAEA,OAAKgK,IAAL,GAAY,IAAZ;AACA,OAAKmrE,KAAL,GAAa,IAAb;;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KAAK++B,cAAL,CAAoBtB,SAA3B;AACD,GANoD;AAOrDr8E,EAAAA,GAAG,EAAE,UAAUrH,KAAV,EAAiB;AACpB;AACA;AACA,QAAI,CAAC,KAAKglF,cAAV,EAA0B;AACxB;AACD,KALmB,CAOpB;AACA;;;AACA,SAAKA,cAAL,CAAoBtB,SAApB,GAAgC1jF,KAAhC;AACD;AAjBoD,CAAvD;AAoBAohF,QAAQ,CAACxzE,SAAT,CAAmBgvB,OAAnB,GAA6B8lD,WAAW,CAAC9lD,OAAzC;AACAwkD,QAAQ,CAACxzE,SAAT,CAAmBu5E,UAAnB,GAAgCzE,WAAW,CAAC0E,SAA5C;;AACAhG,QAAQ,CAACxzE,SAAT,CAAmB03E,QAAnB,GAA8B,UAAUz8D,GAAV,EAAemtD,EAAf,EAAmB;AAC/C,OAAKpnE,GAAL;AACAonE,EAAAA,EAAE,CAACntD,GAAD,CAAF;AACD,CAHD;;AC3qBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACvSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;;ACDA;AACA;;ACDA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"brain-browser.js","sourceRoot":"../src","sourcesContent":["/**\n * Leaky Relu Activation, aka Leaky Rectified Linear Unit Activation\n * @description https://en.wikipedia.org/wiki/Rectifier_(neural_networks)\n * @param weight\n * @returns {number}\n */\nfunction activate(weight) {\n  return weight > 0 ? weight : 0.01 * weight;\n}\n\n/**\n * Leaky Relu derivative\n * @param weight\n * @param error\n * @returns {number}\n */\nfunction measure(weight, error) {\n  return weight > 0 ? error : 0.01 * error;\n}\n\nmodule.exports = { activate, measure };\n","/**\n * Relu Activation, aka Rectified Linear Unit Activation\n * @description https://en.wikipedia.org/wiki/Rectifier_(neural_networks)\n * @param weight\n * @returns {number}\n */\nfunction activate(weight) {\n  return Math.max(0, weight);\n}\n\n/**\n * Relu derivative\n * @param weight\n * @param delta\n * @returns {number}\n */\nfunction measure(weight, delta) {\n  if (weight <= 0) {\n    return 0;\n  }\n  return delta;\n}\n\nmodule.exports = { activate, measure };\n","/**\n * sigmoid activation\n * @param value\n * @returns {number}\n */\nfunction activate(value) {\n  return 1 / (1 + Math.exp(-value));\n}\n\n/**\n * sigmoid derivative\n * @param weight\n * @param error\n * @returns {number}\n */\nfunction measure(weight, error) {\n  return weight * (1 - weight) * error;\n}\n\nmodule.exports = { activate, measure };\n","/**\n *\n * @param weight\n * @returns {number}\n */\nfunction activate(weight) {\n  return Math.tanh(weight);\n}\n\n/**\n * @description grad for z = tanh(x) is (1 - z^2)\n * @param weight\n * @param error\n * @returns {number}\n */\nfunction measure(weight, error) {\n  return (1 - weight * weight) * error;\n}\n\nmodule.exports = { activate, measure };\n","const leakyRelu = require('./leaky-relu');\nconst relu = require('./relu');\nconst sigmoid = require('./sigmoid');\nconst tanh = require('./tanh');\n\nmodule.exports = { leakyRelu, relu, sigmoid, tanh };\n","class CrossValidate {\n\n  /**\n   *\n   * @param {NeuralNetwork|constructor} Classifier\n   * @param {object} [options]\n   */\n  constructor(Classifier, options) {\n    this.Classifier = Classifier;\n    this.options = options;\n    this.json = null;\n  }\n\n  /**\n   *\n   * @param {object} trainOpts\n   * @param {object} trainSet\n   * @param {object} testSet\n   * @returns {void|*}\n   */\n  testPartition(trainOpts, trainSet, testSet) {\n    const classifier = new this.Classifier(this.options);\n    const beginTrain = Date.now();\n    const trainingStats = classifier.train(trainSet, trainOpts);\n    const beginTest = Date.now();\n    const testStats = classifier.test(testSet);\n    const endTest = Date.now();\n    const stats = Object.assign({}, testStats, {\n      trainTime: beginTest - beginTrain,\n      testTime: endTest - beginTest,\n      iterations: trainingStats.iterations,\n      error: trainingStats.error,\n      total: testStats.total,\n      learningRate: classifier.trainOpts.learningRate,\n      hiddenLayers: classifier.hiddenLayers,\n      network: classifier.toJSON()\n    });\n\n    return stats;\n  }\n\n  /**\n   * Randomize array element order in-place.\n   * Using Durstenfeld shuffle algorithm.\n   * source: http://stackoverflow.com/a/12646864/1324039\n   */\n  shuffleArray(array) {\n    for (let i = array.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      let temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n    return array;\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} trainOpts\n   * @param {number} [k]\n   * @returns {\n   *  {\n   *    avgs: {\n   *      error: number,\n   *      trainTime: number,\n   *      testTime: number,\n   *      iterations: number,\n   *      error: number\n   *    },\n   *    stats: {\n   *      truePos: number,\n   *      trueNeg: number,\n   *      falsePos: number,\n   *      falseNeg: number,\n   *      total: number\n   *    },\n   *    sets: Array\n   *  }\n   * }\n   */\n  train(data, trainOpts = {}, k = 4) {\n    if (data.length < k) {\n      throw new Error(`Training set size is too small for ${ data.length } k folds of ${ k }`);\n    }\n\n    const size = data.length / k;\n\n    if (data.constructor === Array) {\n      this.shuffleArray(data);\n    } else {\n      const newData = {};\n      this.shuffleArray(Object.keys(data)).forEach((key) => {\n        newData[key] = data[key];\n      });\n      data = newData;\n    }\n\n    const avgs = {\n      trainTime: 0,\n      testTime: 0,\n      iterations: 0,\n      error: 0\n    };\n\n    const stats = {\n      total: 0\n    };\n\n    const binaryStats = {\n      total: 0,\n      truePos: 0,\n      trueNeg: 0,\n      falsePos: 0,\n      falseNeg: 0\n    };\n\n    const results = [];\n    let stat;\n    let isBinary = null;\n\n    for (let i = 0; i < k; i++) {\n      const dclone = data.slice(0);\n      const testSet = dclone.splice(i * size, size);\n      const trainSet = dclone;\n      const result = this.testPartition(trainOpts, trainSet, testSet);\n\n      if (isBinary === null) {\n        isBinary =\n          result.hasOwnProperty('falseNeg')\n          && result.hasOwnProperty('falsePos')\n          && result.hasOwnProperty('trueNeg')\n          && result.hasOwnProperty('truePos');\n        if (isBinary) {\n          Object.assign(stats, binaryStats);\n        }\n      }\n\n      for (stat in avgs) {\n        if (stat in avgs) {\n          avgs[stat] += result[stat];\n        }\n      }\n\n      for (stat in stats) {\n        if (stat in stats) {\n          stats[stat] += result[stat];\n        }\n      }\n\n      results.push(result);\n    }\n\n    for (stat in avgs) {\n      if (stat in avgs) {\n        avgs[stat] /= k;\n      }\n    }\n\n    if (isBinary) {\n      stats.precision = stats.truePos / (stats.truePos + stats.falsePos);\n      stats.recall = stats.truePos / (stats.truePos + stats.falseNeg);\n      stats.accuracy = (stats.trueNeg + stats.truePos) / stats.total;\n    }\n\n    stats.testSize = size;\n    stats.trainSize = data.length - size;\n\n\n    return this.json = {\n      avgs: avgs,\n      stats: stats,\n      sets: results\n    };\n  }\n\n  toNeuralNetwork() {\n    return this.fromJSON(this.json);\n  }\n\n  toJSON() {\n    return this.json;\n  }\n\n  fromJSON(crossValidateJson) {\n    const Classifier = this.Classifier;\n    const json = crossValidateJson.sets.reduce((prev, cur) => prev.error < cur.error ? prev : cur, {error: Infinity}).network;\n    if (Classifier.fromJSON) {\n      return Classifier.fromJSON(json);\n    }\n    const instance = new Classifier();\n    instance.fromJSON(json);\n    return instance;\n  }\n}\n\nmodule.exports = CrossValidate;\n","/**\n * gpu.js\n * http://gpu.rocks/\n *\n * GPU Accelerated JavaScript\n *\n * @version 2.9.4\n * @date Sat May 02 2020 11:46:49 GMT-0400 (Eastern Daylight Time)\n *\n * @license MIT\n * The MIT License\n *\n * Copyright (c) 2020 gpu.js Team\n */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GPU = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.acorn = {}));\n}(this, function (exports) { 'use strict';\n\n\n  var reservedWords = {\n    3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n    5: \"class enum extends super const export import\",\n    6: \"enum\",\n    strict: \"implements interface let package private protected public static yield\",\n    strictBind: \"eval arguments\"\n  };\n\n\n  var ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\n  var keywords = {\n    5: ecma5AndLessKeywords,\n    \"5module\": ecma5AndLessKeywords + \" export import\",\n    6: ecma5AndLessKeywords + \" const class extends export import super\"\n  };\n\n  var keywordRelationalOperator = /^in(stanceof)?$/;\n\n\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u08a0-\\u08b4\\u08b6-\\u08bd\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fef\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7bf\\ua7c2-\\ua7c6\\ua7f7-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab67\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08d3-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1df9\\u1dfb-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  nonASCIIidentifierStartChars = nonASCIIidentifierChars = null;\n\n\n  var astralIdentifierStartCodes = [0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541];\n\n  var astralIdentifierCodes = [509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];\n\n  function isInAstralSet(code, set) {\n    var pos = 0x10000;\n    for (var i = 0; i < set.length; i += 2) {\n      pos += set[i];\n      if (pos > code) { return false }\n      pos += set[i + 1];\n      if (pos >= code) { return true }\n    }\n  }\n\n\n  function isIdentifierStart(code, astral) {\n    if (code < 65) { return code === 36 }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes)\n  }\n\n\n  function isIdentifierChar(code, astral) {\n    if (code < 48) { return code === 36 }\n    if (code < 58) { return true }\n    if (code < 65) { return false }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n  }\n\n\n\n\n\n  var TokenType = function TokenType(label, conf) {\n    if ( conf === void 0 ) conf = {};\n\n    this.label = label;\n    this.keyword = conf.keyword;\n    this.beforeExpr = !!conf.beforeExpr;\n    this.startsExpr = !!conf.startsExpr;\n    this.isLoop = !!conf.isLoop;\n    this.isAssign = !!conf.isAssign;\n    this.prefix = !!conf.prefix;\n    this.postfix = !!conf.postfix;\n    this.binop = conf.binop || null;\n    this.updateContext = null;\n  };\n\n  function binop(name, prec) {\n    return new TokenType(name, {beforeExpr: true, binop: prec})\n  }\n  var beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n\n  var keywords$1 = {};\n\n  function kw(name, options) {\n    if ( options === void 0 ) options = {};\n\n    options.keyword = name;\n    return keywords$1[name] = new TokenType(name, options)\n  }\n\n  var types = {\n    num: new TokenType(\"num\", startsExpr),\n    regexp: new TokenType(\"regexp\", startsExpr),\n    string: new TokenType(\"string\", startsExpr),\n    name: new TokenType(\"name\", startsExpr),\n    eof: new TokenType(\"eof\"),\n\n    bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n    bracketR: new TokenType(\"]\"),\n    braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n    braceR: new TokenType(\"}\"),\n    parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n    parenR: new TokenType(\")\"),\n    comma: new TokenType(\",\", beforeExpr),\n    semi: new TokenType(\";\", beforeExpr),\n    colon: new TokenType(\":\", beforeExpr),\n    dot: new TokenType(\".\"),\n    question: new TokenType(\"?\", beforeExpr),\n    arrow: new TokenType(\"=>\", beforeExpr),\n    template: new TokenType(\"template\"),\n    invalidTemplate: new TokenType(\"invalidTemplate\"),\n    ellipsis: new TokenType(\"...\", beforeExpr),\n    backQuote: new TokenType(\"`\", startsExpr),\n    dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n\n    eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n    assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n    incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n    prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    logicalOR: binop(\"||\", 1),\n    logicalAND: binop(\"&&\", 2),\n    bitwiseOR: binop(\"|\", 3),\n    bitwiseXOR: binop(\"^\", 4),\n    bitwiseAND: binop(\"&\", 5),\n    equality: binop(\"==/!=/===/!==\", 6),\n    relational: binop(\"</>/<=/>=\", 7),\n    bitShift: binop(\"<</>>/>>>\", 8),\n    plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n    modulo: binop(\"%\", 10),\n    star: binop(\"*\", 10),\n    slash: binop(\"/\", 10),\n    starstar: new TokenType(\"**\", {beforeExpr: true}),\n\n    _break: kw(\"break\"),\n    _case: kw(\"case\", beforeExpr),\n    _catch: kw(\"catch\"),\n    _continue: kw(\"continue\"),\n    _debugger: kw(\"debugger\"),\n    _default: kw(\"default\", beforeExpr),\n    _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n    _else: kw(\"else\", beforeExpr),\n    _finally: kw(\"finally\"),\n    _for: kw(\"for\", {isLoop: true}),\n    _function: kw(\"function\", startsExpr),\n    _if: kw(\"if\"),\n    _return: kw(\"return\", beforeExpr),\n    _switch: kw(\"switch\"),\n    _throw: kw(\"throw\", beforeExpr),\n    _try: kw(\"try\"),\n    _var: kw(\"var\"),\n    _const: kw(\"const\"),\n    _while: kw(\"while\", {isLoop: true}),\n    _with: kw(\"with\"),\n    _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n    _this: kw(\"this\", startsExpr),\n    _super: kw(\"super\", startsExpr),\n    _class: kw(\"class\", startsExpr),\n    _extends: kw(\"extends\", beforeExpr),\n    _export: kw(\"export\"),\n    _import: kw(\"import\", startsExpr),\n    _null: kw(\"null\", startsExpr),\n    _true: kw(\"true\", startsExpr),\n    _false: kw(\"false\", startsExpr),\n    _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n    _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n    _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n  };\n\n\n  var lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\n  var lineBreakG = new RegExp(lineBreak.source, \"g\");\n\n  function isNewLine(code, ecma2019String) {\n    return code === 10 || code === 13 || (!ecma2019String && (code === 0x2028 || code === 0x2029))\n  }\n\n  var nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\n  var skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\n  var ref = Object.prototype;\n  var hasOwnProperty = ref.hasOwnProperty;\n  var toString = ref.toString;\n\n\n  function has(obj, propName) {\n    return hasOwnProperty.call(obj, propName)\n  }\n\n  var isArray = Array.isArray || (function (obj) { return (\n    toString.call(obj) === \"[object Array]\"\n  ); });\n\n  function wordsRegexp(words) {\n    return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\")\n  }\n\n\n  var Position = function Position(line, col) {\n    this.line = line;\n    this.column = col;\n  };\n\n  Position.prototype.offset = function offset (n) {\n    return new Position(this.line, this.column + n)\n  };\n\n  var SourceLocation = function SourceLocation(p, start, end) {\n    this.start = start;\n    this.end = end;\n    if (p.sourceFile !== null) { this.source = p.sourceFile; }\n  };\n\n\n  function getLineInfo(input, offset) {\n    for (var line = 1, cur = 0;;) {\n      lineBreakG.lastIndex = cur;\n      var match = lineBreakG.exec(input);\n      if (match && match.index < offset) {\n        ++line;\n        cur = match.index + match[0].length;\n      } else {\n        return new Position(line, offset - cur)\n      }\n    }\n  }\n\n\n  var defaultOptions = {\n    ecmaVersion: 10,\n    sourceType: \"script\",\n    onInsertedSemicolon: null,\n    onTrailingComma: null,\n    allowReserved: null,\n    allowReturnOutsideFunction: false,\n    allowImportExportEverywhere: false,\n    allowAwaitOutsideFunction: false,\n    allowHashBang: false,\n    locations: false,\n    onToken: null,\n    onComment: null,\n    ranges: false,\n    program: null,\n    sourceFile: null,\n    directSourceFile: null,\n    preserveParens: false\n  };\n\n\n  function getOptions(opts) {\n    var options = {};\n\n    for (var opt in defaultOptions)\n      { options[opt] = opts && has(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n    if (options.ecmaVersion >= 2015)\n      { options.ecmaVersion -= 2009; }\n\n    if (options.allowReserved == null)\n      { options.allowReserved = options.ecmaVersion < 5; }\n\n    if (isArray(options.onToken)) {\n      var tokens = options.onToken;\n      options.onToken = function (token) { return tokens.push(token); };\n    }\n    if (isArray(options.onComment))\n      { options.onComment = pushComment(options, options.onComment); }\n\n    return options\n  }\n\n  function pushComment(options, array) {\n    return function(block, text, start, end, startLoc, endLoc) {\n      var comment = {\n        type: block ? \"Block\" : \"Line\",\n        value: text,\n        start: start,\n        end: end\n      };\n      if (options.locations)\n        { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n      if (options.ranges)\n        { comment.range = [start, end]; }\n      array.push(comment);\n    }\n  }\n\n  var\n      SCOPE_TOP = 1,\n      SCOPE_FUNCTION = 2,\n      SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION,\n      SCOPE_ASYNC = 4,\n      SCOPE_GENERATOR = 8,\n      SCOPE_ARROW = 16,\n      SCOPE_SIMPLE_CATCH = 32,\n      SCOPE_SUPER = 64,\n      SCOPE_DIRECT_SUPER = 128;\n\n  function functionFlags(async, generator) {\n    return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n  }\n\n  var\n      BIND_NONE = 0, \n      BIND_VAR = 1, \n      BIND_LEXICAL = 2, \n      BIND_FUNCTION = 3, \n      BIND_SIMPLE_CATCH = 4, \n      BIND_OUTSIDE = 5; \n\n  var Parser = function Parser(options, input, startPos) {\n    this.options = options = getOptions(options);\n    this.sourceFile = options.sourceFile;\n    this.keywords = wordsRegexp(keywords[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n    var reserved = \"\";\n    if (options.allowReserved !== true) {\n      for (var v = options.ecmaVersion;; v--)\n        { if (reserved = reservedWords[v]) { break } }\n      if (options.sourceType === \"module\") { reserved += \" await\"; }\n    }\n    this.reservedWords = wordsRegexp(reserved);\n    var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n    this.reservedWordsStrict = wordsRegexp(reservedStrict);\n    this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n    this.input = String(input);\n\n    this.containsEsc = false;\n\n\n    if (startPos) {\n      this.pos = startPos;\n      this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n      this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n    } else {\n      this.pos = this.lineStart = 0;\n      this.curLine = 1;\n    }\n\n    this.type = types.eof;\n    this.value = null;\n    this.start = this.end = this.pos;\n    this.startLoc = this.endLoc = this.curPosition();\n\n    this.lastTokEndLoc = this.lastTokStartLoc = null;\n    this.lastTokStart = this.lastTokEnd = this.pos;\n\n    this.context = this.initialContext();\n    this.exprAllowed = true;\n\n    this.inModule = options.sourceType === \"module\";\n    this.strict = this.inModule || this.strictDirective(this.pos);\n\n    this.potentialArrowAt = -1;\n\n    this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n    this.labels = [];\n    this.undefinedExports = {};\n\n    if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n      { this.skipLineComment(2); }\n\n    this.scopeStack = [];\n    this.enterScope(SCOPE_TOP);\n\n    this.regexpState = null;\n  };\n\n  var prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true } };\n\n  Parser.prototype.parse = function parse () {\n    var node = this.options.program || this.startNode();\n    this.nextToken();\n    return this.parseTopLevel(node)\n  };\n\n  prototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\n  prototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 };\n  prototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 };\n  prototypeAccessors.allowSuper.get = function () { return (this.currentThisScope().flags & SCOPE_SUPER) > 0 };\n  prototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\n  prototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\n  Parser.prototype.inNonArrowFunction = function inNonArrowFunction () { return (this.currentThisScope().flags & SCOPE_FUNCTION) > 0 };\n\n  Parser.extend = function extend () {\n      var plugins = [], len = arguments.length;\n      while ( len-- ) plugins[ len ] = arguments[ len ];\n\n    var cls = this;\n    for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n    return cls\n  };\n\n  Parser.parse = function parse (input, options) {\n    return new this(options, input).parse()\n  };\n\n  Parser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n    var parser = new this(options, input, pos);\n    parser.nextToken();\n    return parser.parseExpression()\n  };\n\n  Parser.tokenizer = function tokenizer (input, options) {\n    return new this(options, input)\n  };\n\n  Object.defineProperties( Parser.prototype, prototypeAccessors );\n\n  var pp = Parser.prototype;\n\n\n  var literal = /^(?:'((?:\\\\.|[^'])*?)'|\"((?:\\\\.|[^\"])*?)\")/;\n  pp.strictDirective = function(start) {\n    for (;;) {\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      var match = literal.exec(this.input.slice(start));\n      if (!match) { return false }\n      if ((match[1] || match[2]) === \"use strict\") { return true }\n      start += match[0].length;\n\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      if (this.input[start] === \";\")\n        { start++; }\n    }\n  };\n\n\n  pp.eat = function(type) {\n    if (this.type === type) {\n      this.next();\n      return true\n    } else {\n      return false\n    }\n  };\n\n\n  pp.isContextual = function(name) {\n    return this.type === types.name && this.value === name && !this.containsEsc\n  };\n\n\n  pp.eatContextual = function(name) {\n    if (!this.isContextual(name)) { return false }\n    this.next();\n    return true\n  };\n\n\n  pp.expectContextual = function(name) {\n    if (!this.eatContextual(name)) { this.unexpected(); }\n  };\n\n\n  pp.canInsertSemicolon = function() {\n    return this.type === types.eof ||\n      this.type === types.braceR ||\n      lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n  pp.insertSemicolon = function() {\n    if (this.canInsertSemicolon()) {\n      if (this.options.onInsertedSemicolon)\n        { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n      return true\n    }\n  };\n\n\n  pp.semicolon = function() {\n    if (!this.eat(types.semi) && !this.insertSemicolon()) { this.unexpected(); }\n  };\n\n  pp.afterTrailingComma = function(tokType, notNext) {\n    if (this.type === tokType) {\n      if (this.options.onTrailingComma)\n        { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n      if (!notNext)\n        { this.next(); }\n      return true\n    }\n  };\n\n\n  pp.expect = function(type) {\n    this.eat(type) || this.unexpected();\n  };\n\n\n  pp.unexpected = function(pos) {\n    this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n  };\n\n  function DestructuringErrors() {\n    this.shorthandAssign =\n    this.trailingComma =\n    this.parenthesizedAssign =\n    this.parenthesizedBind =\n    this.doubleProto =\n      -1;\n  }\n\n  pp.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n    if (!refDestructuringErrors) { return }\n    if (refDestructuringErrors.trailingComma > -1)\n      { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n    var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n    if (parens > -1) { this.raiseRecoverable(parens, \"Parenthesized pattern\"); }\n  };\n\n  pp.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n    if (!refDestructuringErrors) { return false }\n    var shorthandAssign = refDestructuringErrors.shorthandAssign;\n    var doubleProto = refDestructuringErrors.doubleProto;\n    if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n    if (shorthandAssign >= 0)\n      { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n    if (doubleProto >= 0)\n      { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n  };\n\n  pp.checkYieldAwaitInDefaultParams = function() {\n    if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n      { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n    if (this.awaitPos)\n      { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n  };\n\n  pp.isSimpleAssignTarget = function(expr) {\n    if (expr.type === \"ParenthesizedExpression\")\n      { return this.isSimpleAssignTarget(expr.expression) }\n    return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n  };\n\n  var pp$1 = Parser.prototype;\n\n\n\n  pp$1.parseTopLevel = function(node) {\n    var exports = {};\n    if (!node.body) { node.body = []; }\n    while (this.type !== types.eof) {\n      var stmt = this.parseStatement(null, true, exports);\n      node.body.push(stmt);\n    }\n    if (this.inModule)\n      { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n        {\n          var name = list[i];\n\n          this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n        } }\n    this.adaptDirectivePrologue(node.body);\n    this.next();\n    node.sourceType = this.options.sourceType;\n    return this.finishNode(node, \"Program\")\n  };\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  pp$1.isLet = function(context) {\n    if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n    if (nextCh === 91) { return true } \n    if (context) { return false }\n\n    if (nextCh === 123) { return true } \n    if (isIdentifierStart(nextCh, true)) {\n      var pos = next + 1;\n      while (isIdentifierChar(this.input.charCodeAt(pos), true)) { ++pos; }\n      var ident = this.input.slice(next, pos);\n      if (!keywordRelationalOperator.test(ident)) { return true }\n    }\n    return false\n  };\n\n  pp$1.isAsyncFunction = function() {\n    if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n      { return false }\n\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length;\n    return !lineBreak.test(this.input.slice(this.pos, next)) &&\n      this.input.slice(next, next + 8) === \"function\" &&\n      (next + 8 === this.input.length || !isIdentifierChar(this.input.charAt(next + 8)))\n  };\n\n\n  pp$1.parseStatement = function(context, topLevel, exports) {\n    var starttype = this.type, node = this.startNode(), kind;\n\n    if (this.isLet(context)) {\n      starttype = types._var;\n      kind = \"let\";\n    }\n\n\n    switch (starttype) {\n    case types._break: case types._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n    case types._debugger: return this.parseDebuggerStatement(node)\n    case types._do: return this.parseDoStatement(node)\n    case types._for: return this.parseForStatement(node)\n    case types._function:\n      if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n      return this.parseFunctionStatement(node, false, !context)\n    case types._class:\n      if (context) { this.unexpected(); }\n      return this.parseClass(node, true)\n    case types._if: return this.parseIfStatement(node)\n    case types._return: return this.parseReturnStatement(node)\n    case types._switch: return this.parseSwitchStatement(node)\n    case types._throw: return this.parseThrowStatement(node)\n    case types._try: return this.parseTryStatement(node)\n    case types._const: case types._var:\n      kind = kind || this.value;\n      if (context && kind !== \"var\") { this.unexpected(); }\n      return this.parseVarStatement(node, kind)\n    case types._while: return this.parseWhileStatement(node)\n    case types._with: return this.parseWithStatement(node)\n    case types.braceL: return this.parseBlock(true, node)\n    case types.semi: return this.parseEmptyStatement(node)\n    case types._export:\n    case types._import:\n      if (this.options.ecmaVersion > 10 && starttype === types._import) {\n        skipWhiteSpace.lastIndex = this.pos;\n        var skip = skipWhiteSpace.exec(this.input);\n        var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n        if (nextCh === 40) \n          { return this.parseExpressionStatement(node, this.parseExpression()) }\n      }\n\n      if (!this.options.allowImportExportEverywhere) {\n        if (!topLevel)\n          { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n        if (!this.inModule)\n          { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n      }\n      return starttype === types._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n    default:\n      if (this.isAsyncFunction()) {\n        if (context) { this.unexpected(); }\n        this.next();\n        return this.parseFunctionStatement(node, true, !context)\n      }\n\n      var maybeName = this.value, expr = this.parseExpression();\n      if (starttype === types.name && expr.type === \"Identifier\" && this.eat(types.colon))\n        { return this.parseLabeledStatement(node, maybeName, expr, context) }\n      else { return this.parseExpressionStatement(node, expr) }\n    }\n  };\n\n  pp$1.parseBreakContinueStatement = function(node, keyword) {\n    var isBreak = keyword === \"break\";\n    this.next();\n    if (this.eat(types.semi) || this.insertSemicolon()) { node.label = null; }\n    else if (this.type !== types.name) { this.unexpected(); }\n    else {\n      node.label = this.parseIdent();\n      this.semicolon();\n    }\n\n    var i = 0;\n    for (; i < this.labels.length; ++i) {\n      var lab = this.labels[i];\n      if (node.label == null || lab.name === node.label.name) {\n        if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n        if (node.label && isBreak) { break }\n      }\n    }\n    if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n    return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n  };\n\n  pp$1.parseDebuggerStatement = function(node) {\n    this.next();\n    this.semicolon();\n    return this.finishNode(node, \"DebuggerStatement\")\n  };\n\n  pp$1.parseDoStatement = function(node) {\n    this.next();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"do\");\n    this.labels.pop();\n    this.expect(types._while);\n    node.test = this.parseParenExpression();\n    if (this.options.ecmaVersion >= 6)\n      { this.eat(types.semi); }\n    else\n      { this.semicolon(); }\n    return this.finishNode(node, \"DoWhileStatement\")\n  };\n\n\n  pp$1.parseForStatement = function(node) {\n    this.next();\n    var awaitAt = (this.options.ecmaVersion >= 9 && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction)) && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n    this.labels.push(loopLabel);\n    this.enterScope(0);\n    this.expect(types.parenL);\n    if (this.type === types.semi) {\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, null)\n    }\n    var isLet = this.isLet();\n    if (this.type === types._var || this.type === types._const || isLet) {\n      var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n      this.next();\n      this.parseVar(init$1, true, kind);\n      this.finishNode(init$1, \"VariableDeclaration\");\n      if ((this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n        if (this.options.ecmaVersion >= 9) {\n          if (this.type === types._in) {\n            if (awaitAt > -1) { this.unexpected(awaitAt); }\n          } else { node.await = awaitAt > -1; }\n        }\n        return this.parseForIn(node, init$1)\n      }\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, init$1)\n    }\n    var refDestructuringErrors = new DestructuringErrors;\n    var init = this.parseExpression(true, refDestructuringErrors);\n    if (this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types._in) {\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\n        } else { node.await = awaitAt > -1; }\n      }\n      this.toAssignable(init, false, refDestructuringErrors);\n      this.checkLVal(init);\n      return this.parseForIn(node, init)\n    } else {\n      this.checkExpressionErrors(refDestructuringErrors, true);\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init)\n  };\n\n  pp$1.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n    this.next();\n    return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n  };\n\n  pp$1.parseIfStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    node.consequent = this.parseStatement(\"if\");\n    node.alternate = this.eat(types._else) ? this.parseStatement(\"if\") : null;\n    return this.finishNode(node, \"IfStatement\")\n  };\n\n  pp$1.parseReturnStatement = function(node) {\n    if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n      { this.raise(this.start, \"'return' outside of function\"); }\n    this.next();\n\n\n    if (this.eat(types.semi) || this.insertSemicolon()) { node.argument = null; }\n    else { node.argument = this.parseExpression(); this.semicolon(); }\n    return this.finishNode(node, \"ReturnStatement\")\n  };\n\n  pp$1.parseSwitchStatement = function(node) {\n    this.next();\n    node.discriminant = this.parseParenExpression();\n    node.cases = [];\n    this.expect(types.braceL);\n    this.labels.push(switchLabel);\n    this.enterScope(0);\n\n\n    var cur;\n    for (var sawDefault = false; this.type !== types.braceR;) {\n      if (this.type === types._case || this.type === types._default) {\n        var isCase = this.type === types._case;\n        if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n        node.cases.push(cur = this.startNode());\n        cur.consequent = [];\n        this.next();\n        if (isCase) {\n          cur.test = this.parseExpression();\n        } else {\n          if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n          sawDefault = true;\n          cur.test = null;\n        }\n        this.expect(types.colon);\n      } else {\n        if (!cur) { this.unexpected(); }\n        cur.consequent.push(this.parseStatement(null));\n      }\n    }\n    this.exitScope();\n    if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n    this.next(); \n    this.labels.pop();\n    return this.finishNode(node, \"SwitchStatement\")\n  };\n\n  pp$1.parseThrowStatement = function(node) {\n    this.next();\n    if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n      { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n    node.argument = this.parseExpression();\n    this.semicolon();\n    return this.finishNode(node, \"ThrowStatement\")\n  };\n\n\n  var empty = [];\n\n  pp$1.parseTryStatement = function(node) {\n    this.next();\n    node.block = this.parseBlock();\n    node.handler = null;\n    if (this.type === types._catch) {\n      var clause = this.startNode();\n      this.next();\n      if (this.eat(types.parenL)) {\n        clause.param = this.parseBindingAtom();\n        var simple = clause.param.type === \"Identifier\";\n        this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n        this.checkLVal(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n        this.expect(types.parenR);\n      } else {\n        if (this.options.ecmaVersion < 10) { this.unexpected(); }\n        clause.param = null;\n        this.enterScope(0);\n      }\n      clause.body = this.parseBlock(false);\n      this.exitScope();\n      node.handler = this.finishNode(clause, \"CatchClause\");\n    }\n    node.finalizer = this.eat(types._finally) ? this.parseBlock() : null;\n    if (!node.handler && !node.finalizer)\n      { this.raise(node.start, \"Missing catch or finally clause\"); }\n    return this.finishNode(node, \"TryStatement\")\n  };\n\n  pp$1.parseVarStatement = function(node, kind) {\n    this.next();\n    this.parseVar(node, false, kind);\n    this.semicolon();\n    return this.finishNode(node, \"VariableDeclaration\")\n  };\n\n  pp$1.parseWhileStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"while\");\n    this.labels.pop();\n    return this.finishNode(node, \"WhileStatement\")\n  };\n\n  pp$1.parseWithStatement = function(node) {\n    if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n    this.next();\n    node.object = this.parseParenExpression();\n    node.body = this.parseStatement(\"with\");\n    return this.finishNode(node, \"WithStatement\")\n  };\n\n  pp$1.parseEmptyStatement = function(node) {\n    this.next();\n    return this.finishNode(node, \"EmptyStatement\")\n  };\n\n  pp$1.parseLabeledStatement = function(node, maybeName, expr, context) {\n    for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n      {\n      var label = list[i$1];\n\n      if (label.name === maybeName)\n        { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n    } }\n    var kind = this.type.isLoop ? \"loop\" : this.type === types._switch ? \"switch\" : null;\n    for (var i = this.labels.length - 1; i >= 0; i--) {\n      var label$1 = this.labels[i];\n      if (label$1.statementStart === node.start) {\n        label$1.statementStart = this.start;\n        label$1.kind = kind;\n      } else { break }\n    }\n    this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n    node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n    this.labels.pop();\n    node.label = expr;\n    return this.finishNode(node, \"LabeledStatement\")\n  };\n\n  pp$1.parseExpressionStatement = function(node, expr) {\n    node.expression = expr;\n    this.semicolon();\n    return this.finishNode(node, \"ExpressionStatement\")\n  };\n\n\n  pp$1.parseBlock = function(createNewLexicalScope, node) {\n    if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n    if ( node === void 0 ) node = this.startNode();\n\n    node.body = [];\n    this.expect(types.braceL);\n    if (createNewLexicalScope) { this.enterScope(0); }\n    while (!this.eat(types.braceR)) {\n      var stmt = this.parseStatement(null);\n      node.body.push(stmt);\n    }\n    if (createNewLexicalScope) { this.exitScope(); }\n    return this.finishNode(node, \"BlockStatement\")\n  };\n\n\n  pp$1.parseFor = function(node, init) {\n    node.init = init;\n    this.expect(types.semi);\n    node.test = this.type === types.semi ? null : this.parseExpression();\n    this.expect(types.semi);\n    node.update = this.type === types.parenR ? null : this.parseExpression();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, \"ForStatement\")\n  };\n\n\n  pp$1.parseForIn = function(node, init) {\n    var isForIn = this.type === types._in;\n    this.next();\n\n    if (\n      init.type === \"VariableDeclaration\" &&\n      init.declarations[0].init != null &&\n      (\n        !isForIn ||\n        this.options.ecmaVersion < 8 ||\n        this.strict ||\n        init.kind !== \"var\" ||\n        init.declarations[0].id.type !== \"Identifier\"\n      )\n    ) {\n      this.raise(\n        init.start,\n        ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n      );\n    } else if (init.type === \"AssignmentPattern\") {\n      this.raise(init.start, \"Invalid left-hand side in for-loop\");\n    }\n    node.left = init;\n    node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n  };\n\n\n  pp$1.parseVar = function(node, isFor, kind) {\n    node.declarations = [];\n    node.kind = kind;\n    for (;;) {\n      var decl = this.startNode();\n      this.parseVarId(decl, kind);\n      if (this.eat(types.eq)) {\n        decl.init = this.parseMaybeAssign(isFor);\n      } else if (kind === \"const\" && !(this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n        this.unexpected();\n      } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types._in || this.isContextual(\"of\")))) {\n        this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n      } else {\n        decl.init = null;\n      }\n      node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n      if (!this.eat(types.comma)) { break }\n    }\n    return node\n  };\n\n  pp$1.parseVarId = function(decl, kind) {\n    decl.id = this.parseBindingAtom();\n    this.checkLVal(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n  };\n\n  var FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n\n  pp$1.parseFunction = function(node, statement, allowExpressionBody, isAsync) {\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n      if (this.type === types.star && (statement & FUNC_HANGING_STATEMENT))\n        { this.unexpected(); }\n      node.generator = this.eat(types.star);\n    }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    if (statement & FUNC_STATEMENT) {\n      node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types.name ? null : this.parseIdent();\n      if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n        { this.checkLVal(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n    }\n\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(node.async, node.generator));\n\n    if (!(statement & FUNC_STATEMENT))\n      { node.id = this.type === types.name ? this.parseIdent() : null; }\n\n    this.parseFunctionParams(node);\n    this.parseFunctionBody(node, allowExpressionBody, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n  };\n\n  pp$1.parseFunctionParams = function(node) {\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n  };\n\n\n  pp$1.parseClass = function(node, isStatement) {\n    this.next();\n\n    var oldStrict = this.strict;\n    this.strict = true;\n\n    this.parseClassId(node, isStatement);\n    this.parseClassSuper(node);\n    var classBody = this.startNode();\n    var hadConstructor = false;\n    classBody.body = [];\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      var element = this.parseClassElement(node.superClass !== null);\n      if (element) {\n        classBody.body.push(element);\n        if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n          if (hadConstructor) { this.raise(element.start, \"Duplicate constructor in the same class\"); }\n          hadConstructor = true;\n        }\n      }\n    }\n    node.body = this.finishNode(classBody, \"ClassBody\");\n    this.strict = oldStrict;\n    return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n  };\n\n  pp$1.parseClassElement = function(constructorAllowsSuper) {\n    var this$1 = this;\n\n    if (this.eat(types.semi)) { return null }\n\n    var method = this.startNode();\n    var tryContextual = function (k, noLineBreak) {\n      if ( noLineBreak === void 0 ) noLineBreak = false;\n\n      var start = this$1.start, startLoc = this$1.startLoc;\n      if (!this$1.eatContextual(k)) { return false }\n      if (this$1.type !== types.parenL && (!noLineBreak || !this$1.canInsertSemicolon())) { return true }\n      if (method.key) { this$1.unexpected(); }\n      method.computed = false;\n      method.key = this$1.startNodeAt(start, startLoc);\n      method.key.name = k;\n      this$1.finishNode(method.key, \"Identifier\");\n      return false\n    };\n\n    method.kind = \"method\";\n    method.static = tryContextual(\"static\");\n    var isGenerator = this.eat(types.star);\n    var isAsync = false;\n    if (!isGenerator) {\n      if (this.options.ecmaVersion >= 8 && tryContextual(\"async\", true)) {\n        isAsync = true;\n        isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      } else if (tryContextual(\"get\")) {\n        method.kind = \"get\";\n      } else if (tryContextual(\"set\")) {\n        method.kind = \"set\";\n      }\n    }\n    if (!method.key) { this.parsePropertyName(method); }\n    var key = method.key;\n    var allowsDirectSuper = false;\n    if (!method.computed && !method.static && (key.type === \"Identifier\" && key.name === \"constructor\" ||\n        key.type === \"Literal\" && key.value === \"constructor\")) {\n      if (method.kind !== \"method\") { this.raise(key.start, \"Constructor can't have get/set modifier\"); }\n      if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n      if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n      method.kind = \"constructor\";\n      allowsDirectSuper = constructorAllowsSuper;\n    } else if (method.static && key.type === \"Identifier\" && key.name === \"prototype\") {\n      this.raise(key.start, \"Classes may not have a static property named prototype\");\n    }\n    this.parseClassMethod(method, isGenerator, isAsync, allowsDirectSuper);\n    if (method.kind === \"get\" && method.value.params.length !== 0)\n      { this.raiseRecoverable(method.value.start, \"getter should have no params\"); }\n    if (method.kind === \"set\" && method.value.params.length !== 1)\n      { this.raiseRecoverable(method.value.start, \"setter should have exactly one param\"); }\n    if (method.kind === \"set\" && method.value.params[0].type === \"RestElement\")\n      { this.raiseRecoverable(method.value.params[0].start, \"Setter cannot use rest params\"); }\n    return method\n  };\n\n  pp$1.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n    method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n    return this.finishNode(method, \"MethodDefinition\")\n  };\n\n  pp$1.parseClassId = function(node, isStatement) {\n    if (this.type === types.name) {\n      node.id = this.parseIdent();\n      if (isStatement)\n        { this.checkLVal(node.id, BIND_LEXICAL, false); }\n    } else {\n      if (isStatement === true)\n        { this.unexpected(); }\n      node.id = null;\n    }\n  };\n\n  pp$1.parseClassSuper = function(node) {\n    node.superClass = this.eat(types._extends) ? this.parseExprSubscripts() : null;\n  };\n\n\n  pp$1.parseExport = function(node, exports) {\n    this.next();\n    if (this.eat(types.star)) {\n      this.expectContextual(\"from\");\n      if (this.type !== types.string) { this.unexpected(); }\n      node.source = this.parseExprAtom();\n      this.semicolon();\n      return this.finishNode(node, \"ExportAllDeclaration\")\n    }\n    if (this.eat(types._default)) { \n      this.checkExport(exports, \"default\", this.lastTokStart);\n      var isAsync;\n      if (this.type === types._function || (isAsync = this.isAsyncFunction())) {\n        var fNode = this.startNode();\n        this.next();\n        if (isAsync) { this.next(); }\n        node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\n      } else if (this.type === types._class) {\n        var cNode = this.startNode();\n        node.declaration = this.parseClass(cNode, \"nullableID\");\n      } else {\n        node.declaration = this.parseMaybeAssign();\n        this.semicolon();\n      }\n      return this.finishNode(node, \"ExportDefaultDeclaration\")\n    }\n    if (this.shouldParseExportStatement()) {\n      node.declaration = this.parseStatement(null);\n      if (node.declaration.type === \"VariableDeclaration\")\n        { this.checkVariableExport(exports, node.declaration.declarations); }\n      else\n        { this.checkExport(exports, node.declaration.id.name, node.declaration.id.start); }\n      node.specifiers = [];\n      node.source = null;\n    } else { \n      node.declaration = null;\n      node.specifiers = this.parseExportSpecifiers(exports);\n      if (this.eatContextual(\"from\")) {\n        if (this.type !== types.string) { this.unexpected(); }\n        node.source = this.parseExprAtom();\n      } else {\n        for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n          var spec = list[i];\n\n          this.checkUnreserved(spec.local);\n          this.checkLocalExport(spec.local);\n        }\n\n        node.source = null;\n      }\n      this.semicolon();\n    }\n    return this.finishNode(node, \"ExportNamedDeclaration\")\n  };\n\n  pp$1.checkExport = function(exports, name, pos) {\n    if (!exports) { return }\n    if (has(exports, name))\n      { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n    exports[name] = true;\n  };\n\n  pp$1.checkPatternExport = function(exports, pat) {\n    var type = pat.type;\n    if (type === \"Identifier\")\n      { this.checkExport(exports, pat.name, pat.start); }\n    else if (type === \"ObjectPattern\")\n      { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n        {\n          var prop = list[i];\n\n          this.checkPatternExport(exports, prop);\n        } }\n    else if (type === \"ArrayPattern\")\n      { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n        var elt = list$1[i$1];\n\n          if (elt) { this.checkPatternExport(exports, elt); }\n      } }\n    else if (type === \"Property\")\n      { this.checkPatternExport(exports, pat.value); }\n    else if (type === \"AssignmentPattern\")\n      { this.checkPatternExport(exports, pat.left); }\n    else if (type === \"RestElement\")\n      { this.checkPatternExport(exports, pat.argument); }\n    else if (type === \"ParenthesizedExpression\")\n      { this.checkPatternExport(exports, pat.expression); }\n  };\n\n  pp$1.checkVariableExport = function(exports, decls) {\n    if (!exports) { return }\n    for (var i = 0, list = decls; i < list.length; i += 1)\n      {\n      var decl = list[i];\n\n      this.checkPatternExport(exports, decl.id);\n    }\n  };\n\n  pp$1.shouldParseExportStatement = function() {\n    return this.type.keyword === \"var\" ||\n      this.type.keyword === \"const\" ||\n      this.type.keyword === \"class\" ||\n      this.type.keyword === \"function\" ||\n      this.isLet() ||\n      this.isAsyncFunction()\n  };\n\n\n  pp$1.parseExportSpecifiers = function(exports) {\n    var nodes = [], first = true;\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var node = this.startNode();\n      node.local = this.parseIdent(true);\n      node.exported = this.eatContextual(\"as\") ? this.parseIdent(true) : node.local;\n      this.checkExport(exports, node.exported.name, node.exported.start);\n      nodes.push(this.finishNode(node, \"ExportSpecifier\"));\n    }\n    return nodes\n  };\n\n\n  pp$1.parseImport = function(node) {\n    this.next();\n    if (this.type === types.string) {\n      node.specifiers = empty;\n      node.source = this.parseExprAtom();\n    } else {\n      node.specifiers = this.parseImportSpecifiers();\n      this.expectContextual(\"from\");\n      node.source = this.type === types.string ? this.parseExprAtom() : this.unexpected();\n    }\n    this.semicolon();\n    return this.finishNode(node, \"ImportDeclaration\")\n  };\n\n\n  pp$1.parseImportSpecifiers = function() {\n    var nodes = [], first = true;\n    if (this.type === types.name) {\n      var node = this.startNode();\n      node.local = this.parseIdent();\n      this.checkLVal(node.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\n      if (!this.eat(types.comma)) { return nodes }\n    }\n    if (this.type === types.star) {\n      var node$1 = this.startNode();\n      this.next();\n      this.expectContextual(\"as\");\n      node$1.local = this.parseIdent();\n      this.checkLVal(node$1.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\n      return nodes\n    }\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var node$2 = this.startNode();\n      node$2.imported = this.parseIdent(true);\n      if (this.eatContextual(\"as\")) {\n        node$2.local = this.parseIdent();\n      } else {\n        this.checkUnreserved(node$2.imported);\n        node$2.local = node$2.imported;\n      }\n      this.checkLVal(node$2.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\n    }\n    return nodes\n  };\n\n  pp$1.adaptDirectivePrologue = function(statements) {\n    for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n      statements[i].directive = statements[i].expression.raw.slice(1, -1);\n    }\n  };\n  pp$1.isDirectiveCandidate = function(statement) {\n    return (\n      statement.type === \"ExpressionStatement\" &&\n      statement.expression.type === \"Literal\" &&\n      typeof statement.expression.value === \"string\" &&\n      (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n    )\n  };\n\n  var pp$2 = Parser.prototype;\n\n\n  pp$2.toAssignable = function(node, isBinding, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 6 && node) {\n      switch (node.type) {\n      case \"Identifier\":\n        if (this.inAsync && node.name === \"await\")\n          { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n        break\n\n      case \"ObjectPattern\":\n      case \"ArrayPattern\":\n      case \"RestElement\":\n        break\n\n      case \"ObjectExpression\":\n        node.type = \"ObjectPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        for (var i = 0, list = node.properties; i < list.length; i += 1) {\n          var prop = list[i];\n\n        this.toAssignable(prop, isBinding);\n          if (\n            prop.type === \"RestElement\" &&\n            (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n          ) {\n            this.raise(prop.argument.start, \"Unexpected token\");\n          }\n        }\n        break\n\n      case \"Property\":\n        if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n        this.toAssignable(node.value, isBinding);\n        break\n\n      case \"ArrayExpression\":\n        node.type = \"ArrayPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        this.toAssignableList(node.elements, isBinding);\n        break\n\n      case \"SpreadElement\":\n        node.type = \"RestElement\";\n        this.toAssignable(node.argument, isBinding);\n        if (node.argument.type === \"AssignmentPattern\")\n          { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n        break\n\n      case \"AssignmentExpression\":\n        if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n        node.type = \"AssignmentPattern\";\n        delete node.operator;\n        this.toAssignable(node.left, isBinding);\n\n      case \"AssignmentPattern\":\n        break\n\n      case \"ParenthesizedExpression\":\n        this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n        break\n\n      case \"MemberExpression\":\n        if (!isBinding) { break }\n\n      default:\n        this.raise(node.start, \"Assigning to rvalue\");\n      }\n    } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n    return node\n  };\n\n\n  pp$2.toAssignableList = function(exprList, isBinding) {\n    var end = exprList.length;\n    for (var i = 0; i < end; i++) {\n      var elt = exprList[i];\n      if (elt) { this.toAssignable(elt, isBinding); }\n    }\n    if (end) {\n      var last = exprList[end - 1];\n      if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n        { this.unexpected(last.argument.start); }\n    }\n    return exprList\n  };\n\n\n  pp$2.parseSpread = function(refDestructuringErrors) {\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    return this.finishNode(node, \"SpreadElement\")\n  };\n\n  pp$2.parseRestBinding = function() {\n    var node = this.startNode();\n    this.next();\n\n    if (this.options.ecmaVersion === 6 && this.type !== types.name)\n      { this.unexpected(); }\n\n    node.argument = this.parseBindingAtom();\n\n    return this.finishNode(node, \"RestElement\")\n  };\n\n\n  pp$2.parseBindingAtom = function() {\n    if (this.options.ecmaVersion >= 6) {\n      switch (this.type) {\n      case types.bracketL:\n        var node = this.startNode();\n        this.next();\n        node.elements = this.parseBindingList(types.bracketR, true, true);\n        return this.finishNode(node, \"ArrayPattern\")\n\n      case types.braceL:\n        return this.parseObj(true)\n      }\n    }\n    return this.parseIdent()\n  };\n\n  pp$2.parseBindingList = function(close, allowEmpty, allowTrailingComma) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (first) { first = false; }\n      else { this.expect(types.comma); }\n      if (allowEmpty && this.type === types.comma) {\n        elts.push(null);\n      } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n        break\n      } else if (this.type === types.ellipsis) {\n        var rest = this.parseRestBinding();\n        this.parseBindingListItem(rest);\n        elts.push(rest);\n        if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n        this.expect(close);\n        break\n      } else {\n        var elem = this.parseMaybeDefault(this.start, this.startLoc);\n        this.parseBindingListItem(elem);\n        elts.push(elem);\n      }\n    }\n    return elts\n  };\n\n  pp$2.parseBindingListItem = function(param) {\n    return param\n  };\n\n\n  pp$2.parseMaybeDefault = function(startPos, startLoc, left) {\n    left = left || this.parseBindingAtom();\n    if (this.options.ecmaVersion < 6 || !this.eat(types.eq)) { return left }\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.right = this.parseMaybeAssign();\n    return this.finishNode(node, \"AssignmentPattern\")\n  };\n\n\n  pp$2.checkLVal = function(expr, bindingType, checkClashes) {\n    if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n    switch (expr.type) {\n    case \"Identifier\":\n      if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n        { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n      if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n        { this.raiseRecoverable(expr.start, (bindingType ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n      if (checkClashes) {\n        if (has(checkClashes, expr.name))\n          { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n        checkClashes[expr.name] = true;\n      }\n      if (bindingType !== BIND_NONE && bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n      break\n\n    case \"MemberExpression\":\n      if (bindingType) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n      break\n\n    case \"ObjectPattern\":\n      for (var i = 0, list = expr.properties; i < list.length; i += 1)\n        {\n      var prop = list[i];\n\n      this.checkLVal(prop, bindingType, checkClashes);\n    }\n      break\n\n    case \"Property\":\n      this.checkLVal(expr.value, bindingType, checkClashes);\n      break\n\n    case \"ArrayPattern\":\n      for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n        var elem = list$1[i$1];\n\n      if (elem) { this.checkLVal(elem, bindingType, checkClashes); }\n      }\n      break\n\n    case \"AssignmentPattern\":\n      this.checkLVal(expr.left, bindingType, checkClashes);\n      break\n\n    case \"RestElement\":\n      this.checkLVal(expr.argument, bindingType, checkClashes);\n      break\n\n    case \"ParenthesizedExpression\":\n      this.checkLVal(expr.expression, bindingType, checkClashes);\n      break\n\n    default:\n      this.raise(expr.start, (bindingType ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n    }\n  };\n\n\n  var pp$3 = Parser.prototype;\n\n\n  pp$3.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n      { return }\n    if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n      { return }\n    var key = prop.key;\n    var name;\n    switch (key.type) {\n    case \"Identifier\": name = key.name; break\n    case \"Literal\": name = String(key.value); break\n    default: return\n    }\n    var kind = prop.kind;\n    if (this.options.ecmaVersion >= 6) {\n      if (name === \"__proto__\" && kind === \"init\") {\n        if (propHash.proto) {\n          if (refDestructuringErrors) {\n            if (refDestructuringErrors.doubleProto < 0)\n              { refDestructuringErrors.doubleProto = key.start; }\n          } else { this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\"); }\n        }\n        propHash.proto = true;\n      }\n      return\n    }\n    name = \"$\" + name;\n    var other = propHash[name];\n    if (other) {\n      var redefinition;\n      if (kind === \"init\") {\n        redefinition = this.strict && other.init || other.get || other.set;\n      } else {\n        redefinition = other.init || other[kind];\n      }\n      if (redefinition)\n        { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n    } else {\n      other = propHash[name] = {\n        init: false,\n        get: false,\n        set: false\n      };\n    }\n    other[kind] = true;\n  };\n\n\n\n\n  pp$3.parseExpression = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeAssign(noIn, refDestructuringErrors);\n    if (this.type === types.comma) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.expressions = [expr];\n      while (this.eat(types.comma)) { node.expressions.push(this.parseMaybeAssign(noIn, refDestructuringErrors)); }\n      return this.finishNode(node, \"SequenceExpression\")\n    }\n    return expr\n  };\n\n\n  pp$3.parseMaybeAssign = function(noIn, refDestructuringErrors, afterLeftParse) {\n    if (this.isContextual(\"yield\")) {\n      if (this.inGenerator) { return this.parseYield(noIn) }\n      else { this.exprAllowed = false; }\n    }\n\n    var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1;\n    if (refDestructuringErrors) {\n      oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n      oldTrailingComma = refDestructuringErrors.trailingComma;\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\n    } else {\n      refDestructuringErrors = new DestructuringErrors;\n      ownDestructuringErrors = true;\n    }\n\n    var startPos = this.start, startLoc = this.startLoc;\n    if (this.type === types.parenL || this.type === types.name)\n      { this.potentialArrowAt = this.start; }\n    var left = this.parseMaybeConditional(noIn, refDestructuringErrors);\n    if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n    if (this.type.isAssign) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.operator = this.value;\n      node.left = this.type === types.eq ? this.toAssignable(left, false, refDestructuringErrors) : left;\n      if (!ownDestructuringErrors) {\n        refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\n      }\n      if (refDestructuringErrors.shorthandAssign >= node.left.start)\n        { refDestructuringErrors.shorthandAssign = -1; } \n      this.checkLVal(left);\n      this.next();\n      node.right = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"AssignmentExpression\")\n    } else {\n      if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n    }\n    if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n    if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n    return left\n  };\n\n\n  pp$3.parseMaybeConditional = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprOps(noIn, refDestructuringErrors);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    if (this.eat(types.question)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.test = expr;\n      node.consequent = this.parseMaybeAssign();\n      this.expect(types.colon);\n      node.alternate = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"ConditionalExpression\")\n    }\n    return expr\n  };\n\n\n  pp$3.parseExprOps = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeUnary(refDestructuringErrors, false);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, noIn)\n  };\n\n\n  pp$3.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, noIn) {\n    var prec = this.type.binop;\n    if (prec != null && (!noIn || this.type !== types._in)) {\n      if (prec > minPrec) {\n        var logical = this.type === types.logicalOR || this.type === types.logicalAND;\n        var op = this.value;\n        this.next();\n        var startPos = this.start, startLoc = this.startLoc;\n        var right = this.parseExprOp(this.parseMaybeUnary(null, false), startPos, startLoc, prec, noIn);\n        var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical);\n        return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, noIn)\n      }\n    }\n    return left\n  };\n\n  pp$3.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.operator = op;\n    node.right = right;\n    return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n  };\n\n\n  pp$3.parseMaybeUnary = function(refDestructuringErrors, sawUnary) {\n    var startPos = this.start, startLoc = this.startLoc, expr;\n    if (this.isContextual(\"await\") && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction))) {\n      expr = this.parseAwait();\n      sawUnary = true;\n    } else if (this.type.prefix) {\n      var node = this.startNode(), update = this.type === types.incDec;\n      node.operator = this.value;\n      node.prefix = true;\n      this.next();\n      node.argument = this.parseMaybeUnary(null, true);\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      if (update) { this.checkLVal(node.argument); }\n      else if (this.strict && node.operator === \"delete\" &&\n               node.argument.type === \"Identifier\")\n        { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n      else { sawUnary = true; }\n      expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n    } else {\n      expr = this.parseExprSubscripts(refDestructuringErrors);\n      if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n      while (this.type.postfix && !this.canInsertSemicolon()) {\n        var node$1 = this.startNodeAt(startPos, startLoc);\n        node$1.operator = this.value;\n        node$1.prefix = false;\n        node$1.argument = expr;\n        this.checkLVal(expr);\n        this.next();\n        expr = this.finishNode(node$1, \"UpdateExpression\");\n      }\n    }\n\n    if (!sawUnary && this.eat(types.starstar))\n      { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false), \"**\", false) }\n    else\n      { return expr }\n  };\n\n\n  pp$3.parseExprSubscripts = function(refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprAtom(refDestructuringErrors);\n    if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\n      { return expr }\n    var result = this.parseSubscripts(expr, startPos, startLoc);\n    if (refDestructuringErrors && result.type === \"MemberExpression\") {\n      if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n      if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n    }\n    return result\n  };\n\n  pp$3.parseSubscripts = function(base, startPos, startLoc, noCalls) {\n    var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n        this.lastTokEnd === base.end && !this.canInsertSemicolon() && this.input.slice(base.start, base.end) === \"async\";\n    while (true) {\n      var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow);\n      if (element === base || element.type === \"ArrowFunctionExpression\") { return element }\n      base = element;\n    }\n  };\n\n  pp$3.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow) {\n    var computed = this.eat(types.bracketL);\n    if (computed || this.eat(types.dot)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.object = base;\n      node.property = computed ? this.parseExpression() : this.parseIdent(this.options.allowReserved !== \"never\");\n      node.computed = !!computed;\n      if (computed) { this.expect(types.bracketR); }\n      base = this.finishNode(node, \"MemberExpression\");\n    } else if (!noCalls && this.eat(types.parenL)) {\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      this.awaitIdentPos = 0;\n      var exprList = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n      if (maybeAsyncArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        if (this.awaitIdentPos > 0)\n          { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        this.awaitIdentPos = oldAwaitIdentPos;\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true)\n      }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.callee = base;\n      node$1.arguments = exprList;\n      base = this.finishNode(node$1, \"CallExpression\");\n    } else if (this.type === types.backQuote) {\n      var node$2 = this.startNodeAt(startPos, startLoc);\n      node$2.tag = base;\n      node$2.quasi = this.parseTemplate({isTagged: true});\n      base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n    }\n    return base\n  };\n\n\n  pp$3.parseExprAtom = function(refDestructuringErrors) {\n    if (this.type === types.slash) { this.readRegexp(); }\n\n    var node, canBeArrow = this.potentialArrowAt === this.start;\n    switch (this.type) {\n    case types._super:\n      if (!this.allowSuper)\n        { this.raise(this.start, \"'super' keyword outside a method\"); }\n      node = this.startNode();\n      this.next();\n      if (this.type === types.parenL && !this.allowDirectSuper)\n        { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n      if (this.type !== types.dot && this.type !== types.bracketL && this.type !== types.parenL)\n        { this.unexpected(); }\n      return this.finishNode(node, \"Super\")\n\n    case types._this:\n      node = this.startNode();\n      this.next();\n      return this.finishNode(node, \"ThisExpression\")\n\n    case types.name:\n      var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n      var id = this.parseIdent(false);\n      if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types._function))\n        { return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true) }\n      if (canBeArrow && !this.canInsertSemicolon()) {\n        if (this.eat(types.arrow))\n          { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false) }\n        if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types.name && !containsEsc) {\n          id = this.parseIdent(false);\n          if (this.canInsertSemicolon() || !this.eat(types.arrow))\n            { this.unexpected(); }\n          return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true)\n        }\n      }\n      return id\n\n    case types.regexp:\n      var value = this.value;\n      node = this.parseLiteral(value.value);\n      node.regex = {pattern: value.pattern, flags: value.flags};\n      return node\n\n    case types.num: case types.string:\n      return this.parseLiteral(this.value)\n\n    case types._null: case types._true: case types._false:\n      node = this.startNode();\n      node.value = this.type === types._null ? null : this.type === types._true;\n      node.raw = this.type.keyword;\n      this.next();\n      return this.finishNode(node, \"Literal\")\n\n    case types.parenL:\n      var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow);\n      if (refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n          { refDestructuringErrors.parenthesizedAssign = start; }\n        if (refDestructuringErrors.parenthesizedBind < 0)\n          { refDestructuringErrors.parenthesizedBind = start; }\n      }\n      return expr\n\n    case types.bracketL:\n      node = this.startNode();\n      this.next();\n      node.elements = this.parseExprList(types.bracketR, true, true, refDestructuringErrors);\n      return this.finishNode(node, \"ArrayExpression\")\n\n    case types.braceL:\n      return this.parseObj(false, refDestructuringErrors)\n\n    case types._function:\n      node = this.startNode();\n      this.next();\n      return this.parseFunction(node, 0)\n\n    case types._class:\n      return this.parseClass(this.startNode(), false)\n\n    case types._new:\n      return this.parseNew()\n\n    case types.backQuote:\n      return this.parseTemplate()\n\n    case types._import:\n      if (this.options.ecmaVersion >= 11) {\n        return this.parseExprImport()\n      } else {\n        return this.unexpected()\n      }\n\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$3.parseExprImport = function() {\n    var node = this.startNode();\n    this.next(); \n    switch (this.type) {\n    case types.parenL:\n      return this.parseDynamicImport(node)\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$3.parseDynamicImport = function(node) {\n    this.next(); \n\n    node.source = this.parseMaybeAssign();\n\n    if (!this.eat(types.parenR)) {\n      var errorPos = this.start;\n      if (this.eat(types.comma) && this.eat(types.parenR)) {\n        this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n      } else {\n        this.unexpected(errorPos);\n      }\n    }\n\n    return this.finishNode(node, \"ImportExpression\")\n  };\n\n  pp$3.parseLiteral = function(value) {\n    var node = this.startNode();\n    node.value = value;\n    node.raw = this.input.slice(this.start, this.end);\n    if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1); }\n    this.next();\n    return this.finishNode(node, \"Literal\")\n  };\n\n  pp$3.parseParenExpression = function() {\n    this.expect(types.parenL);\n    var val = this.parseExpression();\n    this.expect(types.parenR);\n    return val\n  };\n\n  pp$3.parseParenAndDistinguishExpression = function(canBeArrow) {\n    var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n    if (this.options.ecmaVersion >= 6) {\n      this.next();\n\n      var innerStartPos = this.start, innerStartLoc = this.startLoc;\n      var exprList = [], first = true, lastIsComma = false;\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      while (this.type !== types.parenR) {\n        first ? first = false : this.expect(types.comma);\n        if (allowTrailingComma && this.afterTrailingComma(types.parenR, true)) {\n          lastIsComma = true;\n          break\n        } else if (this.type === types.ellipsis) {\n          spreadStart = this.start;\n          exprList.push(this.parseParenItem(this.parseRestBinding()));\n          if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n          break\n        } else {\n          exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n        }\n      }\n      var innerEndPos = this.start, innerEndLoc = this.startLoc;\n      this.expect(types.parenR);\n\n      if (canBeArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        return this.parseParenArrowList(startPos, startLoc, exprList)\n      }\n\n      if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n      if (spreadStart) { this.unexpected(spreadStart); }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n\n      if (exprList.length > 1) {\n        val = this.startNodeAt(innerStartPos, innerStartLoc);\n        val.expressions = exprList;\n        this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n      } else {\n        val = exprList[0];\n      }\n    } else {\n      val = this.parseParenExpression();\n    }\n\n    if (this.options.preserveParens) {\n      var par = this.startNodeAt(startPos, startLoc);\n      par.expression = val;\n      return this.finishNode(par, \"ParenthesizedExpression\")\n    } else {\n      return val\n    }\n  };\n\n  pp$3.parseParenItem = function(item) {\n    return item\n  };\n\n  pp$3.parseParenArrowList = function(startPos, startLoc, exprList) {\n    return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList)\n  };\n\n\n  var empty$1 = [];\n\n  pp$3.parseNew = function() {\n    if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\n    var node = this.startNode();\n    var meta = this.parseIdent(true);\n    if (this.options.ecmaVersion >= 6 && this.eat(types.dot)) {\n      node.meta = meta;\n      var containsEsc = this.containsEsc;\n      node.property = this.parseIdent(true);\n      if (node.property.name !== \"target\" || containsEsc)\n        { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is new.target\"); }\n      if (!this.inNonArrowFunction())\n        { this.raiseRecoverable(node.start, \"new.target can only be used in functions\"); }\n      return this.finishNode(node, \"MetaProperty\")\n    }\n    var startPos = this.start, startLoc = this.startLoc, isImport = this.type === types._import;\n    node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true);\n    if (isImport && node.callee.type === \"ImportExpression\") {\n      this.raise(startPos, \"Cannot use new with import()\");\n    }\n    if (this.eat(types.parenL)) { node.arguments = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false); }\n    else { node.arguments = empty$1; }\n    return this.finishNode(node, \"NewExpression\")\n  };\n\n\n  pp$3.parseTemplateElement = function(ref) {\n    var isTagged = ref.isTagged;\n\n    var elem = this.startNode();\n    if (this.type === types.invalidTemplate) {\n      if (!isTagged) {\n        this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n      }\n      elem.value = {\n        raw: this.value,\n        cooked: null\n      };\n    } else {\n      elem.value = {\n        raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n        cooked: this.value\n      };\n    }\n    this.next();\n    elem.tail = this.type === types.backQuote;\n    return this.finishNode(elem, \"TemplateElement\")\n  };\n\n  pp$3.parseTemplate = function(ref) {\n    if ( ref === void 0 ) ref = {};\n    var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n    var node = this.startNode();\n    this.next();\n    node.expressions = [];\n    var curElt = this.parseTemplateElement({isTagged: isTagged});\n    node.quasis = [curElt];\n    while (!curElt.tail) {\n      if (this.type === types.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n      this.expect(types.dollarBraceL);\n      node.expressions.push(this.parseExpression());\n      this.expect(types.braceR);\n      node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n    }\n    this.next();\n    return this.finishNode(node, \"TemplateLiteral\")\n  };\n\n  pp$3.isAsyncProp = function(prop) {\n    return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n      (this.type === types.name || this.type === types.num || this.type === types.string || this.type === types.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types.star)) &&\n      !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n\n  pp$3.parseObj = function(isPattern, refDestructuringErrors) {\n    var node = this.startNode(), first = true, propHash = {};\n    node.properties = [];\n    this.next();\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var prop = this.parseProperty(isPattern, refDestructuringErrors);\n      if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n      node.properties.push(prop);\n    }\n    return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n  };\n\n  pp$3.parseProperty = function(isPattern, refDestructuringErrors) {\n    var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n    if (this.options.ecmaVersion >= 9 && this.eat(types.ellipsis)) {\n      if (isPattern) {\n        prop.argument = this.parseIdent(false);\n        if (this.type === types.comma) {\n          this.raise(this.start, \"Comma is not permitted after the rest element\");\n        }\n        return this.finishNode(prop, \"RestElement\")\n      }\n      if (this.type === types.parenL && refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0) {\n          refDestructuringErrors.parenthesizedAssign = this.start;\n        }\n        if (refDestructuringErrors.parenthesizedBind < 0) {\n          refDestructuringErrors.parenthesizedBind = this.start;\n        }\n      }\n      prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n      if (this.type === types.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n        refDestructuringErrors.trailingComma = this.start;\n      }\n      return this.finishNode(prop, \"SpreadElement\")\n    }\n    if (this.options.ecmaVersion >= 6) {\n      prop.method = false;\n      prop.shorthand = false;\n      if (isPattern || refDestructuringErrors) {\n        startPos = this.start;\n        startLoc = this.startLoc;\n      }\n      if (!isPattern)\n        { isGenerator = this.eat(types.star); }\n    }\n    var containsEsc = this.containsEsc;\n    this.parsePropertyName(prop);\n    if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n      isAsync = true;\n      isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      this.parsePropertyName(prop, refDestructuringErrors);\n    } else {\n      isAsync = false;\n    }\n    this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n    return this.finishNode(prop, \"Property\")\n  };\n\n  pp$3.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n    if ((isGenerator || isAsync) && this.type === types.colon)\n      { this.unexpected(); }\n\n    if (this.eat(types.colon)) {\n      prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n      prop.kind = \"init\";\n    } else if (this.options.ecmaVersion >= 6 && this.type === types.parenL) {\n      if (isPattern) { this.unexpected(); }\n      prop.kind = \"init\";\n      prop.method = true;\n      prop.value = this.parseMethod(isGenerator, isAsync);\n    } else if (!isPattern && !containsEsc &&\n               this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n               (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n               (this.type !== types.comma && this.type !== types.braceR)) {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      prop.kind = prop.key.name;\n      this.parsePropertyName(prop);\n      prop.value = this.parseMethod(false);\n      var paramCount = prop.kind === \"get\" ? 0 : 1;\n      if (prop.value.params.length !== paramCount) {\n        var start = prop.value.start;\n        if (prop.kind === \"get\")\n          { this.raiseRecoverable(start, \"getter should have no params\"); }\n        else\n          { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n      } else {\n        if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n          { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n      }\n    } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      this.checkUnreserved(prop.key);\n      if (prop.key.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = startPos; }\n      prop.kind = \"init\";\n      if (isPattern) {\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else if (this.type === types.eq && refDestructuringErrors) {\n        if (refDestructuringErrors.shorthandAssign < 0)\n          { refDestructuringErrors.shorthandAssign = this.start; }\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else {\n        prop.value = prop.key;\n      }\n      prop.shorthand = true;\n    } else { this.unexpected(); }\n  };\n\n  pp$3.parsePropertyName = function(prop) {\n    if (this.options.ecmaVersion >= 6) {\n      if (this.eat(types.bracketL)) {\n        prop.computed = true;\n        prop.key = this.parseMaybeAssign();\n        this.expect(types.bracketR);\n        return prop.key\n      } else {\n        prop.computed = false;\n      }\n    }\n    return prop.key = this.type === types.num || this.type === types.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n  };\n\n\n  pp$3.initFunction = function(node) {\n    node.id = null;\n    if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n    if (this.options.ecmaVersion >= 8) { node.async = false; }\n  };\n\n\n  pp$3.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n    var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 6)\n      { node.generator = isGenerator; }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n    this.parseFunctionBody(node, false, true);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"FunctionExpression\")\n  };\n\n\n  pp$3.parseArrowExpression = function(node, params, isAsync) {\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n\n    node.params = this.toAssignableList(params, true);\n    this.parseFunctionBody(node, true, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"ArrowFunctionExpression\")\n  };\n\n\n  pp$3.parseFunctionBody = function(node, isArrowFunction, isMethod) {\n    var isExpression = isArrowFunction && this.type !== types.braceL;\n    var oldStrict = this.strict, useStrict = false;\n\n    if (isExpression) {\n      node.body = this.parseMaybeAssign();\n      node.expression = true;\n      this.checkParams(node, false);\n    } else {\n      var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n      if (!oldStrict || nonSimple) {\n        useStrict = this.strictDirective(this.end);\n        if (useStrict && nonSimple)\n          { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n      }\n      var oldLabels = this.labels;\n      this.labels = [];\n      if (useStrict) { this.strict = true; }\n\n      this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n      node.body = this.parseBlock(false);\n      node.expression = false;\n      this.adaptDirectivePrologue(node.body.body);\n      this.labels = oldLabels;\n    }\n    this.exitScope();\n\n    if (this.strict && node.id) { this.checkLVal(node.id, BIND_OUTSIDE); }\n    this.strict = oldStrict;\n  };\n\n  pp$3.isSimpleParamList = function(params) {\n    for (var i = 0, list = params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      if (param.type !== \"Identifier\") { return false\n    } }\n    return true\n  };\n\n\n  pp$3.checkParams = function(node, allowDuplicates) {\n    var nameHash = {};\n    for (var i = 0, list = node.params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      this.checkLVal(param, BIND_VAR, allowDuplicates ? null : nameHash);\n    }\n  };\n\n\n  pp$3.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n      } else { first = false; }\n\n      var elt = (void 0);\n      if (allowEmpty && this.type === types.comma)\n        { elt = null; }\n      else if (this.type === types.ellipsis) {\n        elt = this.parseSpread(refDestructuringErrors);\n        if (refDestructuringErrors && this.type === types.comma && refDestructuringErrors.trailingComma < 0)\n          { refDestructuringErrors.trailingComma = this.start; }\n      } else {\n        elt = this.parseMaybeAssign(false, refDestructuringErrors);\n      }\n      elts.push(elt);\n    }\n    return elts\n  };\n\n  pp$3.checkUnreserved = function(ref) {\n    var start = ref.start;\n    var end = ref.end;\n    var name = ref.name;\n\n    if (this.inGenerator && name === \"yield\")\n      { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n    if (this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n    if (this.keywords.test(name))\n      { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n    if (this.options.ecmaVersion < 6 &&\n      this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n    var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n    if (re.test(name)) {\n      if (!this.inAsync && name === \"await\")\n        { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n      this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n    }\n  };\n\n\n  pp$3.parseIdent = function(liberal, isBinding) {\n    var node = this.startNode();\n    if (this.type === types.name) {\n      node.name = this.value;\n    } else if (this.type.keyword) {\n      node.name = this.type.keyword;\n\n      if ((node.name === \"class\" || node.name === \"function\") &&\n          (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n        this.context.pop();\n      }\n    } else {\n      this.unexpected();\n    }\n    this.next(!!liberal);\n    this.finishNode(node, \"Identifier\");\n    if (!liberal) {\n      this.checkUnreserved(node);\n      if (node.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = node.start; }\n    }\n    return node\n  };\n\n\n  pp$3.parseYield = function(noIn) {\n    if (!this.yieldPos) { this.yieldPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    if (this.type === types.semi || this.canInsertSemicolon() || (this.type !== types.star && !this.type.startsExpr)) {\n      node.delegate = false;\n      node.argument = null;\n    } else {\n      node.delegate = this.eat(types.star);\n      node.argument = this.parseMaybeAssign(noIn);\n    }\n    return this.finishNode(node, \"YieldExpression\")\n  };\n\n  pp$3.parseAwait = function() {\n    if (!this.awaitPos) { this.awaitPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeUnary(null, false);\n    return this.finishNode(node, \"AwaitExpression\")\n  };\n\n  var pp$4 = Parser.prototype;\n\n\n  pp$4.raise = function(pos, message) {\n    var loc = getLineInfo(this.input, pos);\n    message += \" (\" + loc.line + \":\" + loc.column + \")\";\n    var err = new SyntaxError(message);\n    err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n    throw err\n  };\n\n  pp$4.raiseRecoverable = pp$4.raise;\n\n  pp$4.curPosition = function() {\n    if (this.options.locations) {\n      return new Position(this.curLine, this.pos - this.lineStart)\n    }\n  };\n\n  var pp$5 = Parser.prototype;\n\n  var Scope = function Scope(flags) {\n    this.flags = flags;\n    this.var = [];\n    this.lexical = [];\n    this.functions = [];\n  };\n\n\n  pp$5.enterScope = function(flags) {\n    this.scopeStack.push(new Scope(flags));\n  };\n\n  pp$5.exitScope = function() {\n    this.scopeStack.pop();\n  };\n\n  pp$5.treatFunctionsAsVarInScope = function(scope) {\n    return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n  };\n\n  pp$5.declareName = function(name, bindingType, pos) {\n    var redeclared = false;\n    if (bindingType === BIND_LEXICAL) {\n      var scope = this.currentScope();\n      redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n      scope.lexical.push(name);\n      if (this.inModule && (scope.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n    } else if (bindingType === BIND_SIMPLE_CATCH) {\n      var scope$1 = this.currentScope();\n      scope$1.lexical.push(name);\n    } else if (bindingType === BIND_FUNCTION) {\n      var scope$2 = this.currentScope();\n      if (this.treatFunctionsAsVar)\n        { redeclared = scope$2.lexical.indexOf(name) > -1; }\n      else\n        { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n      scope$2.functions.push(name);\n    } else {\n      for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n        var scope$3 = this.scopeStack[i];\n        if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n            !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n          redeclared = true;\n          break\n        }\n        scope$3.var.push(name);\n        if (this.inModule && (scope$3.flags & SCOPE_TOP))\n          { delete this.undefinedExports[name]; }\n        if (scope$3.flags & SCOPE_VAR) { break }\n      }\n    }\n    if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n  };\n\n  pp$5.checkLocalExport = function(id) {\n    if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n        this.scopeStack[0].var.indexOf(id.name) === -1) {\n      this.undefinedExports[id.name] = id;\n    }\n  };\n\n  pp$5.currentScope = function() {\n    return this.scopeStack[this.scopeStack.length - 1]\n  };\n\n  pp$5.currentVarScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR) { return scope }\n    }\n  };\n\n  pp$5.currentThisScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n    }\n  };\n\n  var Node = function Node(parser, pos, loc) {\n    this.type = \"\";\n    this.start = pos;\n    this.end = 0;\n    if (parser.options.locations)\n      { this.loc = new SourceLocation(parser, loc); }\n    if (parser.options.directSourceFile)\n      { this.sourceFile = parser.options.directSourceFile; }\n    if (parser.options.ranges)\n      { this.range = [pos, 0]; }\n  };\n\n\n  var pp$6 = Parser.prototype;\n\n  pp$6.startNode = function() {\n    return new Node(this, this.start, this.startLoc)\n  };\n\n  pp$6.startNodeAt = function(pos, loc) {\n    return new Node(this, pos, loc)\n  };\n\n\n  function finishNodeAt(node, type, pos, loc) {\n    node.type = type;\n    node.end = pos;\n    if (this.options.locations)\n      { node.loc.end = loc; }\n    if (this.options.ranges)\n      { node.range[1] = pos; }\n    return node\n  }\n\n  pp$6.finishNode = function(node, type) {\n    return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n  };\n\n\n  pp$6.finishNodeAt = function(node, type, pos, loc) {\n    return finishNodeAt.call(this, node, type, pos, loc)\n  };\n\n\n  var TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n    this.token = token;\n    this.isExpr = !!isExpr;\n    this.preserveSpace = !!preserveSpace;\n    this.override = override;\n    this.generator = !!generator;\n  };\n\n  var types$1 = {\n    b_stat: new TokContext(\"{\", false),\n    b_expr: new TokContext(\"{\", true),\n    b_tmpl: new TokContext(\"${\", false),\n    p_stat: new TokContext(\"(\", false),\n    p_expr: new TokContext(\"(\", true),\n    q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n    f_stat: new TokContext(\"function\", false),\n    f_expr: new TokContext(\"function\", true),\n    f_expr_gen: new TokContext(\"function\", true, false, null, true),\n    f_gen: new TokContext(\"function\", false, false, null, true)\n  };\n\n  var pp$7 = Parser.prototype;\n\n  pp$7.initialContext = function() {\n    return [types$1.b_stat]\n  };\n\n  pp$7.braceIsBlock = function(prevType) {\n    var parent = this.curContext();\n    if (parent === types$1.f_expr || parent === types$1.f_stat)\n      { return true }\n    if (prevType === types.colon && (parent === types$1.b_stat || parent === types$1.b_expr))\n      { return !parent.isExpr }\n\n    if (prevType === types._return || prevType === types.name && this.exprAllowed)\n      { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n    if (prevType === types._else || prevType === types.semi || prevType === types.eof || prevType === types.parenR || prevType === types.arrow)\n      { return true }\n    if (prevType === types.braceL)\n      { return parent === types$1.b_stat }\n    if (prevType === types._var || prevType === types._const || prevType === types.name)\n      { return false }\n    return !this.exprAllowed\n  };\n\n  pp$7.inGeneratorContext = function() {\n    for (var i = this.context.length - 1; i >= 1; i--) {\n      var context = this.context[i];\n      if (context.token === \"function\")\n        { return context.generator }\n    }\n    return false\n  };\n\n  pp$7.updateContext = function(prevType) {\n    var update, type = this.type;\n    if (type.keyword && prevType === types.dot)\n      { this.exprAllowed = false; }\n    else if (update = type.updateContext)\n      { update.call(this, prevType); }\n    else\n      { this.exprAllowed = type.beforeExpr; }\n  };\n\n\n  types.parenR.updateContext = types.braceR.updateContext = function() {\n    if (this.context.length === 1) {\n      this.exprAllowed = true;\n      return\n    }\n    var out = this.context.pop();\n    if (out === types$1.b_stat && this.curContext().token === \"function\") {\n      out = this.context.pop();\n    }\n    this.exprAllowed = !out.isExpr;\n  };\n\n  types.braceL.updateContext = function(prevType) {\n    this.context.push(this.braceIsBlock(prevType) ? types$1.b_stat : types$1.b_expr);\n    this.exprAllowed = true;\n  };\n\n  types.dollarBraceL.updateContext = function() {\n    this.context.push(types$1.b_tmpl);\n    this.exprAllowed = true;\n  };\n\n  types.parenL.updateContext = function(prevType) {\n    var statementParens = prevType === types._if || prevType === types._for || prevType === types._with || prevType === types._while;\n    this.context.push(statementParens ? types$1.p_stat : types$1.p_expr);\n    this.exprAllowed = true;\n  };\n\n  types.incDec.updateContext = function() {\n  };\n\n  types._function.updateContext = types._class.updateContext = function(prevType) {\n    if (prevType.beforeExpr && prevType !== types.semi && prevType !== types._else &&\n        !(prevType === types._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n        !((prevType === types.colon || prevType === types.braceL) && this.curContext() === types$1.b_stat))\n      { this.context.push(types$1.f_expr); }\n    else\n      { this.context.push(types$1.f_stat); }\n    this.exprAllowed = false;\n  };\n\n  types.backQuote.updateContext = function() {\n    if (this.curContext() === types$1.q_tmpl)\n      { this.context.pop(); }\n    else\n      { this.context.push(types$1.q_tmpl); }\n    this.exprAllowed = false;\n  };\n\n  types.star.updateContext = function(prevType) {\n    if (prevType === types._function) {\n      var index = this.context.length - 1;\n      if (this.context[index] === types$1.f_expr)\n        { this.context[index] = types$1.f_expr_gen; }\n      else\n        { this.context[index] = types$1.f_gen; }\n    }\n    this.exprAllowed = true;\n  };\n\n  types.name.updateContext = function(prevType) {\n    var allowed = false;\n    if (this.options.ecmaVersion >= 6 && prevType !== types.dot) {\n      if (this.value === \"of\" && !this.exprAllowed ||\n          this.value === \"yield\" && this.inGeneratorContext())\n        { allowed = true; }\n    }\n    this.exprAllowed = allowed;\n  };\n\n\n  var ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\n  var ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\n  var ecma11BinaryProperties = ecma10BinaryProperties;\n  var unicodeBinaryProperties = {\n    9: ecma9BinaryProperties,\n    10: ecma10BinaryProperties,\n    11: ecma11BinaryProperties\n  };\n\n  var unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n  var ecma9ScriptValues = \"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\n  var ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\n  var ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\n  var unicodeScriptValues = {\n    9: ecma9ScriptValues,\n    10: ecma10ScriptValues,\n    11: ecma11ScriptValues\n  };\n\n  var data = {};\n  function buildUnicodeData(ecmaVersion) {\n    var d = data[ecmaVersion] = {\n      binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n      nonBinary: {\n        General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n        Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n      }\n    };\n    d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n    d.nonBinary.gc = d.nonBinary.General_Category;\n    d.nonBinary.sc = d.nonBinary.Script;\n    d.nonBinary.scx = d.nonBinary.Script_Extensions;\n  }\n  buildUnicodeData(9);\n  buildUnicodeData(10);\n  buildUnicodeData(11);\n\n  var pp$8 = Parser.prototype;\n\n  var RegExpValidationState = function RegExpValidationState(parser) {\n    this.parser = parser;\n    this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\");\n    this.unicodeProperties = data[parser.options.ecmaVersion >= 11 ? 11 : parser.options.ecmaVersion];\n    this.source = \"\";\n    this.flags = \"\";\n    this.start = 0;\n    this.switchU = false;\n    this.switchN = false;\n    this.pos = 0;\n    this.lastIntValue = 0;\n    this.lastStringValue = \"\";\n    this.lastAssertionIsQuantifiable = false;\n    this.numCapturingParens = 0;\n    this.maxBackReference = 0;\n    this.groupNames = [];\n    this.backReferenceNames = [];\n  };\n\n  RegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n    var unicode = flags.indexOf(\"u\") !== -1;\n    this.start = start | 0;\n    this.source = pattern + \"\";\n    this.flags = flags;\n    this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n    this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n  };\n\n  RegExpValidationState.prototype.raise = function raise (message) {\n    this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n  };\n\n  RegExpValidationState.prototype.at = function at (i) {\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return -1\n    }\n    var c = s.charCodeAt(i);\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n      return c\n    }\n    var next = s.charCodeAt(i + 1);\n    return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n  };\n\n  RegExpValidationState.prototype.nextIndex = function nextIndex (i) {\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return l\n    }\n    var c = s.charCodeAt(i), next;\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n        (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n      return i + 1\n    }\n    return i + 2\n  };\n\n  RegExpValidationState.prototype.current = function current () {\n    return this.at(this.pos)\n  };\n\n  RegExpValidationState.prototype.lookahead = function lookahead () {\n    return this.at(this.nextIndex(this.pos))\n  };\n\n  RegExpValidationState.prototype.advance = function advance () {\n    this.pos = this.nextIndex(this.pos);\n  };\n\n  RegExpValidationState.prototype.eat = function eat (ch) {\n    if (this.current() === ch) {\n      this.advance();\n      return true\n    }\n    return false\n  };\n\n  function codePointToString(ch) {\n    if (ch <= 0xFFFF) { return String.fromCharCode(ch) }\n    ch -= 0x10000;\n    return String.fromCharCode((ch >> 10) + 0xD800, (ch & 0x03FF) + 0xDC00)\n  }\n\n  pp$8.validateRegExpFlags = function(state) {\n    var validFlags = state.validFlags;\n    var flags = state.flags;\n\n    for (var i = 0; i < flags.length; i++) {\n      var flag = flags.charAt(i);\n      if (validFlags.indexOf(flag) === -1) {\n        this.raise(state.start, \"Invalid regular expression flag\");\n      }\n      if (flags.indexOf(flag, i + 1) > -1) {\n        this.raise(state.start, \"Duplicate regular expression flag\");\n      }\n    }\n  };\n\n  pp$8.validateRegExpPattern = function(state) {\n    this.regexp_pattern(state);\n\n    if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n      state.switchN = true;\n      this.regexp_pattern(state);\n    }\n  };\n\n  pp$8.regexp_pattern = function(state) {\n    state.pos = 0;\n    state.lastIntValue = 0;\n    state.lastStringValue = \"\";\n    state.lastAssertionIsQuantifiable = false;\n    state.numCapturingParens = 0;\n    state.maxBackReference = 0;\n    state.groupNames.length = 0;\n    state.backReferenceNames.length = 0;\n\n    this.regexp_disjunction(state);\n\n    if (state.pos !== state.source.length) {\n      if (state.eat(0x29 )) {\n        state.raise(\"Unmatched ')'\");\n      }\n      if (state.eat(0x5D ) || state.eat(0x7D )) {\n        state.raise(\"Lone quantifier brackets\");\n      }\n    }\n    if (state.maxBackReference > state.numCapturingParens) {\n      state.raise(\"Invalid escape\");\n    }\n    for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n      var name = list[i];\n\n      if (state.groupNames.indexOf(name) === -1) {\n        state.raise(\"Invalid named capture referenced\");\n      }\n    }\n  };\n\n  pp$8.regexp_disjunction = function(state) {\n    this.regexp_alternative(state);\n    while (state.eat(0x7C )) {\n      this.regexp_alternative(state);\n    }\n\n    if (this.regexp_eatQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    if (state.eat(0x7B )) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  };\n\n  pp$8.regexp_alternative = function(state) {\n    while (state.pos < state.source.length && this.regexp_eatTerm(state))\n      { }\n  };\n\n  pp$8.regexp_eatTerm = function(state) {\n    if (this.regexp_eatAssertion(state)) {\n      if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n        if (state.switchU) {\n          state.raise(\"Invalid quantifier\");\n        }\n      }\n      return true\n    }\n\n    if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n      this.regexp_eatQuantifier(state);\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatAssertion = function(state) {\n    var start = state.pos;\n    state.lastAssertionIsQuantifiable = false;\n\n    if (state.eat(0x5E ) || state.eat(0x24 )) {\n      return true\n    }\n\n    if (state.eat(0x5C )) {\n      if (state.eat(0x42 ) || state.eat(0x62 )) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    if (state.eat(0x28 ) && state.eat(0x3F )) {\n      var lookbehind = false;\n      if (this.options.ecmaVersion >= 9) {\n        lookbehind = state.eat(0x3C );\n      }\n      if (state.eat(0x3D ) || state.eat(0x21 )) {\n        this.regexp_disjunction(state);\n        if (!state.eat(0x29 )) {\n          state.raise(\"Unterminated group\");\n        }\n        state.lastAssertionIsQuantifiable = !lookbehind;\n        return true\n      }\n    }\n\n    state.pos = start;\n    return false\n  };\n\n  pp$8.regexp_eatQuantifier = function(state, noError) {\n    if ( noError === void 0 ) noError = false;\n\n    if (this.regexp_eatQuantifierPrefix(state, noError)) {\n      state.eat(0x3F );\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatQuantifierPrefix = function(state, noError) {\n    return (\n      state.eat(0x2A ) ||\n      state.eat(0x2B ) ||\n      state.eat(0x3F ) ||\n      this.regexp_eatBracedQuantifier(state, noError)\n    )\n  };\n  pp$8.regexp_eatBracedQuantifier = function(state, noError) {\n    var start = state.pos;\n    if (state.eat(0x7B )) {\n      var min = 0, max = -1;\n      if (this.regexp_eatDecimalDigits(state)) {\n        min = state.lastIntValue;\n        if (state.eat(0x2C ) && this.regexp_eatDecimalDigits(state)) {\n          max = state.lastIntValue;\n        }\n        if (state.eat(0x7D )) {\n          if (max !== -1 && max < min && !noError) {\n            state.raise(\"numbers out of order in {} quantifier\");\n          }\n          return true\n        }\n      }\n      if (state.switchU && !noError) {\n        state.raise(\"Incomplete quantifier\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  pp$8.regexp_eatAtom = function(state) {\n    return (\n      this.regexp_eatPatternCharacters(state) ||\n      state.eat(0x2E ) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state)\n    )\n  };\n  pp$8.regexp_eatReverseSolidusAtomEscape = function(state) {\n    var start = state.pos;\n    if (state.eat(0x5C )) {\n      if (this.regexp_eatAtomEscape(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatUncapturingGroup = function(state) {\n    var start = state.pos;\n    if (state.eat(0x28 )) {\n      if (state.eat(0x3F ) && state.eat(0x3A )) {\n        this.regexp_disjunction(state);\n        if (state.eat(0x29 )) {\n          return true\n        }\n        state.raise(\"Unterminated group\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatCapturingGroup = function(state) {\n    if (state.eat(0x28 )) {\n      if (this.options.ecmaVersion >= 9) {\n        this.regexp_groupSpecifier(state);\n      } else if (state.current() === 0x3F ) {\n        state.raise(\"Invalid group\");\n      }\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 )) {\n        state.numCapturingParens += 1;\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatExtendedAtom = function(state) {\n    return (\n      state.eat(0x2E ) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state) ||\n      this.regexp_eatInvalidBracedQuantifier(state) ||\n      this.regexp_eatExtendedPatternCharacter(state)\n    )\n  };\n\n  pp$8.regexp_eatInvalidBracedQuantifier = function(state) {\n    if (this.regexp_eatBracedQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatSyntaxCharacter = function(state) {\n    var ch = state.current();\n    if (isSyntaxCharacter(ch)) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isSyntaxCharacter(ch) {\n    return (\n      ch === 0x24  ||\n      ch >= 0x28  && ch <= 0x2B  ||\n      ch === 0x2E  ||\n      ch === 0x3F  ||\n      ch >= 0x5B  && ch <= 0x5E  ||\n      ch >= 0x7B  && ch <= 0x7D \n    )\n  }\n\n  pp$8.regexp_eatPatternCharacters = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n      state.advance();\n    }\n    return state.pos !== start\n  };\n\n  pp$8.regexp_eatExtendedPatternCharacter = function(state) {\n    var ch = state.current();\n    if (\n      ch !== -1 &&\n      ch !== 0x24  &&\n      !(ch >= 0x28  && ch <= 0x2B ) &&\n      ch !== 0x2E  &&\n      ch !== 0x3F  &&\n      ch !== 0x5B  &&\n      ch !== 0x5E  &&\n      ch !== 0x7C \n    ) {\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_groupSpecifier = function(state) {\n    if (state.eat(0x3F )) {\n      if (this.regexp_eatGroupName(state)) {\n        if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n          state.raise(\"Duplicate capture group name\");\n        }\n        state.groupNames.push(state.lastStringValue);\n        return\n      }\n      state.raise(\"Invalid group\");\n    }\n  };\n\n  pp$8.regexp_eatGroupName = function(state) {\n    state.lastStringValue = \"\";\n    if (state.eat(0x3C )) {\n      if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E )) {\n        return true\n      }\n      state.raise(\"Invalid capture group name\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatRegExpIdentifierName = function(state) {\n    state.lastStringValue = \"\";\n    if (this.regexp_eatRegExpIdentifierStart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n      while (this.regexp_eatRegExpIdentifierPart(state)) {\n        state.lastStringValue += codePointToString(state.lastIntValue);\n      }\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatRegExpIdentifierStart = function(state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C  && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierStart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierStart(ch) {\n    return isIdentifierStart(ch, true) || ch === 0x24  || ch === 0x5F \n  }\n\n  pp$8.regexp_eatRegExpIdentifierPart = function(state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C  && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierPart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierPart(ch) {\n    return isIdentifierChar(ch, true) || ch === 0x24  || ch === 0x5F  || ch === 0x200C  || ch === 0x200D \n  }\n\n  pp$8.regexp_eatAtomEscape = function(state) {\n    if (\n      this.regexp_eatBackReference(state) ||\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state) ||\n      (state.switchN && this.regexp_eatKGroupName(state))\n    ) {\n      return true\n    }\n    if (state.switchU) {\n      if (state.current() === 0x63 ) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    return false\n  };\n  pp$8.regexp_eatBackReference = function(state) {\n    var start = state.pos;\n    if (this.regexp_eatDecimalEscape(state)) {\n      var n = state.lastIntValue;\n      if (state.switchU) {\n        if (n > state.maxBackReference) {\n          state.maxBackReference = n;\n        }\n        return true\n      }\n      if (n <= state.numCapturingParens) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatKGroupName = function(state) {\n    if (state.eat(0x6B )) {\n      if (this.regexp_eatGroupName(state)) {\n        state.backReferenceNames.push(state.lastStringValue);\n        return true\n      }\n      state.raise(\"Invalid named reference\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatCharacterEscape = function(state) {\n    return (\n      this.regexp_eatControlEscape(state) ||\n      this.regexp_eatCControlLetter(state) ||\n      this.regexp_eatZero(state) ||\n      this.regexp_eatHexEscapeSequence(state) ||\n      this.regexp_eatRegExpUnicodeEscapeSequence(state) ||\n      (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n      this.regexp_eatIdentityEscape(state)\n    )\n  };\n  pp$8.regexp_eatCControlLetter = function(state) {\n    var start = state.pos;\n    if (state.eat(0x63 )) {\n      if (this.regexp_eatControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatZero = function(state) {\n    if (state.current() === 0x30  && !isDecimalDigit(state.lookahead())) {\n      state.lastIntValue = 0;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatControlEscape = function(state) {\n    var ch = state.current();\n    if (ch === 0x74 ) {\n      state.lastIntValue = 0x09; \n      state.advance();\n      return true\n    }\n    if (ch === 0x6E ) {\n      state.lastIntValue = 0x0A; \n      state.advance();\n      return true\n    }\n    if (ch === 0x76 ) {\n      state.lastIntValue = 0x0B; \n      state.advance();\n      return true\n    }\n    if (ch === 0x66 ) {\n      state.lastIntValue = 0x0C; \n      state.advance();\n      return true\n    }\n    if (ch === 0x72 ) {\n      state.lastIntValue = 0x0D; \n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatControlLetter = function(state) {\n    var ch = state.current();\n    if (isControlLetter(ch)) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isControlLetter(ch) {\n    return (\n      (ch >= 0x41  && ch <= 0x5A ) ||\n      (ch >= 0x61  && ch <= 0x7A )\n    )\n  }\n\n  pp$8.regexp_eatRegExpUnicodeEscapeSequence = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x75 )) {\n      if (this.regexp_eatFixedHexDigits(state, 4)) {\n        var lead = state.lastIntValue;\n        if (state.switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n          var leadSurrogateEnd = state.pos;\n          if (state.eat(0x5C ) && state.eat(0x75 ) && this.regexp_eatFixedHexDigits(state, 4)) {\n            var trail = state.lastIntValue;\n            if (trail >= 0xDC00 && trail <= 0xDFFF) {\n              state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n              return true\n            }\n          }\n          state.pos = leadSurrogateEnd;\n          state.lastIntValue = lead;\n        }\n        return true\n      }\n      if (\n        state.switchU &&\n        state.eat(0x7B ) &&\n        this.regexp_eatHexDigits(state) &&\n        state.eat(0x7D ) &&\n        isValidUnicode(state.lastIntValue)\n      ) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.pos = start;\n    }\n\n    return false\n  };\n  function isValidUnicode(ch) {\n    return ch >= 0 && ch <= 0x10FFFF\n  }\n\n  pp$8.regexp_eatIdentityEscape = function(state) {\n    if (state.switchU) {\n      if (this.regexp_eatSyntaxCharacter(state)) {\n        return true\n      }\n      if (state.eat(0x2F )) {\n        state.lastIntValue = 0x2F; \n        return true\n      }\n      return false\n    }\n\n    var ch = state.current();\n    if (ch !== 0x63  && (!state.switchN || ch !== 0x6B )) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatDecimalEscape = function(state) {\n    state.lastIntValue = 0;\n    var ch = state.current();\n    if (ch >= 0x31  && ch <= 0x39 ) {\n      do {\n        state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 );\n        state.advance();\n      } while ((ch = state.current()) >= 0x30  && ch <= 0x39 )\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatCharacterClassEscape = function(state) {\n    var ch = state.current();\n\n    if (isCharacterClassEscape(ch)) {\n      state.lastIntValue = -1;\n      state.advance();\n      return true\n    }\n\n    if (\n      state.switchU &&\n      this.options.ecmaVersion >= 9 &&\n      (ch === 0x50  || ch === 0x70 )\n    ) {\n      state.lastIntValue = -1;\n      state.advance();\n      if (\n        state.eat(0x7B ) &&\n        this.regexp_eatUnicodePropertyValueExpression(state) &&\n        state.eat(0x7D )\n      ) {\n        return true\n      }\n      state.raise(\"Invalid property name\");\n    }\n\n    return false\n  };\n  function isCharacterClassEscape(ch) {\n    return (\n      ch === 0x64  ||\n      ch === 0x44  ||\n      ch === 0x73  ||\n      ch === 0x53  ||\n      ch === 0x77  ||\n      ch === 0x57 \n    )\n  }\n\n  pp$8.regexp_eatUnicodePropertyValueExpression = function(state) {\n    var start = state.pos;\n\n    if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D )) {\n      var name = state.lastStringValue;\n      if (this.regexp_eatUnicodePropertyValue(state)) {\n        var value = state.lastStringValue;\n        this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n        return true\n      }\n    }\n    state.pos = start;\n\n    if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n      var nameOrValue = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\n      return true\n    }\n    return false\n  };\n  pp$8.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n    if (!has(state.unicodeProperties.nonBinary, name))\n      { state.raise(\"Invalid property name\"); }\n    if (!state.unicodeProperties.nonBinary[name].test(value))\n      { state.raise(\"Invalid property value\"); }\n  };\n  pp$8.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n    if (!state.unicodeProperties.binary.test(nameOrValue))\n      { state.raise(\"Invalid property name\"); }\n  };\n\n  pp$8.regexp_eatUnicodePropertyName = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyNameCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyNameCharacter(ch) {\n    return isControlLetter(ch) || ch === 0x5F \n  }\n\n  pp$8.regexp_eatUnicodePropertyValue = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyValueCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyValueCharacter(ch) {\n    return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n  }\n\n  pp$8.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n    return this.regexp_eatUnicodePropertyValue(state)\n  };\n\n  pp$8.regexp_eatCharacterClass = function(state) {\n    if (state.eat(0x5B )) {\n      state.eat(0x5E );\n      this.regexp_classRanges(state);\n      if (state.eat(0x5D )) {\n        return true\n      }\n      state.raise(\"Unterminated character class\");\n    }\n    return false\n  };\n\n  pp$8.regexp_classRanges = function(state) {\n    while (this.regexp_eatClassAtom(state)) {\n      var left = state.lastIntValue;\n      if (state.eat(0x2D ) && this.regexp_eatClassAtom(state)) {\n        var right = state.lastIntValue;\n        if (state.switchU && (left === -1 || right === -1)) {\n          state.raise(\"Invalid character class\");\n        }\n        if (left !== -1 && right !== -1 && left > right) {\n          state.raise(\"Range out of order in character class\");\n        }\n      }\n    }\n  };\n\n  pp$8.regexp_eatClassAtom = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x5C )) {\n      if (this.regexp_eatClassEscape(state)) {\n        return true\n      }\n      if (state.switchU) {\n        var ch$1 = state.current();\n        if (ch$1 === 0x63  || isOctalDigit(ch$1)) {\n          state.raise(\"Invalid class escape\");\n        }\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n\n    var ch = state.current();\n    if (ch !== 0x5D ) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatClassEscape = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x62 )) {\n      state.lastIntValue = 0x08; \n      return true\n    }\n\n    if (state.switchU && state.eat(0x2D )) {\n      state.lastIntValue = 0x2D; \n      return true\n    }\n\n    if (!state.switchU && state.eat(0x63 )) {\n      if (this.regexp_eatClassControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    return (\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state)\n    )\n  };\n\n  pp$8.regexp_eatClassControlLetter = function(state) {\n    var ch = state.current();\n    if (isDecimalDigit(ch) || ch === 0x5F ) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatHexEscapeSequence = function(state) {\n    var start = state.pos;\n    if (state.eat(0x78 )) {\n      if (this.regexp_eatFixedHexDigits(state, 2)) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  pp$8.regexp_eatDecimalDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isDecimalDigit(ch = state.current())) {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 );\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isDecimalDigit(ch) {\n    return ch >= 0x30  && ch <= 0x39 \n  }\n\n  pp$8.regexp_eatHexDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isHexDigit(ch = state.current())) {\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isHexDigit(ch) {\n    return (\n      (ch >= 0x30  && ch <= 0x39 ) ||\n      (ch >= 0x41  && ch <= 0x46 ) ||\n      (ch >= 0x61  && ch <= 0x66 )\n    )\n  }\n  function hexToInt(ch) {\n    if (ch >= 0x41  && ch <= 0x46 ) {\n      return 10 + (ch - 0x41 )\n    }\n    if (ch >= 0x61  && ch <= 0x66 ) {\n      return 10 + (ch - 0x61 )\n    }\n    return ch - 0x30 \n  }\n\n  pp$8.regexp_eatLegacyOctalEscapeSequence = function(state) {\n    if (this.regexp_eatOctalDigit(state)) {\n      var n1 = state.lastIntValue;\n      if (this.regexp_eatOctalDigit(state)) {\n        var n2 = state.lastIntValue;\n        if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n          state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n        } else {\n          state.lastIntValue = n1 * 8 + n2;\n        }\n      } else {\n        state.lastIntValue = n1;\n      }\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatOctalDigit = function(state) {\n    var ch = state.current();\n    if (isOctalDigit(ch)) {\n      state.lastIntValue = ch - 0x30; \n      state.advance();\n      return true\n    }\n    state.lastIntValue = 0;\n    return false\n  };\n  function isOctalDigit(ch) {\n    return ch >= 0x30  && ch <= 0x37 \n  }\n\n  pp$8.regexp_eatFixedHexDigits = function(state, length) {\n    var start = state.pos;\n    state.lastIntValue = 0;\n    for (var i = 0; i < length; ++i) {\n      var ch = state.current();\n      if (!isHexDigit(ch)) {\n        state.pos = start;\n        return false\n      }\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return true\n  };\n\n\n  var Token = function Token(p) {\n    this.type = p.type;\n    this.value = p.value;\n    this.start = p.start;\n    this.end = p.end;\n    if (p.options.locations)\n      { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n    if (p.options.ranges)\n      { this.range = [p.start, p.end]; }\n  };\n\n\n  var pp$9 = Parser.prototype;\n\n\n  pp$9.next = function(ignoreEscapeSequenceInKeyword) {\n    if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\n      { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\n    if (this.options.onToken)\n      { this.options.onToken(new Token(this)); }\n\n    this.lastTokEnd = this.end;\n    this.lastTokStart = this.start;\n    this.lastTokEndLoc = this.endLoc;\n    this.lastTokStartLoc = this.startLoc;\n    this.nextToken();\n  };\n\n  pp$9.getToken = function() {\n    this.next();\n    return new Token(this)\n  };\n\n  if (typeof Symbol !== \"undefined\")\n    { pp$9[Symbol.iterator] = function() {\n      var this$1 = this;\n\n      return {\n        next: function () {\n          var token = this$1.getToken();\n          return {\n            done: token.type === types.eof,\n            value: token\n          }\n        }\n      }\n    }; }\n\n\n  pp$9.curContext = function() {\n    return this.context[this.context.length - 1]\n  };\n\n\n  pp$9.nextToken = function() {\n    var curContext = this.curContext();\n    if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n    this.start = this.pos;\n    if (this.options.locations) { this.startLoc = this.curPosition(); }\n    if (this.pos >= this.input.length) { return this.finishToken(types.eof) }\n\n    if (curContext.override) { return curContext.override(this) }\n    else { this.readToken(this.fullCharCodeAtPos()); }\n  };\n\n  pp$9.readToken = function(code) {\n    if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 )\n      { return this.readWord() }\n\n    return this.getTokenFromCode(code)\n  };\n\n  pp$9.fullCharCodeAtPos = function() {\n    var code = this.input.charCodeAt(this.pos);\n    if (code <= 0xd7ff || code >= 0xe000) { return code }\n    var next = this.input.charCodeAt(this.pos + 1);\n    return (code << 10) + next - 0x35fdc00\n  };\n\n  pp$9.skipBlockComment = function() {\n    var startLoc = this.options.onComment && this.curPosition();\n    var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n    if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n    this.pos = end + 2;\n    if (this.options.locations) {\n      lineBreakG.lastIndex = start;\n      var match;\n      while ((match = lineBreakG.exec(this.input)) && match.index < this.pos) {\n        ++this.curLine;\n        this.lineStart = match.index + match[0].length;\n      }\n    }\n    if (this.options.onComment)\n      { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n  pp$9.skipLineComment = function(startSkip) {\n    var start = this.pos;\n    var startLoc = this.options.onComment && this.curPosition();\n    var ch = this.input.charCodeAt(this.pos += startSkip);\n    while (this.pos < this.input.length && !isNewLine(ch)) {\n      ch = this.input.charCodeAt(++this.pos);\n    }\n    if (this.options.onComment)\n      { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n\n  pp$9.skipSpace = function() {\n    loop: while (this.pos < this.input.length) {\n      var ch = this.input.charCodeAt(this.pos);\n      switch (ch) {\n      case 32: case 160: \n        ++this.pos;\n        break\n      case 13:\n        if (this.input.charCodeAt(this.pos + 1) === 10) {\n          ++this.pos;\n        }\n      case 10: case 8232: case 8233:\n        ++this.pos;\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        break\n      case 47: \n        switch (this.input.charCodeAt(this.pos + 1)) {\n        case 42: \n          this.skipBlockComment();\n          break\n        case 47:\n          this.skipLineComment(2);\n          break\n        default:\n          break loop\n        }\n        break\n      default:\n        if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n          ++this.pos;\n        } else {\n          break loop\n        }\n      }\n    }\n  };\n\n\n  pp$9.finishToken = function(type, val) {\n    this.end = this.pos;\n    if (this.options.locations) { this.endLoc = this.curPosition(); }\n    var prevType = this.type;\n    this.type = type;\n    this.value = val;\n\n    this.updateContext(prevType);\n  };\n\n\n  pp$9.readToken_dot = function() {\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next >= 48 && next <= 57) { return this.readNumber(true) }\n    var next2 = this.input.charCodeAt(this.pos + 2);\n    if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { \n      this.pos += 3;\n      return this.finishToken(types.ellipsis)\n    } else {\n      ++this.pos;\n      return this.finishToken(types.dot)\n    }\n  };\n\n  pp$9.readToken_slash = function() { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.slash, 1)\n  };\n\n  pp$9.readToken_mult_modulo_exp = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    var tokentype = code === 42 ? types.star : types.modulo;\n\n    if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n      ++size;\n      tokentype = types.starstar;\n      next = this.input.charCodeAt(this.pos + 2);\n    }\n\n    if (next === 61) { return this.finishOp(types.assign, size + 1) }\n    return this.finishOp(tokentype, size)\n  };\n\n  pp$9.readToken_pipe_amp = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) { return this.finishOp(code === 124 ? types.logicalOR : types.logicalAND, 2) }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(code === 124 ? types.bitwiseOR : types.bitwiseAND, 1)\n  };\n\n  pp$9.readToken_caret = function() { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.bitwiseXOR, 1)\n  };\n\n  pp$9.readToken_plus_min = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) {\n      if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n          (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n        this.skipLineComment(3);\n        this.skipSpace();\n        return this.nextToken()\n      }\n      return this.finishOp(types.incDec, 2)\n    }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.plusMin, 1)\n  };\n\n  pp$9.readToken_lt_gt = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    if (next === code) {\n      size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n      if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types.assign, size + 1) }\n      return this.finishOp(types.bitShift, size)\n    }\n    if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n        this.input.charCodeAt(this.pos + 3) === 45) {\n      this.skipLineComment(4);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    if (next === 61) { size = 2; }\n    return this.finishOp(types.relational, size)\n  };\n\n  pp$9.readToken_eq_excl = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n    if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { \n      this.pos += 2;\n      return this.finishToken(types.arrow)\n    }\n    return this.finishOp(code === 61 ? types.eq : types.prefix, 1)\n  };\n\n  pp$9.getTokenFromCode = function(code) {\n    switch (code) {\n    case 46: \n      return this.readToken_dot()\n\n    case 40: ++this.pos; return this.finishToken(types.parenL)\n    case 41: ++this.pos; return this.finishToken(types.parenR)\n    case 59: ++this.pos; return this.finishToken(types.semi)\n    case 44: ++this.pos; return this.finishToken(types.comma)\n    case 91: ++this.pos; return this.finishToken(types.bracketL)\n    case 93: ++this.pos; return this.finishToken(types.bracketR)\n    case 123: ++this.pos; return this.finishToken(types.braceL)\n    case 125: ++this.pos; return this.finishToken(types.braceR)\n    case 58: ++this.pos; return this.finishToken(types.colon)\n    case 63: ++this.pos; return this.finishToken(types.question)\n\n    case 96: \n      if (this.options.ecmaVersion < 6) { break }\n      ++this.pos;\n      return this.finishToken(types.backQuote)\n\n    case 48: \n      var next = this.input.charCodeAt(this.pos + 1);\n      if (next === 120 || next === 88) { return this.readRadixNumber(16) } \n      if (this.options.ecmaVersion >= 6) {\n        if (next === 111 || next === 79) { return this.readRadixNumber(8) } \n        if (next === 98 || next === 66) { return this.readRadixNumber(2) } \n      }\n\n    case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: \n      return this.readNumber(false)\n\n    case 34: case 39: \n      return this.readString(code)\n\n\n    case 47: \n      return this.readToken_slash()\n\n    case 37: case 42: \n      return this.readToken_mult_modulo_exp(code)\n\n    case 124: case 38: \n      return this.readToken_pipe_amp(code)\n\n    case 94: \n      return this.readToken_caret()\n\n    case 43: case 45: \n      return this.readToken_plus_min(code)\n\n    case 60: case 62: \n      return this.readToken_lt_gt(code)\n\n    case 61: case 33: \n      return this.readToken_eq_excl(code)\n\n    case 126: \n      return this.finishOp(types.prefix, 1)\n    }\n\n    this.raise(this.pos, \"Unexpected character '\" + codePointToString$1(code) + \"'\");\n  };\n\n  pp$9.finishOp = function(type, size) {\n    var str = this.input.slice(this.pos, this.pos + size);\n    this.pos += size;\n    return this.finishToken(type, str)\n  };\n\n  pp$9.readRegexp = function() {\n    var escaped, inClass, start = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n      var ch = this.input.charAt(this.pos);\n      if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n      if (!escaped) {\n        if (ch === \"[\") { inClass = true; }\n        else if (ch === \"]\" && inClass) { inClass = false; }\n        else if (ch === \"/\" && !inClass) { break }\n        escaped = ch === \"\\\\\";\n      } else { escaped = false; }\n      ++this.pos;\n    }\n    var pattern = this.input.slice(start, this.pos);\n    ++this.pos;\n    var flagsStart = this.pos;\n    var flags = this.readWord1();\n    if (this.containsEsc) { this.unexpected(flagsStart); }\n\n    var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n    state.reset(start, pattern, flags);\n    this.validateRegExpFlags(state);\n    this.validateRegExpPattern(state);\n\n    var value = null;\n    try {\n      value = new RegExp(pattern, flags);\n    } catch (e) {\n    }\n\n    return this.finishToken(types.regexp, {pattern: pattern, flags: flags, value: value})\n  };\n\n\n  pp$9.readInt = function(radix, len) {\n    var start = this.pos, total = 0;\n    for (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n      var code = this.input.charCodeAt(this.pos), val = (void 0);\n      if (code >= 97) { val = code - 97 + 10; } \n      else if (code >= 65) { val = code - 65 + 10; } \n      else if (code >= 48 && code <= 57) { val = code - 48; } \n      else { val = Infinity; }\n      if (val >= radix) { break }\n      ++this.pos;\n      total = total * radix + val;\n    }\n    if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n    return total\n  };\n\n  pp$9.readRadixNumber = function(radix) {\n    var start = this.pos;\n    this.pos += 2; \n    var val = this.readInt(radix);\n    if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n    if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n      val = typeof BigInt !== \"undefined\" ? BigInt(this.input.slice(start, this.pos)) : null;\n      ++this.pos;\n    } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types.num, val)\n  };\n\n\n  pp$9.readNumber = function(startsWithDot) {\n    var start = this.pos;\n    if (!startsWithDot && this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n    if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n    var next = this.input.charCodeAt(this.pos);\n    if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n      var str$1 = this.input.slice(start, this.pos);\n      var val$1 = typeof BigInt !== \"undefined\" ? BigInt(str$1) : null;\n      ++this.pos;\n      if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n      return this.finishToken(types.num, val$1)\n    }\n    if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n    if (next === 46 && !octal) { \n      ++this.pos;\n      this.readInt(10);\n      next = this.input.charCodeAt(this.pos);\n    }\n    if ((next === 69 || next === 101) && !octal) { \n      next = this.input.charCodeAt(++this.pos);\n      if (next === 43 || next === 45) { ++this.pos; } \n      if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    }\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n    var str = this.input.slice(start, this.pos);\n    var val = octal ? parseInt(str, 8) : parseFloat(str);\n    return this.finishToken(types.num, val)\n  };\n\n\n  pp$9.readCodePoint = function() {\n    var ch = this.input.charCodeAt(this.pos), code;\n\n    if (ch === 123) { \n      if (this.options.ecmaVersion < 6) { this.unexpected(); }\n      var codePos = ++this.pos;\n      code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n      ++this.pos;\n      if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n    } else {\n      code = this.readHexChar(4);\n    }\n    return code\n  };\n\n  function codePointToString$1(code) {\n    if (code <= 0xFFFF) { return String.fromCharCode(code) }\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n  }\n\n  pp$9.readString = function(quote) {\n    var out = \"\", chunkStart = ++this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === quote) { break }\n      if (ch === 92) { \n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(false);\n        chunkStart = this.pos;\n      } else {\n        if (isNewLine(ch, this.options.ecmaVersion >= 10)) { this.raise(this.start, \"Unterminated string constant\"); }\n        ++this.pos;\n      }\n    }\n    out += this.input.slice(chunkStart, this.pos++);\n    return this.finishToken(types.string, out)\n  };\n\n\n  var INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\n  pp$9.tryReadTemplateToken = function() {\n    this.inTemplateElement = true;\n    try {\n      this.readTmplToken();\n    } catch (err) {\n      if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n        this.readInvalidTemplateToken();\n      } else {\n        throw err\n      }\n    }\n\n    this.inTemplateElement = false;\n  };\n\n  pp$9.invalidStringToken = function(position, message) {\n    if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n      throw INVALID_TEMPLATE_ESCAPE_ERROR\n    } else {\n      this.raise(position, message);\n    }\n  };\n\n  pp$9.readTmplToken = function() {\n    var out = \"\", chunkStart = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { \n        if (this.pos === this.start && (this.type === types.template || this.type === types.invalidTemplate)) {\n          if (ch === 36) {\n            this.pos += 2;\n            return this.finishToken(types.dollarBraceL)\n          } else {\n            ++this.pos;\n            return this.finishToken(types.backQuote)\n          }\n        }\n        out += this.input.slice(chunkStart, this.pos);\n        return this.finishToken(types.template, out)\n      }\n      if (ch === 92) { \n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(true);\n        chunkStart = this.pos;\n      } else if (isNewLine(ch)) {\n        out += this.input.slice(chunkStart, this.pos);\n        ++this.pos;\n        switch (ch) {\n        case 13:\n          if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n        case 10:\n          out += \"\\n\";\n          break\n        default:\n          out += String.fromCharCode(ch);\n          break\n        }\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        chunkStart = this.pos;\n      } else {\n        ++this.pos;\n      }\n    }\n  };\n\n  pp$9.readInvalidTemplateToken = function() {\n    for (; this.pos < this.input.length; this.pos++) {\n      switch (this.input[this.pos]) {\n      case \"\\\\\":\n        ++this.pos;\n        break\n\n      case \"$\":\n        if (this.input[this.pos + 1] !== \"{\") {\n          break\n        }\n\n      case \"`\":\n        return this.finishToken(types.invalidTemplate, this.input.slice(this.start, this.pos))\n\n      }\n    }\n    this.raise(this.start, \"Unterminated template\");\n  };\n\n\n  pp$9.readEscapedChar = function(inTemplate) {\n    var ch = this.input.charCodeAt(++this.pos);\n    ++this.pos;\n    switch (ch) {\n    case 110: return \"\\n\" \n    case 114: return \"\\r\" \n    case 120: return String.fromCharCode(this.readHexChar(2)) \n    case 117: return codePointToString$1(this.readCodePoint()) \n    case 116: return \"\\t\" \n    case 98: return \"\\b\" \n    case 118: return \"\\u000b\" \n    case 102: return \"\\f\" \n    case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } \n    case 10: \n      if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n      return \"\"\n    case 56:\n    case 57:\n      if (inTemplate) {\n        var codePos = this.pos - 1;\n\n        this.invalidStringToken(\n          codePos,\n          \"Invalid escape sequence in template string\"\n        );\n\n        return null\n      }\n    default:\n      if (ch >= 48 && ch <= 55) {\n        var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n        var octal = parseInt(octalStr, 8);\n        if (octal > 255) {\n          octalStr = octalStr.slice(0, -1);\n          octal = parseInt(octalStr, 8);\n        }\n        this.pos += octalStr.length - 1;\n        ch = this.input.charCodeAt(this.pos);\n        if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n          this.invalidStringToken(\n            this.pos - 1 - octalStr.length,\n            inTemplate\n              ? \"Octal literal in template string\"\n              : \"Octal literal in strict mode\"\n          );\n        }\n        return String.fromCharCode(octal)\n      }\n      if (isNewLine(ch)) {\n        return \"\"\n      }\n      return String.fromCharCode(ch)\n    }\n  };\n\n\n  pp$9.readHexChar = function(len) {\n    var codePos = this.pos;\n    var n = this.readInt(16, len);\n    if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n    return n\n  };\n\n\n  pp$9.readWord1 = function() {\n    this.containsEsc = false;\n    var word = \"\", first = true, chunkStart = this.pos;\n    var astral = this.options.ecmaVersion >= 6;\n    while (this.pos < this.input.length) {\n      var ch = this.fullCharCodeAtPos();\n      if (isIdentifierChar(ch, astral)) {\n        this.pos += ch <= 0xffff ? 1 : 2;\n      } else if (ch === 92) { \n        this.containsEsc = true;\n        word += this.input.slice(chunkStart, this.pos);\n        var escStart = this.pos;\n        if (this.input.charCodeAt(++this.pos) !== 117) \n          { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n        ++this.pos;\n        var esc = this.readCodePoint();\n        if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n          { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n        word += codePointToString$1(esc);\n        chunkStart = this.pos;\n      } else {\n        break\n      }\n      first = false;\n    }\n    return word + this.input.slice(chunkStart, this.pos)\n  };\n\n\n  pp$9.readWord = function() {\n    var word = this.readWord1();\n    var type = types.name;\n    if (this.keywords.test(word)) {\n      type = keywords$1[word];\n    }\n    return this.finishToken(type, word)\n  };\n\n\n  var version = \"7.1.0\";\n\n  Parser.acorn = {\n    Parser: Parser,\n    version: version,\n    defaultOptions: defaultOptions,\n    Position: Position,\n    SourceLocation: SourceLocation,\n    getLineInfo: getLineInfo,\n    Node: Node,\n    TokenType: TokenType,\n    tokTypes: types,\n    keywordTypes: keywords$1,\n    TokContext: TokContext,\n    tokContexts: types$1,\n    isIdentifierChar: isIdentifierChar,\n    isIdentifierStart: isIdentifierStart,\n    Token: Token,\n    isNewLine: isNewLine,\n    lineBreak: lineBreak,\n    lineBreakG: lineBreakG,\n    nonASCIIwhitespace: nonASCIIwhitespace\n  };\n\n\n  function parse(input, options) {\n    return Parser.parse(input, options)\n  }\n\n\n  function parseExpressionAt(input, pos, options) {\n    return Parser.parseExpressionAt(input, pos, options)\n  }\n\n\n  function tokenizer(input, options) {\n    return Parser.tokenizer(input, options)\n  }\n\n  exports.Node = Node;\n  exports.Parser = Parser;\n  exports.Position = Position;\n  exports.SourceLocation = SourceLocation;\n  exports.TokContext = TokContext;\n  exports.Token = Token;\n  exports.TokenType = TokenType;\n  exports.defaultOptions = defaultOptions;\n  exports.getLineInfo = getLineInfo;\n  exports.isIdentifierChar = isIdentifierChar;\n  exports.isIdentifierStart = isIdentifierStart;\n  exports.isNewLine = isNewLine;\n  exports.keywordTypes = keywords$1;\n  exports.lineBreak = lineBreak;\n  exports.lineBreakG = lineBreakG;\n  exports.nonASCIIwhitespace = nonASCIIwhitespace;\n  exports.parse = parse;\n  exports.parseExpressionAt = parseExpressionAt;\n  exports.tokContexts = types$1;\n  exports.tokTypes = types;\n  exports.tokenizer = tokenizer;\n  exports.version = version;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n\n},{}],2:[function(require,module,exports){\n\n},{}],3:[function(require,module,exports){\nfunction glWiretap(gl, options = {}) {\n  const {\n    contextName = 'gl',\n    throwGetError,\n    useTrackablePrimitives,\n    readPixelsFile,\n    recording = [],\n    variables = {},\n    onReadPixels,\n    onUnrecognizedArgumentLookup,\n  } = options;\n  const proxy = new Proxy(gl, { get: listen });\n  const contextVariables = [];\n  const entityNames = {};\n  let imageCount = 0;\n  let indent = '';\n  let readPixelsVariableName;\n  return proxy;\n  function listen(obj, property) {\n    switch (property) {\n      case 'addComment': return addComment;\n      case 'checkThrowError': return checkThrowError;\n      case 'getReadPixelsVariableName': return readPixelsVariableName;\n      case 'insertVariable': return insertVariable;\n      case 'reset': return reset;\n      case 'setIndent': return setIndent;\n      case 'toString': return toString;\n      case 'getContextVariableName': return getContextVariableName;\n    }\n    if (typeof gl[property] === 'function') {\n      return function() { \n        switch (property) {\n          case 'getError':\n            if (throwGetError) {\n              recording.push(`${indent}if (${contextName}.getError() !== ${contextName}.NONE) throw new Error('error');`);\n            } else {\n              recording.push(`${indent}${contextName}.getError();`); \n            }\n            return gl.getError();\n          case 'getExtension': {\n            const variableName = `${contextName}Variables${contextVariables.length}`;\n            recording.push(`${indent}const ${variableName} = ${contextName}.getExtension('${arguments[0]}');`);\n            const extension = gl.getExtension(arguments[0]);\n            if (extension && typeof extension === 'object') {\n              const tappedExtension = glExtensionWiretap(extension, {\n                getEntity,\n                useTrackablePrimitives,\n                recording,\n                contextName: variableName,\n                contextVariables,\n                variables,\n                indent,\n                onUnrecognizedArgumentLookup,\n              });\n              contextVariables.push(tappedExtension);\n              return tappedExtension;\n            } else {\n              contextVariables.push(null);\n            }\n            return extension;\n          }\n          case 'readPixels':\n            const i = contextVariables.indexOf(arguments[6]);\n            let targetVariableName;\n            if (i === -1) {\n              const variableName = getVariableName(arguments[6]);\n              if (variableName) {\n                targetVariableName = variableName;\n                recording.push(`${indent}${variableName}`);\n              } else {\n                targetVariableName = `${contextName}Variable${contextVariables.length}`;\n                contextVariables.push(arguments[6]);\n                recording.push(`${indent}const ${targetVariableName} = new ${arguments[6].constructor.name}(${arguments[6].length});`);\n              }\n            } else {\n              targetVariableName = `${contextName}Variable${i}`;\n            }\n            readPixelsVariableName = targetVariableName;\n            const argumentAsStrings = [\n              arguments[0],\n              arguments[1],\n              arguments[2],\n              arguments[3],\n              getEntity(arguments[4]),\n              getEntity(arguments[5]),\n              targetVariableName\n            ];\n            recording.push(`${indent}${contextName}.readPixels(${argumentAsStrings.join(', ')});`);\n            if (readPixelsFile) {\n              writePPM(arguments[2], arguments[3]);\n            }\n            if (onReadPixels) {\n              onReadPixels(targetVariableName, argumentAsStrings);\n            }\n            return gl.readPixels.apply(gl, arguments);\n          case 'drawBuffers':\n            recording.push(`${indent}${contextName}.drawBuffers([${argumentsToString(arguments[0], { contextName, contextVariables, getEntity, addVariable, variables, onUnrecognizedArgumentLookup } )}]);`);\n            return gl.drawBuffers(arguments[0]);\n        }\n        let result = gl[property].apply(gl, arguments);\n        switch (typeof result) {\n          case 'undefined':\n            recording.push(`${indent}${methodCallToString(property, arguments)};`);\n            return;\n          case 'number':\n          case 'boolean':\n            if (useTrackablePrimitives && contextVariables.indexOf(trackablePrimitive(result)) === -1) {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result = trackablePrimitive(result));\n              break;\n            }\n          default:\n            if (result === null) {\n              recording.push(`${methodCallToString(property, arguments)};`);\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n            }\n\n            contextVariables.push(result);\n        }\n        return result;\n      }\n    }\n    entityNames[gl[property]] = property;\n    return gl[property];\n  }\n  function toString() {\n    return recording.join('\\n');\n  }\n  function reset() {\n    while (recording.length > 0) {\n      recording.pop();\n    }\n  }\n  function insertVariable(name, value) {\n    variables[name] = value;\n  }\n  function getEntity(value) {\n    const name = entityNames[value];\n    if (name) {\n      return contextName + '.' + name;\n    }\n    return value;\n  }\n  function setIndent(spaces) {\n    indent = ' '.repeat(spaces);\n  }\n  function addVariable(value, source) {\n    const variableName = `${contextName}Variable${contextVariables.length}`;\n    recording.push(`${indent}const ${variableName} = ${source};`);\n    contextVariables.push(value);\n    return variableName;\n  }\n  function writePPM(width, height) {\n    const sourceVariable = `${contextName}Variable${contextVariables.length}`;\n    const imageVariable = `imageDatum${imageCount}`;\n    recording.push(`${indent}let ${imageVariable} = [\"P3\\\\n# ${readPixelsFile}.ppm\\\\n\", ${width}, ' ', ${height}, \"\\\\n255\\\\n\"].join(\"\");`);\n    recording.push(`${indent}for (let i = 0; i < ${imageVariable}.length; i += 4) {`);\n    recording.push(`${indent}  ${imageVariable} += ${sourceVariable}[i] + ' ' + ${sourceVariable}[i + 1] + ' ' + ${sourceVariable}[i + 2] + ' ';`);\n    recording.push(`${indent}}`);\n    recording.push(`${indent}if (typeof require !== \"undefined\") {`);\n    recording.push(`${indent}  require('fs').writeFileSync('./${readPixelsFile}.ppm', ${imageVariable});`);\n    recording.push(`${indent}}`);\n    imageCount++;\n  }\n  function addComment(value) {\n    recording.push(`${indent}// ${value}`);\n  }\n  function checkThrowError() {\n    recording.push(`${indent}(() => {\n${indent}const error = ${contextName}.getError();\n${indent}if (error !== ${contextName}.NONE) {\n${indent}  const names = Object.getOwnPropertyNames(gl);\n${indent}  for (let i = 0; i < names.length; i++) {\n${indent}    const name = names[i];\n${indent}    if (${contextName}[name] === error) {\n${indent}      throw new Error('${contextName} threw ' + name);\n${indent}    }\n${indent}  }\n${indent}}\n${indent}})();`);\n  }\n  function methodCallToString(method, args) {\n    return `${contextName}.${method}(${argumentsToString(args, { contextName, contextVariables, getEntity, addVariable, variables, onUnrecognizedArgumentLookup })})`;\n  }\n\n  function getVariableName(value) {\n    if (variables) {\n      for (const name in variables) {\n        if (variables[name] === value) {\n          return name;\n        }\n      }\n    }\n    return null;\n  }\n\n  function getContextVariableName(value) {\n    const i = contextVariables.indexOf(value);\n    if (i !== -1) {\n      return `${contextName}Variable${i}`;\n    }\n    return null;\n  }\n}\n\nfunction glExtensionWiretap(extension, options) {\n  const proxy = new Proxy(extension, { get: listen });\n  const extensionEntityNames = {};\n  const {\n    contextName,\n    contextVariables,\n    getEntity,\n    useTrackablePrimitives,\n    recording,\n    variables,\n    indent,\n    onUnrecognizedArgumentLookup,\n  } = options;\n  return proxy;\n  function listen(obj, property) {\n    if (typeof obj[property] === 'function') {\n      return function() {\n        switch (property) {\n          case 'drawBuffersWEBGL':\n            recording.push(`${indent}${contextName}.drawBuffersWEBGL([${argumentsToString(arguments[0], { contextName, contextVariables, getEntity: getExtensionEntity, addVariable, variables, onUnrecognizedArgumentLookup })}]);`);\n            return extension.drawBuffersWEBGL(arguments[0]);\n        }\n        let result = extension[property].apply(extension, arguments);\n        switch (typeof result) {\n          case 'undefined':\n            recording.push(`${indent}${methodCallToString(property, arguments)};`);\n            return;\n          case 'number':\n          case 'boolean':\n            if (useTrackablePrimitives && contextVariables.indexOf(trackablePrimitive(result)) === -1) {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result = trackablePrimitive(result));\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result);\n            }\n            break;\n          default:\n            if (result === null) {\n              recording.push(`${methodCallToString(property, arguments)};`);\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n            }\n            contextVariables.push(result);\n        }\n        return result;\n      };\n    }\n    extensionEntityNames[extension[property]] = property;\n    return extension[property];\n  }\n\n  function getExtensionEntity(value) {\n    if (extensionEntityNames.hasOwnProperty(value)) {\n      return `${contextName}.${extensionEntityNames[value]}`;\n    }\n    return getEntity(value);\n  }\n\n  function methodCallToString(method, args) {\n    return `${contextName}.${method}(${argumentsToString(args, { contextName, contextVariables, getEntity: getExtensionEntity, addVariable, variables, onUnrecognizedArgumentLookup })})`;\n  }\n\n  function addVariable(value, source) {\n    const variableName = `${contextName}Variable${contextVariables.length}`;\n    contextVariables.push(value);\n    recording.push(`${indent}const ${variableName} = ${source};`);\n    return variableName;\n  }\n}\n\nfunction argumentsToString(args, options) {\n  const { variables, onUnrecognizedArgumentLookup } = options;\n  return (Array.from(args).map((arg) => {\n    const variableName = getVariableName(arg);\n    if (variableName) {\n      return variableName;\n    }\n    return argumentToString(arg, options);\n  }).join(', '));\n\n  function getVariableName(value) {\n    if (variables) {\n      for (const name in variables) {\n        if (!variables.hasOwnProperty(name)) continue;\n        if (variables[name] === value) {\n          return name;\n        }\n      }\n    }\n    if (onUnrecognizedArgumentLookup) {\n      return onUnrecognizedArgumentLookup(value);\n    }\n    return null;\n  }\n}\n\nfunction argumentToString(arg, options) {\n  const { contextName, contextVariables, getEntity, addVariable, onUnrecognizedArgumentLookup } = options;\n  if (typeof arg === 'undefined') {\n    return 'undefined';\n  }\n  if (arg === null) {\n    return 'null';\n  }\n  const i = contextVariables.indexOf(arg);\n  if (i > -1) {\n    return `${contextName}Variable${i}`;\n  }\n  switch (arg.constructor.name) {\n    case 'String':\n      const hasLines = /\\n/.test(arg);\n      const hasSingleQuotes = /'/.test(arg);\n      const hasDoubleQuotes = /\"/.test(arg);\n      if (hasLines) {\n        return '`' + arg + '`';\n      } else if (hasSingleQuotes && !hasDoubleQuotes) {\n        return '\"' + arg + '\"';\n      } else if (!hasSingleQuotes && hasDoubleQuotes) {\n        return \"'\" + arg + \"'\";\n      } else {\n        return '\\'' + arg + '\\'';\n      }\n    case 'Number': return getEntity(arg);\n    case 'Boolean': return getEntity(arg);\n    case 'Array':\n      return addVariable(arg, `new ${arg.constructor.name}([${Array.from(arg).join(',')}])`);\n    case 'Float32Array':\n    case 'Uint8Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n      return addVariable(arg, `new ${arg.constructor.name}(${JSON.stringify(Array.from(arg))})`);\n    default:\n      if (onUnrecognizedArgumentLookup) {\n        const instantiationString = onUnrecognizedArgumentLookup(arg);\n        if (instantiationString) {\n          return instantiationString;\n        }\n      }\n      throw new Error(`unrecognized argument type ${arg.constructor.name}`);\n  }\n}\n\nfunction trackablePrimitive(value) {\n  return new value.constructor(value);\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = { glWiretap, glExtensionWiretap };\n}\n\nif (typeof window !== 'undefined') {\n  glWiretap.glExtensionWiretap = glExtensionWiretap;\n  window.glWiretap = glWiretap;\n}\n\n},{}],4:[function(require,module,exports){\nfunction setupArguments(args) {\n  const newArguments = new Array(args.length);\n  for (let i = 0; i < args.length; i++) {\n    const arg = args[i];\n    if (arg.toArray) {\n      newArguments[i] = arg.toArray();\n    } else {\n      newArguments[i] = arg;\n    }\n  }\n  return newArguments;\n}\n\nfunction mock1D() {\n  const args = setupArguments(arguments);\n  const row = new Float32Array(this.output.x);\n  for (let x = 0; x < this.output.x; x++) {\n    this.thread.x = x;\n    this.thread.y = 0;\n    this.thread.z = 0;\n    row[x] = this._fn.apply(this, args);\n  }\n  return row;\n}\n\nfunction mock2D() {\n  const args = setupArguments(arguments);\n  const matrix = new Array(this.output.y);\n  for (let y = 0; y < this.output.y; y++) {\n    const row = new Float32Array(this.output.x);\n    for (let x = 0; x < this.output.x; x++) {\n      this.thread.x = x;\n      this.thread.y = y;\n      this.thread.z = 0;\n      row[x] = this._fn.apply(this, args);\n    }\n    matrix[y] = row;\n  }\n  return matrix;\n}\n\nfunction mock2DGraphical() {\n  const args = setupArguments(arguments);\n  for (let y = 0; y < this.output.y; y++) {\n    for (let x = 0; x < this.output.x; x++) {\n      this.thread.x = x;\n      this.thread.y = y;\n      this.thread.z = 0;\n      this._fn.apply(this, args);\n    }\n  }\n}\n\nfunction mock3D() {\n  const args = setupArguments(arguments);\n  const cube = new Array(this.output.z);\n  for (let z = 0; z < this.output.z; z++) {\n    const matrix = new Array(this.output.y);\n    for (let y = 0; y < this.output.y; y++) {\n      const row = new Float32Array(this.output.x);\n      for (let x = 0; x < this.output.x; x++) {\n        this.thread.x = x;\n        this.thread.y = y;\n        this.thread.z = z;\n        row[x] = this._fn.apply(this, args);\n      }\n      matrix[y] = row;\n    }\n    cube[z] = matrix;\n  }\n  return cube;\n}\n\nfunction apiDecorate(kernel) {\n  kernel.setOutput = (output) => {\n    kernel.output = setupOutput(output);\n    if (kernel.graphical) {\n      setupGraphical(kernel);\n    }\n  };\n  kernel.toJSON = () => {\n    throw new Error('Not usable with gpuMock');\n  };\n  kernel.setConstants = (flag) => {\n    kernel.constants = flag;\n    return kernel;\n  };\n  kernel.setGraphical = (flag) => {\n    kernel.graphical = flag;\n    return kernel;\n  };\n  kernel.setCanvas = (flag) => {\n    kernel.canvas = flag;\n    return kernel;\n  };\n  kernel.setContext = (flag) => {\n    kernel.context = flag;\n    return kernel;\n  };\n  kernel.destroy = () => {};\n  kernel.validateSettings = () => {};\n  if (kernel.graphical && kernel.output) {\n    setupGraphical(kernel);\n  }\n  kernel.exec = function() {\n    return new Promise((resolve, reject) => {\n      try {\n        resolve(kernel.apply(kernel, arguments));\n      } catch(e) {\n        reject(e);\n      }\n    });\n  };\n  kernel.getPixels = (flip) => {\n    const {x, y} = kernel.output;\n    return flip ? flipPixels(kernel._imageData.data, x, y) : kernel._imageData.data.slice(0);\n  };\n  kernel.color = function(r, g, b, a) {\n    if (typeof a === 'undefined') {\n      a = 1;\n    }\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n    a = Math.floor(a * 255);\n\n    const width = kernel.output.x;\n    const height = kernel.output.y;\n\n    const x = kernel.thread.x;\n    const y = height - kernel.thread.y - 1;\n\n    const index = x + y * width;\n\n    kernel._colorData[index * 4 + 0] = r;\n    kernel._colorData[index * 4 + 1] = g;\n    kernel._colorData[index * 4 + 2] = b;\n    kernel._colorData[index * 4 + 3] = a;\n  };\n\n  const mockMethod = () => kernel;\n  const methods = [\n    'setWarnVarUsage',\n    'setArgumentTypes',\n    'setTactic',\n    'setOptimizeFloatMemory',\n    'setDebug',\n    'setLoopMaxIterations',\n    'setConstantTypes',\n    'setFunctions',\n    'setNativeFunctions',\n    'setInjectedNative',\n    'setPipeline',\n    'setPrecision',\n    'setOutputToTexture',\n    'setImmutable',\n    'setStrictIntegers',\n    'setDynamicOutput',\n    'setHardcodeConstants',\n    'setDynamicArguments',\n    'setUseLegacyEncoder',\n    'setWarnVarUsage',\n    'addSubKernel',\n  ];\n  for (let i = 0; i < methods.length; i++) {\n    kernel[methods[i]] = mockMethod;\n  }\n  return kernel;\n}\n\nfunction setupGraphical(kernel) {\n  const {x, y} = kernel.output;\n  if (kernel.context && kernel.context.createImageData) {\n    const data = new Uint8ClampedArray(x * y * 4);\n    kernel._imageData = kernel.context.createImageData(x, y);\n    kernel._colorData = data;\n  } else {\n    const data = new Uint8ClampedArray(x * y * 4);\n    kernel._imageData = { data };\n    kernel._colorData = data;\n  }\n}\n\nfunction setupOutput(output) {\n  let result = null;\n  if (output.length) {\n    if (output.length === 3) {\n      const [x,y,z] = output;\n      result = { x, y, z };\n    } else if (output.length === 2) {\n      const [x,y] = output;\n      result = { x, y };\n    } else {\n      const [x] = output;\n      result = { x };\n    }\n  } else {\n    result = output;\n  }\n  return result;\n}\n\nfunction gpuMock(fn, settings = {}) {\n  const output = settings.output ? setupOutput(settings.output) : null;\n  function kernel() {\n    if (kernel.output.z) {\n      return mock3D.apply(kernel, arguments);\n    } else if (kernel.output.y) {\n      if (kernel.graphical) {\n        return mock2DGraphical.apply(kernel, arguments);\n      }\n      return mock2D.apply(kernel, arguments);\n    } else {\n      return mock1D.apply(kernel, arguments);\n    }\n  }\n  kernel._fn = fn;\n  kernel.constants = settings.constants || null;\n  kernel.context = settings.context || null;\n  kernel.canvas = settings.canvas || null;\n  kernel.graphical = settings.graphical || false;\n  kernel._imageData = null;\n  kernel._colorData = null;\n  kernel.output = output;\n  kernel.thread = {\n    x: 0,\n    y: 0,\n    z: 0\n  };\n  return apiDecorate(kernel);\n}\n\nfunction flipPixels(pixels, width, height) {\n  const halfHeight = height / 2 | 0; \n  const bytesPerRow = width * 4;\n  const temp = new Uint8ClampedArray(width * 4);\n  const result = pixels.slice(0);\n  for (let y = 0; y < halfHeight; ++y) {\n    const topOffset = y * bytesPerRow;\n    const bottomOffset = (height - y - 1) * bytesPerRow;\n\n    temp.set(result.subarray(topOffset, topOffset + bytesPerRow));\n\n    result.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n\n    result.set(temp, bottomOffset);\n  }\n  return result;\n}\n\nmodule.exports = {\n  gpuMock\n};\n\n},{}],5:[function(require,module,exports){\nconst { utils } = require('./utils');\n\nfunction alias(name, source) {\n  const fnString = source.toString();\n  return new Function(`return function ${ name } (${ utils.getArgumentNamesFromString(fnString).join(', ') }) {\n  ${ utils.getFunctionBodyFromString(fnString) }\n}`)();\n}\n\nmodule.exports = {\n  alias\n};\n},{\"./utils\":114}],6:[function(require,module,exports){\nconst { FunctionNode } = require('../function-node');\n\nclass CPUFunctionNode extends FunctionNode {\n  astFunction(ast, retArr) {\n\n    if (!this.isRootKernel) {\n      retArr.push('function');\n      retArr.push(' ');\n      retArr.push(this.name);\n      retArr.push('(');\n\n      for (let i = 0; i < this.argumentNames.length; ++i) {\n        const argumentName = this.argumentNames[i];\n\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        retArr.push('user_');\n        retArr.push(argumentName);\n      }\n\n      retArr.push(') {\\n');\n    }\n\n    for (let i = 0; i < ast.body.body.length; ++i) {\n      this.astGeneric(ast.body.body[i], retArr);\n      retArr.push('\\n');\n    }\n\n    if (!this.isRootKernel) {\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astReturnStatement(ast, retArr) {\n    const type = this.returnType || this.getType(ast.argument);\n\n    if (!this.returnType) {\n      this.returnType = type;\n    }\n\n    if (this.isRootKernel) {\n      retArr.push(this.leadingReturnStatement);\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';\\n');\n      retArr.push(this.followingReturnStatement);\n      retArr.push('continue;\\n');\n    } else if (this.isSubKernel) {\n      retArr.push(`subKernelResult_${ this.name } = `);\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';');\n      retArr.push(`return subKernelResult_${ this.name };`);\n    } else {\n      retArr.push('return ');\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';');\n    }\n    return retArr;\n  }\n\n  astLiteral(ast, retArr) {\n\n    if (isNaN(ast.value)) {\n      throw this.astErrorOutput(\n        'Non-numeric literal not supported : ' + ast.value,\n        ast\n      );\n    }\n\n    retArr.push(ast.value);\n\n    return retArr;\n  }\n\n  astBinaryExpression(ast, retArr) {\n    retArr.push('(');\n    this.astGeneric(ast.left, retArr);\n    retArr.push(ast.operator);\n    this.astGeneric(ast.right, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput(\n        'IdentifierExpression - not an Identifier',\n        idtNode\n      );\n    }\n\n    switch (idtNode.name) {\n      case 'Infinity':\n        retArr.push('Infinity');\n        break;\n      default:\n        if (this.constants && this.constants.hasOwnProperty(idtNode.name)) {\n          retArr.push('constants_' + idtNode.name);\n        } else {\n          retArr.push('user_' + idtNode.name);\n        }\n    }\n\n    return retArr;\n  }\n\n  astForStatement(forNode, retArr) {\n    if (forNode.type !== 'ForStatement') {\n      throw this.astErrorOutput('Invalid for statement', forNode);\n    }\n\n    const initArr = [];\n    const testArr = [];\n    const updateArr = [];\n    const bodyArr = [];\n    let isSafe = null;\n\n    if (forNode.init) {\n      this.pushState('in-for-loop-init');\n      this.astGeneric(forNode.init, initArr);\n      for (let i = 0; i < initArr.length; i++) {\n        if (initArr[i].includes && initArr[i].includes(',')) {\n          isSafe = false;\n        }\n      }\n      this.popState('in-for-loop-init');\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.test) {\n      this.astGeneric(forNode.test, testArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.update) {\n      this.astGeneric(forNode.update, updateArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.body) {\n      this.pushState('loop-body');\n      this.astGeneric(forNode.body, bodyArr);\n      this.popState('loop-body');\n    }\n\n    if (isSafe === null) {\n      isSafe = this.isSafe(forNode.init) && this.isSafe(forNode.test);\n    }\n\n    if (isSafe) {\n      retArr.push(`for (${initArr.join('')};${testArr.join('')};${updateArr.join('')}){\\n`);\n      retArr.push(bodyArr.join(''));\n      retArr.push('}\\n');\n    } else {\n      const iVariableName = this.getInternalVariableName('safeI');\n      if (initArr.length > 0) {\n        retArr.push(initArr.join(''), ';\\n');\n      }\n      retArr.push(`for (let ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n      if (testArr.length > 0) {\n        retArr.push(`if (!${testArr.join('')}) break;\\n`);\n      }\n      retArr.push(bodyArr.join(''));\n      retArr.push(`\\n${updateArr.join('')};`);\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astWhileStatement(whileNode, retArr) {\n    if (whileNode.type !== 'WhileStatement') {\n      throw this.astErrorOutput(\n        'Invalid while statement',\n        whileNode\n      );\n    }\n\n    retArr.push('for (let i = 0; i < LOOP_MAX; i++) {');\n    retArr.push('if (');\n    this.astGeneric(whileNode.test, retArr);\n    retArr.push(') {\\n');\n    this.astGeneric(whileNode.body, retArr);\n    retArr.push('} else {\\n');\n    retArr.push('break;\\n');\n    retArr.push('}\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n  astDoWhileStatement(doWhileNode, retArr) {\n    if (doWhileNode.type !== 'DoWhileStatement') {\n      throw this.astErrorOutput(\n        'Invalid while statement',\n        doWhileNode\n      );\n    }\n\n    retArr.push('for (let i = 0; i < LOOP_MAX; i++) {');\n    this.astGeneric(doWhileNode.body, retArr);\n    retArr.push('if (!');\n    this.astGeneric(doWhileNode.test, retArr);\n    retArr.push(') {\\n');\n    retArr.push('break;\\n');\n    retArr.push('}\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n\n  }\n\n  astAssignmentExpression(assNode, retArr) {\n    const declaration = this.getDeclaration(assNode.left);\n    if (declaration && !declaration.assignable) {\n      throw this.astErrorOutput(`Variable ${assNode.left.name} is not assignable here`, assNode);\n    }\n    this.astGeneric(assNode.left, retArr);\n    retArr.push(assNode.operator);\n    this.astGeneric(assNode.right, retArr);\n    return retArr;\n  }\n\n  astBlockStatement(bNode, retArr) {\n    if (this.isState('loop-body')) {\n      this.pushState('block-body'); \n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      this.popState('block-body');\n    } else {\n      retArr.push('{\\n');\n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astVariableDeclaration(varDecNode, retArr) {\n    retArr.push(`${varDecNode.kind} `);\n    const { declarations } = varDecNode;\n    for (let i = 0; i < declarations.length; i++) {\n      if (i > 0) {\n        retArr.push(',');\n      }\n      const declaration = declarations[i];\n      const info = this.getDeclaration(declaration.id);\n      if (!info.valueType) {\n        info.valueType = this.getType(declaration.init);\n      }\n      this.astGeneric(declaration, retArr);\n    }\n    if (!this.isState('in-for-loop-init')) {\n      retArr.push(';');\n    }\n    return retArr;\n  }\n\n  astIfStatement(ifNode, retArr) {\n    retArr.push('if (');\n    this.astGeneric(ifNode.test, retArr);\n    retArr.push(')');\n    if (ifNode.consequent.type === 'BlockStatement') {\n      this.astGeneric(ifNode.consequent, retArr);\n    } else {\n      retArr.push(' {\\n');\n      this.astGeneric(ifNode.consequent, retArr);\n      retArr.push('\\n}\\n');\n    }\n\n    if (ifNode.alternate) {\n      retArr.push('else ');\n      if (ifNode.alternate.type === 'BlockStatement' || ifNode.alternate.type === 'IfStatement') {\n        this.astGeneric(ifNode.alternate, retArr);\n      } else {\n        retArr.push(' {\\n');\n        this.astGeneric(ifNode.alternate, retArr);\n        retArr.push('\\n}\\n');\n      }\n    }\n    return retArr;\n\n  }\n\n  astSwitchStatement(ast, retArr) {\n    const { discriminant, cases } = ast;\n    retArr.push('switch (');\n    this.astGeneric(discriminant, retArr);\n    retArr.push(') {\\n');\n    for (let i = 0; i < cases.length; i++) {\n      if (cases[i].test === null) {\n        retArr.push('default:\\n');\n        this.astGeneric(cases[i].consequent, retArr);\n        if (cases[i].consequent && cases[i].consequent.length > 0) {\n          retArr.push('break;\\n');\n        }\n        continue;\n      }\n      retArr.push('case ');\n      this.astGeneric(cases[i].test, retArr);\n      retArr.push(':\\n');\n      if (cases[i].consequent && cases[i].consequent.length > 0) {\n        this.astGeneric(cases[i].consequent, retArr);\n        retArr.push('break;\\n');\n      }\n    }\n    retArr.push('\\n}');\n  }\n\n  astThisExpression(tNode, retArr) {\n    retArr.push('_this');\n    return retArr;\n  }\n\n  astMemberExpression(mNode, retArr) {\n    const {\n      signature,\n      type,\n      property,\n      xProperty,\n      yProperty,\n      zProperty,\n      name,\n      origin\n    } = this.getMemberExpressionDetails(mNode);\n    switch (signature) {\n      case 'this.thread.value':\n        retArr.push(`_this.thread.${ name }`);\n        return retArr;\n      case 'this.output.value':\n        switch (name) {\n          case 'x':\n            retArr.push('outputX');\n            break;\n          case 'y':\n            retArr.push('outputY');\n            break;\n          case 'z':\n            retArr.push('outputZ');\n            break;\n          default:\n            throw this.astErrorOutput('Unexpected expression', mNode);\n        }\n        return retArr;\n      case 'value':\n        throw this.astErrorOutput('Unexpected expression', mNode);\n      case 'value[]':\n      case 'value[][]':\n      case 'value[][][]':\n      case 'value.value':\n        if (origin === 'Math') {\n          retArr.push(Math[name]);\n          return retArr;\n        }\n        switch (property) {\n          case 'r':\n            retArr.push(`user_${ name }[0]`);\n            return retArr;\n          case 'g':\n            retArr.push(`user_${ name }[1]`);\n            return retArr;\n          case 'b':\n            retArr.push(`user_${ name }[2]`);\n            return retArr;\n          case 'a':\n            retArr.push(`user_${ name }[3]`);\n            return retArr;\n        }\n        break;\n      case 'value.value[]': \n        if (this.removeIstanbulCoverage) {\n          return retArr;\n        }\n        retArr.push(`${mNode.object.object.name}.${mNode.object.property.name}[${mNode.property.value}]`);\n        return retArr;\n      case 'value.value[][]': \n        if (this.removeIstanbulCoverage) {\n          return retArr;\n        }\n        retArr.push(`${mNode.object.object.object.name}.${mNode.object.object.property.name}[${mNode.object.property.value}][${mNode.property.value}]`);\n        return retArr;\n      case 'this.constants.value':\n      case 'this.constants.value[]':\n      case 'this.constants.value[][]':\n      case 'this.constants.value[][][]':\n        break;\n      case 'fn()[]':\n        this.astGeneric(mNode.object, retArr);\n        retArr.push('[');\n        this.astGeneric(mNode.property, retArr);\n        retArr.push(']');\n        return retArr;\n      default:\n        throw this.astErrorOutput('Unexpected expression', mNode);\n    }\n\n    if (!mNode.computed) {\n      switch (type) {\n        case 'Number':\n        case 'Integer':\n        case 'Float':\n        case 'Boolean':\n          retArr.push(`${origin}_${name}`);\n          return retArr;\n      }\n    }\n\n    const markupName = `${origin}_${name}`;\n\n    switch (type) {\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'HTMLImageArray':\n      case 'ArrayTexture(1)':\n      case 'ArrayTexture(2)':\n      case 'ArrayTexture(3)':\n      case 'ArrayTexture(4)':\n      case 'HTMLImage':\n      default:\n        let size;\n        let isInput;\n        if (origin === 'constants') {\n          const constant = this.constants[name];\n          isInput = this.constantTypes[name] === 'Input';\n          size = isInput ? constant.size : null;\n        } else {\n          isInput = this.isInput(name);\n          size = isInput ? this.argumentSizes[this.argumentNames.indexOf(name)] : null;\n        }\n        retArr.push(`${ markupName }`);\n        if (zProperty && yProperty) {\n          if (isInput) {\n            retArr.push('[(');\n            this.astGeneric(zProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? '(outputY * outputX)' : size[1] * size[0] })+(`);\n            this.astGeneric(yProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? 'outputX' : size[0] })+`);\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          } else {\n            retArr.push('[');\n            this.astGeneric(zProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          }\n        } else if (yProperty) {\n          if (isInput) {\n            retArr.push('[(');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? 'outputX' : size[0] })+`);\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          } else {\n            retArr.push('[');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          }\n        } else if (typeof xProperty !== 'undefined') {\n          retArr.push('[');\n          this.astGeneric(xProperty, retArr);\n          retArr.push(']');\n        }\n    }\n    return retArr;\n  }\n\n  astCallExpression(ast, retArr) {\n    if (ast.type !== 'CallExpression') {\n      throw this.astErrorOutput('Unknown CallExpression', ast);\n    }\n    let functionName = this.astMemberExpressionUnroll(ast.callee);\n\n    if (this.calledFunctions.indexOf(functionName) < 0) {\n      this.calledFunctions.push(functionName);\n    }\n\n    const isMathFunction = this.isAstMathFunction(ast);\n\n    if (this.onFunctionCall) {\n      this.onFunctionCall(this.name, functionName, ast.arguments);\n    }\n\n    retArr.push(functionName);\n\n    retArr.push('(');\n    const targetTypes = this.lookupFunctionArgumentTypes(functionName) || [];\n    for (let i = 0; i < ast.arguments.length; ++i) {\n      const argument = ast.arguments[i];\n\n      let argumentType = this.getType(argument);\n      if (!targetTypes[i]) {\n        this.triggerImplyArgumentType(functionName, i, argumentType, this);\n      }\n\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      this.astGeneric(argument, retArr);\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  astArrayExpression(arrNode, retArr) {\n    const arrLen = arrNode.elements.length;\n\n    retArr.push('new Float32Array([');\n    for (let i = 0; i < arrLen; ++i) {\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      const subNode = arrNode.elements[i];\n      this.astGeneric(subNode, retArr)\n    }\n    retArr.push('])');\n\n    return retArr;\n  }\n\n  astDebuggerStatement(arrNode, retArr) {\n    retArr.push('debugger;');\n    return retArr;\n  }\n}\n\nmodule.exports = {\n  CPUFunctionNode\n};\n},{\"../function-node\":10}],7:[function(require,module,exports){\nconst { utils } = require('../../utils');\n\nfunction constantsToString(constants, types) {\n  const results = [];\n  for (const name in types) {\n    if (!types.hasOwnProperty(name)) continue;\n    const type = types[name];\n    const constant = constants[name];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n        results.push(`${name}:${constant}`);\n        break;\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        results.push(`${name}:new ${constant.constructor.name}(${JSON.stringify(Array.from(constant))})`);\n        break;\n    }\n  }\n  return `{ ${ results.join() } }`;\n}\n\nfunction cpuKernelString(cpuKernel, name) {\n  const header = [];\n  const thisProperties = [];\n  const beforeReturn = [];\n\n  const useFunctionKeyword = !/^function/.test(cpuKernel.color.toString());\n\n  header.push(\n    '  const { context, canvas, constants: incomingConstants } = settings;',\n    `  const output = new Int32Array(${JSON.stringify(Array.from(cpuKernel.output))});`,\n    `  const _constantTypes = ${JSON.stringify(cpuKernel.constantTypes)};`,\n    `  const _constants = ${constantsToString(cpuKernel.constants, cpuKernel.constantTypes)};`,\n  );\n\n  thisProperties.push(\n    '    constants: _constants,',\n    '    context,',\n    '    output,',\n    '    thread: {x: 0, y: 0, z: 0},',\n  );\n\n  if (cpuKernel.graphical) {\n    header.push(`  const _imageData = context.createImageData(${cpuKernel.output[0]}, ${cpuKernel.output[1]});`);\n    header.push(`  const _colorData = new Uint8ClampedArray(${cpuKernel.output[0]} * ${cpuKernel.output[1]} * 4);`);\n\n    const colorFn = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel.color.toString(), {\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case '_colorData':\n            return '_colorData';\n          case '_imageData':\n            return '_imageData';\n          case 'output':\n            return 'output';\n          case 'thread':\n            return 'this.thread';\n        }\n        return JSON.stringify(cpuKernel[propertyName]);\n      },\n      findDependency: (object, name) => {\n        return null;\n      }\n    });\n\n    const getPixelsFn = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel.getPixels.toString(), {\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case '_colorData':\n            return '_colorData';\n          case '_imageData':\n            return '_imageData';\n          case 'output':\n            return 'output';\n          case 'thread':\n            return 'this.thread';\n        }\n        return JSON.stringify(cpuKernel[propertyName]);\n      },\n      findDependency: () => {\n        return null;\n      }\n    });\n\n    thisProperties.push(\n      '    _imageData,',\n      '    _colorData,',\n      `    color: ${colorFn},`,\n    );\n\n    beforeReturn.push(\n      `  kernel.getPixels = ${getPixelsFn};`\n    );\n  }\n\n  const constantTypes = [];\n  const constantKeys = Object.keys(cpuKernel.constantTypes);\n  for (let i = 0; i < constantKeys.length; i++) {\n    constantTypes.push(cpuKernel.constantTypes[constantKeys]);\n  }\n  if (cpuKernel.argumentTypes.indexOf('HTMLImageArray') !== -1 || constantTypes.indexOf('HTMLImageArray') !== -1) {\n    const flattenedImageTo3DArray = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel._imageTo3DArray.toString(), {\n      doNotDefine: ['canvas'],\n      findDependency: (object, name) => {\n        if (object === 'this') {\n          return (useFunctionKeyword ? 'function ' : '') + cpuKernel[name].toString();\n        }\n        return null;\n      },\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case 'canvas':\n            return;\n          case 'context':\n            return 'context';\n        }\n      }\n    });\n    beforeReturn.push(flattenedImageTo3DArray);\n    thisProperties.push(`    _mediaTo2DArray,`);\n    thisProperties.push(`    _imageTo3DArray,`);\n  } else if (cpuKernel.argumentTypes.indexOf('HTMLImage') !== -1 || constantTypes.indexOf('HTMLImage') !== -1) {\n    const flattenedImageTo2DArray = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel._mediaTo2DArray.toString(), {\n      findDependency: (object, name) => {\n        return null;\n      },\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case 'canvas':\n            return 'settings.canvas';\n          case 'context':\n            return 'settings.context';\n        }\n        throw new Error('unhandled thisLookup');\n      }\n    });\n    beforeReturn.push(flattenedImageTo2DArray);\n    thisProperties.push(`    _mediaTo2DArray,`);\n  }\n\n  return `function(settings) {\n${ header.join('\\n') }\n  for (const p in _constantTypes) {\n    if (!_constantTypes.hasOwnProperty(p)) continue;\n    const type = _constantTypes[p];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        if (incomingConstants.hasOwnProperty(p)) {\n          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');\n        }\n        continue;\n    }\n    if (!incomingConstants.hasOwnProperty(p)) {\n      throw new Error('constant ' + p + ' not found');\n    }\n    _constants[p] = incomingConstants[p];\n  }\n  const kernel = (function() {\n${cpuKernel._kernelString}\n  })\n    .apply({ ${thisProperties.join('\\n')} });\n  ${ beforeReturn.join('\\n') }\n  return kernel;\n}`;\n}\n\nmodule.exports = {\n  cpuKernelString\n};\n},{\"../../utils\":114}],8:[function(require,module,exports){\nconst { Kernel } = require('../kernel');\nconst { FunctionBuilder } = require('../function-builder');\nconst { CPUFunctionNode } = require('./function-node');\nconst { utils } = require('../../utils');\nconst { cpuKernelString } = require('./kernel-string');\n\nclass CPUKernel extends Kernel {\n  static getFeatures() {\n    return this.features;\n  }\n  static get features() {\n    return Object.freeze({\n      kernelMap: true,\n      isIntegerDivisionAccurate: true\n    });\n  }\n  static get isSupported() {\n    return true;\n  }\n  static isContextMatch(context) {\n    return false;\n  }\n  static get mode() {\n    return 'cpu';\n  }\n\n  static nativeFunctionArguments() {\n    return null;\n  }\n\n  static nativeFunctionReturnType() {\n    throw new Error(`Looking up native function return type not supported on ${this.name}`);\n  }\n\n  static combineKernels(combinedKernel) {\n    return combinedKernel;\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    return 'cpu' + (argumentTypes.length > 0 ? ':' + argumentTypes.join(',') : '');\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.mergeSettings(source.settings || settings);\n\n    this._imageData = null;\n    this._colorData = null;\n    this._kernelString = null;\n    this._prependedString = [];\n    this.thread = {\n      x: 0,\n      y: 0,\n      z: 0\n    };\n    this.translatedSources = null;\n  }\n\n  initCanvas() {\n    if (typeof document !== 'undefined') {\n      return document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      return new OffscreenCanvas(0, 0);\n    }\n  }\n\n  initContext() {\n    if (!this.canvas) return null;\n    return this.canvas.getContext('2d');\n  }\n\n  initPlugins(settings) {\n    return [];\n  }\n\n  validateSettings(args) {\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      if (argType === 'Array') {\n        this.output = utils.getDimensions(argType);\n      } else if (argType === 'NumberTexture' || argType === 'ArrayTexture(4)') {\n        this.output = args[0].output;\n      } else {\n        throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n    }\n\n    this.checkOutput();\n  }\n\n  translateSource() {\n    this.leadingReturnStatement = this.output.length > 1 ? 'resultX[x] = ' : 'result[x] = ';\n    if (this.subKernels) {\n      const followingReturnStatement = [];\n      for (let i = 0; i < this.subKernels.length; i++) {\n        const {\n          name\n        } = this.subKernels[i];\n        followingReturnStatement.push(this.output.length > 1 ? `resultX_${ name }[x] = subKernelResult_${ name };\\n` : `result_${ name }[x] = subKernelResult_${ name };\\n`);\n      }\n      this.followingReturnStatement = followingReturnStatement.join('');\n    }\n    const functionBuilder = FunctionBuilder.fromKernel(this, CPUFunctionNode);\n    this.translatedSources = functionBuilder.getPrototypes('kernel');\n    if (!this.graphical && !this.returnType) {\n      this.returnType = functionBuilder.getKernelResultType();\n    }\n  }\n\n  build() {\n    if (this.built) return;\n    this.setupConstants();\n    this.setupArguments(arguments);\n    this.validateSettings(arguments);\n    this.translateSource();\n\n    if (this.graphical) {\n      const {\n        canvas,\n        output\n      } = this;\n      if (!canvas) {\n        throw new Error('no canvas available for using graphical output');\n      }\n      const width = output[0];\n      const height = output[1] || 1;\n      canvas.width = width;\n      canvas.height = height;\n      this._imageData = this.context.createImageData(width, height);\n      this._colorData = new Uint8ClampedArray(width * height * 4);\n    }\n\n    const kernelString = this.getKernelString();\n    this.kernelString = kernelString;\n\n    if (this.debug) {\n      console.log('Function output:');\n      console.log(kernelString);\n    }\n\n    try {\n      this.run = new Function([], kernelString).bind(this)();\n    } catch (e) {\n      console.error('An error occurred compiling the javascript: ', e);\n    }\n    this.buildSignature(arguments);\n    this.built = true;\n  }\n\n  color(r, g, b, a) {\n    if (typeof a === 'undefined') {\n      a = 1;\n    }\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n    a = Math.floor(a * 255);\n\n    const width = this.output[0];\n    const height = this.output[1];\n\n    const x = this.thread.x;\n    const y = height - this.thread.y - 1;\n\n    const index = x + y * width;\n\n    this._colorData[index * 4 + 0] = r;\n    this._colorData[index * 4 + 1] = g;\n    this._colorData[index * 4 + 2] = b;\n    this._colorData[index * 4 + 3] = a;\n  }\n\n  getKernelString() {\n    if (this._kernelString !== null) return this._kernelString;\n\n    let kernelThreadString = null;\n    let {\n      translatedSources\n    } = this;\n    if (translatedSources.length > 1) {\n      translatedSources = translatedSources.filter(fn => {\n        if (/^function/.test(fn)) return fn;\n        kernelThreadString = fn;\n        return false;\n      });\n    } else {\n      kernelThreadString = translatedSources.shift();\n    }\n    return this._kernelString = `  const LOOP_MAX = ${ this._getLoopMaxString() };\n  ${ this.injectedNative || '' }\n  const _this = this;\n  ${ this._resultKernelHeader() }\n  ${ this._processConstants() }\n  return (${ this.argumentNames.map(argumentName => 'user_' + argumentName).join(', ') }) => {\n    ${ this._prependedString.join('') }\n    ${ this._earlyThrows() }\n    ${ this._processArguments() }\n    ${ this.graphical ? this._graphicalKernelBody(kernelThreadString) : this._resultKernelBody(kernelThreadString) }\n    ${ translatedSources.length > 0 ? translatedSources.join('\\n') : '' }\n  };`;\n  }\n\n  toString() {\n    return cpuKernelString(this);\n  }\n\n  _getLoopMaxString() {\n    return (\n      this.loopMaxIterations ?\n      ` ${ parseInt(this.loopMaxIterations) };` :\n      ' 1000;'\n    );\n  }\n\n  _processConstants() {\n    if (!this.constants) return '';\n\n    const result = [];\n    for (let p in this.constants) {\n      const type = this.constantTypes[p];\n      switch (type) {\n        case 'HTMLCanvas':\n        case 'HTMLImage':\n        case 'HTMLVideo':\n          result.push(`    const constants_${p} = this._mediaTo2DArray(this.constants.${p});\\n`);\n          break;\n        case 'HTMLImageArray':\n          result.push(`    const constants_${p} = this._imageTo3DArray(this.constants.${p});\\n`);\n          break;\n        case 'Input':\n          result.push(`    const constants_${p} = this.constants.${p}.value;\\n`);\n          break;\n        default:\n          result.push(`    const constants_${p} = this.constants.${p};\\n`);\n      }\n    }\n    return result.join('');\n  }\n\n  _earlyThrows() {\n    if (this.graphical) return '';\n    if (this.immutable) return '';\n    if (!this.pipeline) return '';\n    const arrayArguments = [];\n    for (let i = 0; i < this.argumentTypes.length; i++) {\n      if (this.argumentTypes[i] === 'Array') {\n        arrayArguments.push(this.argumentNames[i]);\n      }\n    }\n    if (arrayArguments.length === 0) return '';\n    const checks = [];\n    for (let i = 0; i < arrayArguments.length; i++) {\n      const argumentName = arrayArguments[i];\n      const checkSubKernels = this._mapSubKernels(subKernel => `user_${argumentName} === result_${subKernel.name}`).join(' || ');\n      checks.push(`user_${argumentName} === result${checkSubKernels ? ` || ${checkSubKernels}` : ''}`);\n    }\n    return `if (${checks.join(' || ')}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`;\n  }\n\n  _processArguments() {\n    const result = [];\n    for (let i = 0; i < this.argumentTypes.length; i++) {\n      const variableName = `user_${this.argumentNames[i]}`;\n      switch (this.argumentTypes[i]) {\n        case 'HTMLCanvas':\n        case 'HTMLImage':\n        case 'HTMLVideo':\n          result.push(`    ${variableName} = this._mediaTo2DArray(${variableName});\\n`);\n          break;\n        case 'HTMLImageArray':\n          result.push(`    ${variableName} = this._imageTo3DArray(${variableName});\\n`);\n          break;\n        case 'Input':\n          result.push(`    ${variableName} = ${variableName}.value;\\n`);\n          break;\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n          result.push(`\n    if (${variableName}.toArray) {\n      if (!_this.textureCache) {\n        _this.textureCache = [];\n        _this.arrayCache = [];\n      }\n      const textureIndex = _this.textureCache.indexOf(${variableName});\n      if (textureIndex !== -1) {\n        ${variableName} = _this.arrayCache[textureIndex];\n      } else {\n        _this.textureCache.push(${variableName});\n        ${variableName} = ${variableName}.toArray();\n        _this.arrayCache.push(${variableName});\n      }\n    }`);\n          break;\n      }\n    }\n    return result.join('');\n  }\n\n  _mediaTo2DArray(media) {\n    const canvas = this.canvas;\n    const width = media.width > 0 ? media.width : media.videoWidth;\n    const height = media.height > 0 ? media.height : media.videoHeight;\n    if (canvas.width < width) {\n      canvas.width = width;\n    }\n    if (canvas.height < height) {\n      canvas.height = height;\n    }\n    const ctx = this.context;\n    ctx.drawImage(media, 0, 0, width, height);\n    const pixelsData = ctx.getImageData(0, 0, width, height).data;\n    const imageArray = new Array(height);\n    let index = 0;\n    for (let y = height - 1; y >= 0; y--) {\n      const row = imageArray[y] = new Array(width);\n      for (let x = 0; x < width; x++) {\n        const pixel = new Float32Array(4);\n        pixel[0] = pixelsData[index++] / 255; \n        pixel[1] = pixelsData[index++] / 255; \n        pixel[2] = pixelsData[index++] / 255; \n        pixel[3] = pixelsData[index++] / 255; \n        row[x] = pixel;\n      }\n    }\n    return imageArray;\n  }\n\n  getPixels(flip) {\n    const [width, height] = this.output;\n    return flip ? utils.flipPixels(this._imageData.data, width, height) : this._imageData.data.slice(0);\n  }\n\n  _imageTo3DArray(images) {\n    const imagesArray = new Array(images.length);\n    for (let i = 0; i < images.length; i++) {\n      imagesArray[i] = this._mediaTo2DArray(images[i]);\n    }\n    return imagesArray;\n  }\n\n  _resultKernelHeader() {\n    if (this.graphical) return '';\n    if (this.immutable) return '';\n    if (!this.pipeline) return '';\n    switch (this.output.length) {\n      case 1:\n        return this._mutableKernel1DResults();\n      case 2:\n        return this._mutableKernel2DResults();\n      case 3:\n        return this._mutableKernel3DResults();\n    }\n  }\n\n  _resultKernelBody(kernelString) {\n    switch (this.output.length) {\n      case 1:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel1DLoop(kernelString) : this._resultImmutableKernel1DLoop(kernelString)) + this._kernelOutput();\n      case 2:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel2DLoop(kernelString) : this._resultImmutableKernel2DLoop(kernelString)) + this._kernelOutput();\n      case 3:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel3DLoop(kernelString) : this._resultImmutableKernel3DLoop(kernelString)) + this._kernelOutput();\n      default:\n        throw new Error('unsupported size kernel');\n    }\n  }\n\n  _graphicalKernelBody(kernelThreadString) {\n    switch (this.output.length) {\n      case 2:\n        return this._graphicalKernel2DLoop(kernelThreadString) + this._graphicalOutput();\n      default:\n        throw new Error('unsupported size kernel');\n    }\n  }\n\n  _graphicalOutput() {\n    return `\n    this._imageData.data.set(this._colorData);\n    this.context.putImageData(this._imageData, 0, 0);\n    return;`\n  }\n\n  _getKernelResultTypeConstructorString() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return 'Float32Array';\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        return 'Array';\n      default:\n        if (this.graphical) {\n          return 'Float32Array';\n        }\n        throw new Error(`unhandled returnType ${ this.returnType }`);\n    }\n  }\n\n  _resultImmutableKernel1DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const result = new ${constructorString}(outputX);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new ${constructorString}(outputX);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${ kernelString }\n    }`;\n  }\n\n  _mutableKernel1DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const result = new ${constructorString}(outputX);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new ${constructorString}(outputX);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }`;\n  }\n\n  _resultMutableKernel1DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${ kernelString }\n    }`;\n  }\n\n  _resultImmutableKernel2DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputY);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y] = new ${constructorString}(outputX);\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _mutableKernel2DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputY);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let y = 0; y < outputY; y++) {\n      const resultX = result[y] = new ${constructorString}(outputX);\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n    }`;\n  }\n\n  _resultMutableKernel2DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y];\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _graphicalKernel2DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _resultImmutableKernel3DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputZ);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z] = new Array(outputY);\n      ${ this._mapSubKernels(subKernel => `const resultY_${ subKernel.name } = result_${subKernel.name}[z] = new Array(outputY);\\n`).join('      ') }\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y] = new ${constructorString}(outputX);\n        ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = resultY_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('        ') }\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${ kernelString }\n        }\n      }\n    }`;\n  }\n\n  _mutableKernel3DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputZ);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let z = 0; z < outputZ; z++) {\n      const resultY = result[z] = new Array(outputY);\n      ${ this._mapSubKernels(subKernel => `const resultY_${ subKernel.name } = result_${subKernel.name}[z] = new Array(outputY);\\n`).join('      ') }\n      for (let y = 0; y < outputY; y++) {\n        const resultX = resultY[y] = new ${constructorString}(outputX);\n        ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = resultY_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('        ') }\n      }\n    }`;\n  }\n\n  _resultMutableKernel3DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z];\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y];\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${ kernelString }\n        }\n      }\n    }`;\n  }\n\n  _kernelOutput() {\n    if (!this.subKernels) {\n      return '\\n    return result;';\n    }\n    return `\\n    return {\n      result: result,\n      ${ this.subKernels.map(subKernel => `${ subKernel.property }: result_${ subKernel.name }`).join(',\\n      ') }\n    };`;\n  }\n\n  _mapSubKernels(fn) {\n    return this.subKernels === null ? [''] :\n      this.subKernels.map(fn);\n  }\n\n  destroy(removeCanvasReference) {\n    if (removeCanvasReference) {\n      delete this.canvas;\n    }\n  }\n\n  static destroyContext(context) {}\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, CPUFunctionNode).toJSON();\n    return json;\n  }\n\n  setOutput(output) {\n    super.setOutput(output);\n    const [width, height] = this.output;\n    if (this.graphical) {\n      this._imageData = this.context.createImageData(width, height);\n      this._colorData = new Uint8ClampedArray(width * height * 4);\n    }\n  }\n\n  prependString(value) {\n    if (this._kernelString) throw new Error('Kernel already built');\n    this._prependedString.push(value);\n  }\n\n  hasPrependString(value) {\n    return this._prependedString.indexOf(value) > -1;\n  }\n}\n\nmodule.exports = {\n  CPUKernel\n};\n},{\"../../utils\":114,\"../function-builder\":9,\"../kernel\":36,\"./function-node\":6,\"./kernel-string\":7}],9:[function(require,module,exports){\nclass FunctionBuilder {\n  static fromKernel(kernel, FunctionNode, extraNodeOptions) {\n    const {\n      kernelArguments,\n      kernelConstants,\n      argumentNames,\n      argumentSizes,\n      argumentBitRatios,\n      constants,\n      constantBitRatios,\n      debug,\n      loopMaxIterations,\n      nativeFunctions,\n      output,\n      optimizeFloatMemory,\n      precision,\n      plugins,\n      source,\n      subKernels,\n      functions,\n      leadingReturnStatement,\n      followingReturnStatement,\n      dynamicArguments,\n      dynamicOutput,\n      onIstanbulCoverageVariable,\n      removeIstanbulCoverage,\n    } = kernel;\n\n    const argumentTypes = new Array(kernelArguments.length);\n    const constantTypes = {};\n\n    for (let i = 0; i < kernelArguments.length; i++) {\n      argumentTypes[i] = kernelArguments[i].type;\n    }\n\n    for (let i = 0; i < kernelConstants.length; i++) {\n      const kernelConstant = kernelConstants[i];\n      constantTypes[kernelConstant.name] = kernelConstant.type;\n    }\n\n    const needsArgumentType = (functionName, index) => {\n      return functionBuilder.needsArgumentType(functionName, index);\n    };\n\n    const assignArgumentType = (functionName, index, type) => {\n      functionBuilder.assignArgumentType(functionName, index, type);\n    };\n\n    const lookupReturnType = (functionName, ast, requestingNode) => {\n      return functionBuilder.lookupReturnType(functionName, ast, requestingNode);\n    };\n\n    const lookupFunctionArgumentTypes = (functionName) => {\n      return functionBuilder.lookupFunctionArgumentTypes(functionName);\n    };\n\n    const lookupFunctionArgumentName = (functionName, argumentIndex) => {\n      return functionBuilder.lookupFunctionArgumentName(functionName, argumentIndex);\n    };\n\n    const lookupFunctionArgumentBitRatio = (functionName, argumentName) => {\n      return functionBuilder.lookupFunctionArgumentBitRatio(functionName, argumentName);\n    };\n\n    const triggerImplyArgumentType = (functionName, i, argumentType, requestingNode) => {\n      functionBuilder.assignArgumentType(functionName, i, argumentType, requestingNode);\n    };\n\n    const triggerImplyArgumentBitRatio = (functionName, argumentName, calleeFunctionName, argumentIndex) => {\n      functionBuilder.assignArgumentBitRatio(functionName, argumentName, calleeFunctionName, argumentIndex);\n    };\n\n    const onFunctionCall = (functionName, calleeFunctionName, args) => {\n      functionBuilder.trackFunctionCall(functionName, calleeFunctionName, args);\n    };\n\n    const onNestedFunction = (ast, returnType) => {\n      const argumentNames = [];\n      for (let i = 0; i < ast.params.length; i++) {\n        argumentNames.push(ast.params[i].name);\n      }\n      const nestedFunction = new FunctionNode(null, Object.assign({}, nodeOptions, {\n        returnType: null,\n        ast,\n        name: ast.id.name,\n        argumentNames,\n        lookupReturnType,\n        lookupFunctionArgumentTypes,\n        lookupFunctionArgumentName,\n        lookupFunctionArgumentBitRatio,\n        needsArgumentType,\n        assignArgumentType,\n        triggerImplyArgumentType,\n        triggerImplyArgumentBitRatio,\n        onFunctionCall,\n      }));\n      nestedFunction.traceFunctionAST(ast);\n      functionBuilder.addFunctionNode(nestedFunction);\n    };\n\n    const nodeOptions = Object.assign({\n      isRootKernel: false,\n      onNestedFunction,\n      lookupReturnType,\n      lookupFunctionArgumentTypes,\n      lookupFunctionArgumentName,\n      lookupFunctionArgumentBitRatio,\n      needsArgumentType,\n      assignArgumentType,\n      triggerImplyArgumentType,\n      triggerImplyArgumentBitRatio,\n      onFunctionCall,\n      onIstanbulCoverageVariable: onIstanbulCoverageVariable ? (name) => onIstanbulCoverageVariable(name, kernel) : null,\n      removeIstanbulCoverage,\n      optimizeFloatMemory,\n      precision,\n      constants,\n      constantTypes,\n      constantBitRatios,\n      debug,\n      loopMaxIterations,\n      output,\n      plugins,\n      dynamicArguments,\n      dynamicOutput,\n    }, extraNodeOptions || {});\n\n    const rootNodeOptions = Object.assign({}, nodeOptions, {\n      isRootKernel: true,\n      name: 'kernel',\n      argumentNames,\n      argumentTypes,\n      argumentSizes,\n      argumentBitRatios,\n      leadingReturnStatement,\n      followingReturnStatement,\n    });\n\n    if (typeof source === 'object' && source.functionNodes) {\n      return new FunctionBuilder().fromJSON(source.functionNodes, FunctionNode);\n    }\n\n    const rootNode = new FunctionNode(source, rootNodeOptions);\n\n    let functionNodes = null;\n    if (functions) {\n      functionNodes = functions.map((fn) => new FunctionNode(fn.source, {\n        returnType: fn.returnType,\n        argumentTypes: fn.argumentTypes,\n        output,\n        plugins,\n        constants,\n        constantTypes,\n        constantBitRatios,\n        optimizeFloatMemory,\n        precision,\n        lookupReturnType,\n        lookupFunctionArgumentTypes,\n        lookupFunctionArgumentName,\n        lookupFunctionArgumentBitRatio,\n        needsArgumentType,\n        assignArgumentType,\n        triggerImplyArgumentType,\n        triggerImplyArgumentBitRatio,\n        onFunctionCall,\n        onNestedFunction,\n        onIstanbulCoverageVariable: onIstanbulCoverageVariable ? (name) => onIstanbulCoverageVariable(name, kernel) : null,\n        removeIstanbulCoverage,\n      }));\n    }\n\n    let subKernelNodes = null;\n    if (subKernels) {\n      subKernelNodes = subKernels.map((subKernel) => {\n        const { name, source } = subKernel;\n        return new FunctionNode(source, Object.assign({}, nodeOptions, {\n          name,\n          isSubKernel: true,\n          isRootKernel: false,\n        }));\n      });\n    }\n\n    const functionBuilder = new FunctionBuilder({\n      kernel,\n      rootNode,\n      functionNodes,\n      nativeFunctions,\n      subKernelNodes\n    });\n\n    return functionBuilder;\n  }\n\n  constructor(settings) {\n    settings = settings || {};\n    this.kernel = settings.kernel;\n    this.rootNode = settings.rootNode;\n    this.functionNodes = settings.functionNodes || [];\n    this.subKernelNodes = settings.subKernelNodes || [];\n    this.nativeFunctions = settings.nativeFunctions || [];\n    this.functionMap = {};\n    this.nativeFunctionNames = [];\n    this.lookupChain = [];\n    this.functionNodeDependencies = {};\n    this.functionCalls = {};\n\n    if (this.rootNode) {\n      this.functionMap['kernel'] = this.rootNode;\n    }\n\n    if (this.functionNodes) {\n      for (let i = 0; i < this.functionNodes.length; i++) {\n        this.functionMap[this.functionNodes[i].name] = this.functionNodes[i];\n      }\n    }\n\n    if (this.subKernelNodes) {\n      for (let i = 0; i < this.subKernelNodes.length; i++) {\n        this.functionMap[this.subKernelNodes[i].name] = this.subKernelNodes[i];\n      }\n    }\n\n    if (this.nativeFunctions) {\n      for (let i = 0; i < this.nativeFunctions.length; i++) {\n        const nativeFunction = this.nativeFunctions[i];\n        this.nativeFunctionNames.push(nativeFunction.name);\n      }\n    }\n  }\n\n  addFunctionNode(functionNode) {\n    if (!functionNode.name) throw new Error('functionNode.name needs set');\n    this.functionMap[functionNode.name] = functionNode;\n    if (functionNode.isRootKernel) {\n      this.rootNode = functionNode;\n    }\n  }\n\n  traceFunctionCalls(functionName, retList) {\n    functionName = functionName || 'kernel';\n    retList = retList || [];\n\n    if (this.nativeFunctionNames.indexOf(functionName) > -1) {\n      if (retList.indexOf(functionName) === -1) {\n        retList.push(functionName);\n      }\n      return retList;\n    }\n\n    const functionNode = this.functionMap[functionName];\n    if (functionNode) {\n      const functionIndex = retList.indexOf(functionName);\n      if (functionIndex === -1) {\n        retList.push(functionName);\n        functionNode.toString(); \n        for (let i = 0; i < functionNode.calledFunctions.length; ++i) {\n          this.traceFunctionCalls(functionNode.calledFunctions[i], retList);\n        }\n      } else {\n        const dependantFunctionName = retList.splice(functionIndex, 1)[0];\n        retList.push(dependantFunctionName);\n      }\n    }\n\n    return retList;\n  }\n\n  getPrototypeString(functionName) {\n    return this.getPrototypes(functionName).join('\\n');\n  }\n\n  getPrototypes(functionName) {\n    if (this.rootNode) {\n      this.rootNode.toString();\n    }\n    if (functionName) {\n      return this.getPrototypesFromFunctionNames(this.traceFunctionCalls(functionName, []).reverse());\n    }\n    return this.getPrototypesFromFunctionNames(Object.keys(this.functionMap));\n  }\n\n  getStringFromFunctionNames(functionList) {\n    const ret = [];\n    for (let i = 0; i < functionList.length; ++i) {\n      const node = this.functionMap[functionList[i]];\n      if (node) {\n        ret.push(this.functionMap[functionList[i]].toString());\n      }\n    }\n    return ret.join('\\n');\n  }\n\n  getPrototypesFromFunctionNames(functionList) {\n    const ret = [];\n    for (let i = 0; i < functionList.length; ++i) {\n      const functionName = functionList[i];\n      const functionIndex = this.nativeFunctionNames.indexOf(functionName);\n      if (functionIndex > -1) {\n        ret.push(this.nativeFunctions[functionIndex].source);\n        continue;\n      }\n      const node = this.functionMap[functionName];\n      if (node) {\n        ret.push(node.toString());\n      }\n    }\n    return ret;\n  }\n\n  toJSON() {\n    return this.traceFunctionCalls(this.rootNode.name).reverse().map(name => {\n      const nativeIndex = this.nativeFunctions.indexOf(name);\n      if (nativeIndex > -1) {\n        return {\n          name,\n          source: this.nativeFunctions[nativeIndex].source\n        };\n      } else if (this.functionMap[name]) {\n        return this.functionMap[name].toJSON();\n      } else {\n        throw new Error(`function ${ name } not found`);\n      }\n    });\n  }\n\n  fromJSON(jsonFunctionNodes, FunctionNode) {\n    this.functionMap = {};\n    for (let i = 0; i < jsonFunctionNodes.length; i++) {\n      const jsonFunctionNode = jsonFunctionNodes[i];\n      this.functionMap[jsonFunctionNode.settings.name] = new FunctionNode(jsonFunctionNode.ast, jsonFunctionNode.settings);\n    }\n    return this;\n  }\n\n  getString(functionName) {\n    if (functionName) {\n      return this.getStringFromFunctionNames(this.traceFunctionCalls(functionName).reverse());\n    }\n    return this.getStringFromFunctionNames(Object.keys(this.functionMap));\n  }\n\n  lookupReturnType(functionName, ast, requestingNode) {\n    if (ast.type !== 'CallExpression') {\n      throw new Error(`expected ast type of \"CallExpression\", but is ${ ast.type }`);\n    }\n    if (this._isNativeFunction(functionName)) {\n      return this._lookupNativeFunctionReturnType(functionName);\n    } else if (this._isFunction(functionName)) {\n      const node = this._getFunction(functionName);\n      if (node.returnType) {\n        return node.returnType;\n      } else {\n        for (let i = 0; i < this.lookupChain.length; i++) {\n          if (this.lookupChain[i].ast === ast) {\n            if (node.argumentTypes.length === 0 && ast.arguments.length > 0) {\n              const args = ast.arguments;\n              for (let j = 0; j < args.length; j++) {\n                this.lookupChain.push({\n                  name: requestingNode.name,\n                  ast: args[i],\n                  requestingNode\n                });\n                node.argumentTypes[j] = requestingNode.getType(args[j]);\n                this.lookupChain.pop();\n              }\n              return node.returnType = node.getType(node.getJsAST());\n            }\n\n            throw new Error('circlical logic detected!');\n          }\n        }\n        this.lookupChain.push({\n          name: requestingNode.name,\n          ast,\n          requestingNode\n        });\n        const type = node.getType(node.getJsAST());\n        this.lookupChain.pop();\n        return node.returnType = type;\n      }\n    }\n\n    return null;\n  }\n\n  _getFunction(functionName) {\n    if (!this._isFunction(functionName)) {\n      new Error(`Function ${functionName} not found`);\n    }\n    return this.functionMap[functionName];\n  }\n\n  _isFunction(functionName) {\n    return Boolean(this.functionMap[functionName]);\n  }\n\n  _getNativeFunction(functionName) {\n    for (let i = 0; i < this.nativeFunctions.length; i++) {\n      if (this.nativeFunctions[i].name === functionName) return this.nativeFunctions[i];\n    }\n    return null;\n  }\n\n  _isNativeFunction(functionName) {\n    return Boolean(this._getNativeFunction(functionName));\n  }\n\n  _lookupNativeFunctionReturnType(functionName) {\n    let nativeFunction = this._getNativeFunction(functionName);\n    if (nativeFunction) {\n      return nativeFunction.returnType;\n    }\n    throw new Error(`Native function ${ functionName } not found`);\n  }\n\n  lookupFunctionArgumentTypes(functionName) {\n    if (this._isNativeFunction(functionName)) {\n      return this._getNativeFunction(functionName).argumentTypes;\n    } else if (this._isFunction(functionName)) {\n      return this._getFunction(functionName).argumentTypes;\n    }\n    return null;\n  }\n\n  lookupFunctionArgumentName(functionName, argumentIndex) {\n    return this._getFunction(functionName).argumentNames[argumentIndex];\n  }\n\n  lookupFunctionArgumentBitRatio(functionName, argumentName) {\n    if (!this._isFunction(functionName)) {\n      throw new Error('function not found');\n    }\n    if (this.rootNode.name === functionName) {\n      const i = this.rootNode.argumentNames.indexOf(argumentName);\n      if (i !== -1) {\n        return this.rootNode.argumentBitRatios[i];\n      }\n    }\n    const node = this._getFunction(functionName);\n    const i = node.argumentNames.indexOf(argumentName);\n    if (i === -1) {\n      throw new Error('argument not found');\n    }\n    const bitRatio = node.argumentBitRatios[i];\n    if (typeof bitRatio !== 'number') {\n      throw new Error('argument bit ratio not found');\n    }\n    return bitRatio;\n  }\n\n  needsArgumentType(functionName, i) {\n    if (!this._isFunction(functionName)) return false;\n    const fnNode = this._getFunction(functionName);\n    return !fnNode.argumentTypes[i];\n  }\n\n  assignArgumentType(functionName, i, argumentType, requestingNode) {\n    if (!this._isFunction(functionName)) return;\n    const fnNode = this._getFunction(functionName);\n    if (!fnNode.argumentTypes[i]) {\n      fnNode.argumentTypes[i] = argumentType;\n    }\n  }\n\n  assignArgumentBitRatio(functionName, argumentName, calleeFunctionName, argumentIndex) {\n    const node = this._getFunction(functionName);\n    if (this._isNativeFunction(calleeFunctionName)) return null;\n    const calleeNode = this._getFunction(calleeFunctionName);\n    const i = node.argumentNames.indexOf(argumentName);\n    if (i === -1) {\n      throw new Error(`Argument ${argumentName} not found in arguments from function ${functionName}`);\n    }\n    const bitRatio = node.argumentBitRatios[i];\n    if (typeof bitRatio !== 'number') {\n      throw new Error(`Bit ratio for argument ${argumentName} not found in function ${functionName}`);\n    }\n    if (!calleeNode.argumentBitRatios) {\n      calleeNode.argumentBitRatios = new Array(calleeNode.argumentNames.length);\n    }\n    const calleeBitRatio = calleeNode.argumentBitRatios[i];\n    if (typeof calleeBitRatio === 'number') {\n      if (calleeBitRatio !== bitRatio) {\n        throw new Error(`Incompatible bit ratio found at function ${functionName} at argument ${argumentName}`);\n      }\n      return calleeBitRatio;\n    }\n    calleeNode.argumentBitRatios[i] = bitRatio;\n    return bitRatio;\n  }\n\n  trackFunctionCall(functionName, calleeFunctionName, args) {\n    if (!this.functionNodeDependencies[functionName]) {\n      this.functionNodeDependencies[functionName] = new Set();\n      this.functionCalls[functionName] = [];\n    }\n    this.functionNodeDependencies[functionName].add(calleeFunctionName);\n    this.functionCalls[functionName].push(args);\n  }\n\n  getKernelResultType() {\n    return this.rootNode.returnType || this.rootNode.getType(this.rootNode.ast);\n  }\n\n  getSubKernelResultType(index) {\n    const subKernelNode = this.subKernelNodes[index];\n    let called = false;\n    for (let functionCallIndex = 0; functionCallIndex < this.rootNode.functionCalls.length; functionCallIndex++) {\n      const functionCall = this.rootNode.functionCalls[functionCallIndex];\n      if (functionCall.ast.callee.name === subKernelNode.name) {\n        called = true;\n      }\n    }\n    if (!called) {\n      throw new Error(`SubKernel ${ subKernelNode.name } never called by kernel`);\n    }\n    return subKernelNode.returnType || subKernelNode.getType(subKernelNode.getJsAST());\n  }\n\n  getReturnTypes() {\n    const result = {\n      [this.rootNode.name]: this.rootNode.getType(this.rootNode.ast),\n    };\n    const list = this.traceFunctionCalls(this.rootNode.name);\n    for (let i = 0; i < list.length; i++) {\n      const functionName = list[i];\n      const functionNode = this.functionMap[functionName];\n      result[functionName] = functionNode.getType(functionNode.ast);\n    }\n    return result;\n  }\n}\n\nmodule.exports = {\n  FunctionBuilder\n};\n},{}],10:[function(require,module,exports){\nconst acorn = require('acorn');\nconst { utils } = require('../utils');\nconst { FunctionTracer } = require('./function-tracer');\n\nclass FunctionNode {\n  constructor(source, settings) {\n    if (!source && !settings.ast) {\n      throw new Error('source parameter is missing');\n    }\n    settings = settings || {};\n    this.source = source;\n    this.ast = null;\n    this.name = typeof source === 'string' ? settings.isRootKernel ?\n      'kernel' :\n      (settings.name || utils.getFunctionNameFromString(source)) : null;\n    this.calledFunctions = [];\n    this.constants = {};\n    this.constantTypes = {};\n    this.constantBitRatios = {};\n    this.isRootKernel = false;\n    this.isSubKernel = false;\n    this.debug = null;\n    this.functions = null;\n    this.identifiers = null;\n    this.contexts = null;\n    this.functionCalls = null;\n    this.states = [];\n    this.needsArgumentType = null;\n    this.assignArgumentType = null;\n    this.lookupReturnType = null;\n    this.lookupFunctionArgumentTypes = null;\n    this.lookupFunctionArgumentBitRatio = null;\n    this.triggerImplyArgumentType = null;\n    this.triggerImplyArgumentBitRatio = null;\n    this.onNestedFunction = null;\n    this.onFunctionCall = null;\n    this.optimizeFloatMemory = null;\n    this.precision = null;\n    this.loopMaxIterations = null;\n    this.argumentNames = (typeof this.source === 'string' ? utils.getArgumentNamesFromString(this.source) : null);\n    this.argumentTypes = [];\n    this.argumentSizes = [];\n    this.argumentBitRatios = null;\n    this.returnType = null;\n    this.output = [];\n    this.plugins = null;\n    this.leadingReturnStatement = null;\n    this.followingReturnStatement = null;\n    this.dynamicOutput = null;\n    this.dynamicArguments = null;\n    this.strictTypingChecking = false;\n    this.fixIntegerDivisionAccuracy = null;\n    this.onIstanbulCoverageVariable = null;\n    this.removeIstanbulCoverage = false;\n\n    if (settings) {\n      for (const p in settings) {\n        if (!settings.hasOwnProperty(p)) continue;\n        if (!this.hasOwnProperty(p)) continue;\n        this[p] = settings[p];\n      }\n    }\n\n    this.literalTypes = {};\n\n    this.validate();\n    this._string = null;\n    this._internalVariableNames = {};\n  }\n\n  validate() {\n    if (typeof this.source !== 'string' && !this.ast) {\n      throw new Error('this.source not a string');\n    }\n\n    if (!this.ast && !utils.isFunctionString(this.source)) {\n      throw new Error('this.source not a function string');\n    }\n\n    if (!this.name) {\n      throw new Error('this.name could not be set');\n    }\n\n    if (this.argumentTypes.length > 0 && this.argumentTypes.length !== this.argumentNames.length) {\n      throw new Error(`argumentTypes count of ${ this.argumentTypes.length } exceeds ${ this.argumentNames.length }`);\n    }\n\n    if (this.output.length < 1) {\n      throw new Error('this.output is not big enough');\n    }\n  }\n\n  isIdentifierConstant(name) {\n    if (!this.constants) return false;\n    return this.constants.hasOwnProperty(name);\n  }\n\n  isInput(argumentName) {\n    return this.argumentTypes[this.argumentNames.indexOf(argumentName)] === 'Input';\n  }\n\n  pushState(state) {\n    this.states.push(state);\n  }\n\n  popState(state) {\n    if (this.state !== state) {\n      throw new Error(`Cannot popState ${ state } when in ${ this.state }`);\n    }\n    this.states.pop();\n  }\n\n  isState(state) {\n    return this.state === state;\n  }\n\n  get state() {\n    return this.states[this.states.length - 1];\n  }\n\n  astMemberExpressionUnroll(ast) {\n    if (ast.type === 'Identifier') {\n      return ast.name;\n    } else if (ast.type === 'ThisExpression') {\n      return 'this';\n    }\n\n    if (ast.type === 'MemberExpression') {\n      if (ast.object && ast.property) {\n        if (ast.object.hasOwnProperty('name') && ast.object.name[0] === '_') {\n          return this.astMemberExpressionUnroll(ast.property);\n        }\n\n        return (\n          this.astMemberExpressionUnroll(ast.object) +\n          '.' +\n          this.astMemberExpressionUnroll(ast.property)\n        );\n      }\n    }\n\n    if (ast.hasOwnProperty('expressions')) {\n      const firstExpression = ast.expressions[0];\n      if (firstExpression.type === 'Literal' && firstExpression.value === 0 && ast.expressions.length === 2) {\n        return this.astMemberExpressionUnroll(ast.expressions[1]);\n      }\n    }\n\n    throw this.astErrorOutput('Unknown astMemberExpressionUnroll', ast);\n  }\n\n  getJsAST(inParser) {\n    if (this.ast) {\n      return this.ast;\n    }\n    if (typeof this.source === 'object') {\n      this.traceFunctionAST(this.source);\n      return this.ast = this.source;\n    }\n\n    inParser = inParser || acorn;\n    if (inParser === null) {\n      throw new Error('Missing JS to AST parser');\n    }\n\n    const ast = Object.freeze(inParser.parse(`const parser_${ this.name } = ${ this.source };`, {\n      locations: true\n    }));\n    const functionAST = ast.body[0].declarations[0].init;\n    this.traceFunctionAST(functionAST);\n\n    if (!ast) {\n      throw new Error('Failed to parse JS code');\n    }\n\n    return this.ast = functionAST;\n  }\n\n  traceFunctionAST(ast) {\n    const { contexts, declarations, functions, identifiers, functionCalls } = new FunctionTracer(ast);\n    this.contexts = contexts;\n    this.identifiers = identifiers;\n    this.functionCalls = functionCalls;\n    this.functions = functions;\n    for (let i = 0; i < declarations.length; i++) {\n      const declaration = declarations[i];\n      const { ast, inForLoopInit, inForLoopTest } = declaration;\n      const { init } = ast;\n      const dependencies = this.getDependencies(init);\n      let valueType = null;\n\n      if (inForLoopInit && inForLoopTest) {\n        valueType = 'Integer';\n      } else {\n        if (init) {\n          const realType = this.getType(init);\n          switch (realType) {\n            case 'Integer':\n            case 'Float':\n            case 'Number':\n              if (init.type === 'MemberExpression') {\n                valueType = realType;\n              } else {\n                valueType = 'Number';\n              }\n              break;\n            case 'LiteralInteger':\n              valueType = 'Number';\n              break;\n            default:\n              valueType = realType;\n          }\n        }\n      }\n      declaration.valueType = valueType;\n      declaration.dependencies = dependencies;\n      declaration.isSafe = this.isSafeDependencies(dependencies);\n    }\n\n    for (let i = 0; i < functions.length; i++) {\n      this.onNestedFunction(functions[i]);\n    }\n  }\n\n  getDeclaration(ast) {\n    for (let i = 0; i < this.identifiers.length; i++) {\n      const identifier = this.identifiers[i];\n      if (ast === identifier.ast) {\n        return identifier.declaration;\n      }\n    }\n    return null;\n  }\n\n  getVariableType(ast) {\n    if (ast.type !== 'Identifier') {\n      throw new Error(`ast of ${ast.type} not \"Identifier\"`);\n    }\n    let type = null;\n    const argumentIndex = this.argumentNames.indexOf(ast.name);\n    if (argumentIndex === -1) {\n      const declaration = this.getDeclaration(ast);\n      if (declaration) {\n        return declaration.valueType;\n      }\n    } else {\n      const argumentType = this.argumentTypes[argumentIndex];\n      if (argumentType) {\n        type = argumentType;\n      }\n    }\n    if (!type && this.strictTypingChecking) {\n      throw new Error(`Declaration of ${name} not found`);\n    }\n    return type;\n  }\n\n  getLookupType(type) {\n    if (!typeLookupMap.hasOwnProperty(type)) {\n      throw new Error(`unknown typeLookupMap ${ type }`);\n    }\n    return typeLookupMap[type];\n  }\n\n  getConstantType(constantName) {\n    if (this.constantTypes[constantName]) {\n      const type = this.constantTypes[constantName];\n      if (type === 'Float') {\n        return 'Number';\n      } else {\n        return type;\n      }\n    }\n    throw new Error(`Type for constant \"${ constantName }\" not declared`);\n  }\n\n  toString() {\n    if (this._string) return this._string;\n    return this._string = this.astGeneric(this.getJsAST(), []).join('').trim();\n  }\n\n  toJSON() {\n    const settings = {\n      source: this.source,\n      name: this.name,\n      constants: this.constants,\n      constantTypes: this.constantTypes,\n      isRootKernel: this.isRootKernel,\n      isSubKernel: this.isSubKernel,\n      debug: this.debug,\n      output: this.output,\n      loopMaxIterations: this.loopMaxIterations,\n      argumentNames: this.argumentNames,\n      argumentTypes: this.argumentTypes,\n      argumentSizes: this.argumentSizes,\n      returnType: this.returnType,\n      leadingReturnStatement: this.leadingReturnStatement,\n      followingReturnStatement: this.followingReturnStatement,\n    };\n\n    return {\n      ast: this.ast,\n      settings\n    };\n  }\n\n  getType(ast) {\n    if (Array.isArray(ast)) {\n      return this.getType(ast[ast.length - 1]);\n    }\n    switch (ast.type) {\n      case 'BlockStatement':\n        return this.getType(ast.body);\n      case 'ArrayExpression':\n        return `Array(${ ast.elements.length })`;\n      case 'Literal':\n        const literalKey = this.astKey(ast);\n        if (this.literalTypes[literalKey]) {\n          return this.literalTypes[literalKey];\n        }\n        if (Number.isInteger(ast.value)) {\n          return 'LiteralInteger';\n        } else if (ast.value === true || ast.value === false) {\n          return 'Boolean';\n        } else {\n          return 'Number';\n        }\n        case 'AssignmentExpression':\n          return this.getType(ast.left);\n        case 'CallExpression':\n          if (this.isAstMathFunction(ast)) {\n            return 'Number';\n          }\n          if (!ast.callee || !ast.callee.name) {\n            if (ast.callee.type === 'SequenceExpression' && ast.callee.expressions[ast.callee.expressions.length - 1].property.name) {\n              const functionName = ast.callee.expressions[ast.callee.expressions.length - 1].property.name;\n              this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n              return this.lookupReturnType(functionName, ast, this);\n            }\n            if (this.getVariableSignature(ast.callee, true) === 'this.color') {\n              return null;\n            }\n            throw this.astErrorOutput('Unknown call expression', ast);\n          }\n          if (ast.callee && ast.callee.name) {\n            const functionName = ast.callee.name;\n            this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n            return this.lookupReturnType(functionName, ast, this);\n          }\n          throw this.astErrorOutput(`Unhandled getType Type \"${ ast.type }\"`, ast);\n        case 'LogicalExpression':\n          return 'Boolean';\n        case 'BinaryExpression':\n          switch (ast.operator) {\n            case '%':\n            case '/':\n              if (this.fixIntegerDivisionAccuracy) {\n                return 'Number';\n              } else {\n                break;\n              }\n              case '>':\n              case '<':\n                return 'Boolean';\n              case '&':\n              case '|':\n              case '^':\n              case '<<':\n              case '>>':\n              case '>>>':\n                return 'Integer';\n          }\n          const type = this.getType(ast.left);\n          if (this.isState('skip-literal-correction')) return type;\n          if (type === 'LiteralInteger') {\n            const rightType = this.getType(ast.right);\n            if (rightType === 'LiteralInteger') {\n              if (ast.left.value % 1 === 0) {\n                return 'Integer';\n              } else {\n                return 'Float';\n              }\n            }\n            return rightType;\n          }\n          return typeLookupMap[type] || type;\n        case 'UpdateExpression':\n          return this.getType(ast.argument);\n        case 'UnaryExpression':\n          if (ast.operator === '~') {\n            return 'Integer';\n          }\n          return this.getType(ast.argument);\n        case 'VariableDeclaration': {\n          const declarations = ast.declarations;\n          let lastType;\n          for (let i = 0; i < declarations.length; i++) {\n            const declaration = declarations[i];\n            lastType = this.getType(declaration);\n          }\n          if (!lastType) {\n            throw this.astErrorOutput(`Unable to find type for declaration`, ast);\n          }\n          return lastType;\n        }\n        case 'VariableDeclarator':\n          const declaration = this.getDeclaration(ast.id);\n          if (!declaration) {\n            throw this.astErrorOutput(`Unable to find declarator`, ast);\n          }\n\n          if (!declaration.valueType) {\n            throw this.astErrorOutput(`Unable to find declarator valueType`, ast);\n          }\n\n          return declaration.valueType;\n        case 'Identifier':\n          if (ast.name === 'Infinity') {\n            return 'Number';\n          }\n          if (this.isAstVariable(ast)) {\n            const signature = this.getVariableSignature(ast);\n            if (signature === 'value') {\n              return this.getCheckVariableType(ast);\n            }\n          }\n          const origin = this.findIdentifierOrigin(ast);\n          if (origin && origin.init) {\n            return this.getType(origin.init);\n          }\n          return null;\n        case 'ReturnStatement':\n          return this.getType(ast.argument);\n        case 'MemberExpression':\n          if (this.isAstMathFunction(ast)) {\n            switch (ast.property.name) {\n              case 'ceil':\n                return 'Integer';\n              case 'floor':\n                return 'Integer';\n              case 'round':\n                return 'Integer';\n            }\n            return 'Number';\n          }\n          if (this.isAstVariable(ast)) {\n            const variableSignature = this.getVariableSignature(ast);\n            switch (variableSignature) {\n              case 'value[]':\n                return this.getLookupType(this.getCheckVariableType(ast.object));\n              case 'value[][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object));\n              case 'value[][][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object.object));\n              case 'value[][][][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object.object.object));\n              case 'value.thread.value':\n              case 'this.thread.value':\n                return 'Integer';\n              case 'this.output.value':\n                return this.dynamicOutput ? 'Integer' : 'LiteralInteger';\n              case 'this.constants.value':\n                return this.getConstantType(ast.property.name);\n              case 'this.constants.value[]':\n                return this.getLookupType(this.getConstantType(ast.object.property.name));\n              case 'this.constants.value[][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.property.name));\n              case 'this.constants.value[][][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.object.property.name));\n              case 'this.constants.value[][][][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.object.object.property.name));\n              case 'fn()[]':\n              case 'fn()[][]':\n              case 'fn()[][][]':\n                return this.getLookupType(this.getType(ast.object));\n              case 'value.value':\n                if (this.isAstMathVariable(ast)) {\n                  return 'Number';\n                }\n                switch (ast.property.name) {\n                  case 'r':\n                  case 'g':\n                  case 'b':\n                  case 'a':\n                    return this.getLookupType(this.getCheckVariableType(ast.object));\n                }\n                case '[][]':\n                  return 'Number';\n            }\n            throw this.astErrorOutput('Unhandled getType MemberExpression', ast);\n          }\n          throw this.astErrorOutput('Unhandled getType MemberExpression', ast);\n        case 'ConditionalExpression':\n          return this.getType(ast.consequent);\n        case 'FunctionDeclaration':\n        case 'FunctionExpression':\n          const lastReturn = this.findLastReturn(ast.body);\n          if (lastReturn) {\n            return this.getType(lastReturn);\n          }\n          return null;\n        case 'IfStatement':\n          return this.getType(ast.consequent);\n        case 'SequenceExpression':\n          return this.getType(ast.expressions[ast.expressions.length - 1]);\n        default:\n          throw this.astErrorOutput(`Unhandled getType Type \"${ ast.type }\"`, ast);\n    }\n  }\n\n  getCheckVariableType(ast) {\n    const type = this.getVariableType(ast);\n    if (!type) {\n      throw this.astErrorOutput(`${ast.type} is not defined`, ast);\n    }\n    return type;\n  }\n\n  inferArgumentTypesIfNeeded(functionName, args) {\n    for (let i = 0; i < args.length; i++) {\n      if (!this.needsArgumentType(functionName, i)) continue;\n      const type = this.getType(args[i]);\n      if (!type) {\n        throw this.astErrorOutput(`Unable to infer argument ${i}`, args[i]);\n      }\n      this.assignArgumentType(functionName, i, type);\n    }\n  }\n\n  isAstMathVariable(ast) {\n    const mathProperties = [\n      'E',\n      'PI',\n      'SQRT2',\n      'SQRT1_2',\n      'LN2',\n      'LN10',\n      'LOG2E',\n      'LOG10E',\n    ];\n    return ast.type === 'MemberExpression' &&\n      ast.object && ast.object.type === 'Identifier' &&\n      ast.object.name === 'Math' &&\n      ast.property &&\n      ast.property.type === 'Identifier' &&\n      mathProperties.indexOf(ast.property.name) > -1;\n  }\n\n  isAstMathFunction(ast) {\n    const mathFunctions = [\n      'abs',\n      'acos',\n      'acosh',\n      'asin',\n      'asinh',\n      'atan',\n      'atan2',\n      'atanh',\n      'cbrt',\n      'ceil',\n      'clz32',\n      'cos',\n      'cosh',\n      'expm1',\n      'exp',\n      'floor',\n      'fround',\n      'imul',\n      'log',\n      'log2',\n      'log10',\n      'log1p',\n      'max',\n      'min',\n      'pow',\n      'random',\n      'round',\n      'sign',\n      'sin',\n      'sinh',\n      'sqrt',\n      'tan',\n      'tanh',\n      'trunc',\n    ];\n    return ast.type === 'CallExpression' &&\n      ast.callee &&\n      ast.callee.type === 'MemberExpression' &&\n      ast.callee.object &&\n      ast.callee.object.type === 'Identifier' &&\n      ast.callee.object.name === 'Math' &&\n      ast.callee.property &&\n      ast.callee.property.type === 'Identifier' &&\n      mathFunctions.indexOf(ast.callee.property.name) > -1;\n  }\n\n  isAstVariable(ast) {\n    return ast.type === 'Identifier' || ast.type === 'MemberExpression';\n  }\n\n  isSafe(ast) {\n    return this.isSafeDependencies(this.getDependencies(ast));\n  }\n\n  isSafeDependencies(dependencies) {\n    return dependencies && dependencies.every ? dependencies.every(dependency => dependency.isSafe) : true;\n  }\n\n  getDependencies(ast, dependencies, isNotSafe) {\n    if (!dependencies) {\n      dependencies = [];\n    }\n    if (!ast) return null;\n    if (Array.isArray(ast)) {\n      for (let i = 0; i < ast.length; i++) {\n        this.getDependencies(ast[i], dependencies, isNotSafe);\n      }\n      return dependencies;\n    }\n    switch (ast.type) {\n      case 'AssignmentExpression':\n        this.getDependencies(ast.left, dependencies, isNotSafe);\n        this.getDependencies(ast.right, dependencies, isNotSafe);\n        return dependencies;\n      case 'ConditionalExpression':\n        this.getDependencies(ast.test, dependencies, isNotSafe);\n        this.getDependencies(ast.alternate, dependencies, isNotSafe);\n        this.getDependencies(ast.consequent, dependencies, isNotSafe);\n        return dependencies;\n      case 'Literal':\n        dependencies.push({\n          origin: 'literal',\n          value: ast.value,\n          isSafe: isNotSafe === true ? false : ast.value > -Infinity && ast.value < Infinity && !isNaN(ast.value)\n        });\n        break;\n      case 'VariableDeclarator':\n        return this.getDependencies(ast.init, dependencies, isNotSafe);\n      case 'Identifier':\n        const declaration = this.getDeclaration(ast);\n        if (declaration) {\n          dependencies.push({\n            name: ast.name,\n            origin: 'declaration',\n            isSafe: isNotSafe ? false : this.isSafeDependencies(declaration.dependencies),\n          });\n        } else if (this.argumentNames.indexOf(ast.name) > -1) {\n          dependencies.push({\n            name: ast.name,\n            origin: 'argument',\n            isSafe: false,\n          });\n        } else if (this.strictTypingChecking) {\n          throw new Error(`Cannot find identifier origin \"${ast.name}\"`);\n        }\n        break;\n      case 'FunctionDeclaration':\n        return this.getDependencies(ast.body.body[ast.body.body.length - 1], dependencies, isNotSafe);\n      case 'ReturnStatement':\n        return this.getDependencies(ast.argument, dependencies);\n      case 'BinaryExpression':\n      case 'LogicalExpression':\n        isNotSafe = (ast.operator === '/' || ast.operator === '*');\n        this.getDependencies(ast.left, dependencies, isNotSafe);\n        this.getDependencies(ast.right, dependencies, isNotSafe);\n        return dependencies;\n      case 'UnaryExpression':\n      case 'UpdateExpression':\n        return this.getDependencies(ast.argument, dependencies, isNotSafe);\n      case 'VariableDeclaration':\n        return this.getDependencies(ast.declarations, dependencies, isNotSafe);\n      case 'ArrayExpression':\n        dependencies.push({\n          origin: 'declaration',\n          isSafe: true,\n        });\n        return dependencies;\n      case 'CallExpression':\n        dependencies.push({\n          origin: 'function',\n          isSafe: true,\n        });\n        return dependencies;\n      case 'MemberExpression':\n        const details = this.getMemberExpressionDetails(ast);\n        switch (details.signature) {\n          case 'value[]':\n            this.getDependencies(ast.object, dependencies, isNotSafe);\n            break;\n          case 'value[][]':\n            this.getDependencies(ast.object.object, dependencies, isNotSafe);\n            break;\n          case 'value[][][]':\n            this.getDependencies(ast.object.object.object, dependencies, isNotSafe);\n            break;\n          case 'this.output.value':\n            if (this.dynamicOutput) {\n              dependencies.push({\n                name: details.name,\n                origin: 'output',\n                isSafe: false,\n              });\n            }\n            break;\n        }\n        if (details) {\n          if (details.property) {\n            this.getDependencies(details.property, dependencies, isNotSafe);\n          }\n          if (details.xProperty) {\n            this.getDependencies(details.xProperty, dependencies, isNotSafe);\n          }\n          if (details.yProperty) {\n            this.getDependencies(details.yProperty, dependencies, isNotSafe);\n          }\n          if (details.zProperty) {\n            this.getDependencies(details.zProperty, dependencies, isNotSafe);\n          }\n          return dependencies;\n        }\n        case 'SequenceExpression':\n          return this.getDependencies(ast.expressions, dependencies, isNotSafe);\n        default:\n          throw this.astErrorOutput(`Unhandled type ${ ast.type } in getDependencies`, ast);\n    }\n    return dependencies;\n  }\n\n  getVariableSignature(ast, returnRawValue) {\n    if (!this.isAstVariable(ast)) {\n      throw new Error(`ast of type \"${ ast.type }\" is not a variable signature`);\n    }\n    if (ast.type === 'Identifier') {\n      return 'value';\n    }\n    const signature = [];\n    while (true) {\n      if (!ast) break;\n      if (ast.computed) {\n        signature.push('[]');\n      } else if (ast.type === 'ThisExpression') {\n        signature.unshift('this');\n      } else if (ast.property && ast.property.name) {\n        if (\n          ast.property.name === 'x' ||\n          ast.property.name === 'y' ||\n          ast.property.name === 'z'\n        ) {\n          signature.unshift(returnRawValue ? '.' + ast.property.name : '.value');\n        } else if (\n          ast.property.name === 'constants' ||\n          ast.property.name === 'thread' ||\n          ast.property.name === 'output'\n        ) {\n          signature.unshift('.' + ast.property.name);\n        } else {\n          signature.unshift(returnRawValue ? '.' + ast.property.name : '.value');\n        }\n      } else if (ast.name) {\n        signature.unshift(returnRawValue ? ast.name : 'value');\n      } else if (ast.callee && ast.callee.name) {\n        signature.unshift(returnRawValue ? ast.callee.name + '()' : 'fn()');\n      } else if (ast.elements) {\n        signature.unshift('[]');\n      } else {\n        signature.unshift('unknown');\n      }\n      ast = ast.object;\n    }\n\n    const signatureString = signature.join('');\n    if (returnRawValue) {\n      return signatureString;\n    }\n\n    const allowedExpressions = [\n      'value',\n      'value[]',\n      'value[][]',\n      'value[][][]',\n      'value[][][][]',\n      'value.value',\n      'value.value[]', \n      'value.value[][]', \n      'value.thread.value',\n      'this.thread.value',\n      'this.output.value',\n      'this.constants.value',\n      'this.constants.value[]',\n      'this.constants.value[][]',\n      'this.constants.value[][][]',\n      'this.constants.value[][][][]',\n      'fn()[]',\n      'fn()[][]',\n      'fn()[][][]',\n      '[][]',\n    ];\n    if (allowedExpressions.indexOf(signatureString) > -1) {\n      return signatureString;\n    }\n    return null;\n  }\n\n  build() {\n    return this.toString().length > 0;\n  }\n\n  astGeneric(ast, retArr) {\n    if (ast === null) {\n      throw this.astErrorOutput('NULL ast', ast);\n    } else {\n      if (Array.isArray(ast)) {\n        for (let i = 0; i < ast.length; i++) {\n          this.astGeneric(ast[i], retArr);\n        }\n        return retArr;\n      }\n\n      switch (ast.type) {\n        case 'FunctionDeclaration':\n          return this.astFunctionDeclaration(ast, retArr);\n        case 'FunctionExpression':\n          return this.astFunctionExpression(ast, retArr);\n        case 'ReturnStatement':\n          return this.astReturnStatement(ast, retArr);\n        case 'Literal':\n          return this.astLiteral(ast, retArr);\n        case 'BinaryExpression':\n          return this.astBinaryExpression(ast, retArr);\n        case 'Identifier':\n          return this.astIdentifierExpression(ast, retArr);\n        case 'AssignmentExpression':\n          return this.astAssignmentExpression(ast, retArr);\n        case 'ExpressionStatement':\n          return this.astExpressionStatement(ast, retArr);\n        case 'EmptyStatement':\n          return this.astEmptyStatement(ast, retArr);\n        case 'BlockStatement':\n          return this.astBlockStatement(ast, retArr);\n        case 'IfStatement':\n          return this.astIfStatement(ast, retArr);\n        case 'SwitchStatement':\n          return this.astSwitchStatement(ast, retArr);\n        case 'BreakStatement':\n          return this.astBreakStatement(ast, retArr);\n        case 'ContinueStatement':\n          return this.astContinueStatement(ast, retArr);\n        case 'ForStatement':\n          return this.astForStatement(ast, retArr);\n        case 'WhileStatement':\n          return this.astWhileStatement(ast, retArr);\n        case 'DoWhileStatement':\n          return this.astDoWhileStatement(ast, retArr);\n        case 'VariableDeclaration':\n          return this.astVariableDeclaration(ast, retArr);\n        case 'VariableDeclarator':\n          return this.astVariableDeclarator(ast, retArr);\n        case 'ThisExpression':\n          return this.astThisExpression(ast, retArr);\n        case 'SequenceExpression':\n          return this.astSequenceExpression(ast, retArr);\n        case 'UnaryExpression':\n          return this.astUnaryExpression(ast, retArr);\n        case 'UpdateExpression':\n          return this.astUpdateExpression(ast, retArr);\n        case 'LogicalExpression':\n          return this.astLogicalExpression(ast, retArr);\n        case 'MemberExpression':\n          return this.astMemberExpression(ast, retArr);\n        case 'CallExpression':\n          return this.astCallExpression(ast, retArr);\n        case 'ArrayExpression':\n          return this.astArrayExpression(ast, retArr);\n        case 'DebuggerStatement':\n          return this.astDebuggerStatement(ast, retArr);\n        case 'ConditionalExpression':\n          return this.astConditionalExpression(ast, retArr);\n      }\n\n      throw this.astErrorOutput('Unknown ast type : ' + ast.type, ast);\n    }\n  }\n  astErrorOutput(error, ast) {\n    if (typeof this.source !== 'string') {\n      return new Error(error);\n    }\n\n    const debugString = utils.getAstString(this.source, ast);\n    const leadingSource = this.source.substr(ast.start);\n    const splitLines = leadingSource.split(/\\n/);\n    const lineBefore = splitLines.length > 0 ? splitLines[splitLines.length - 1] : 0;\n    return new Error(`${error} on line ${ splitLines.length }, position ${ lineBefore.length }:\\n ${ debugString }`);\n  }\n\n  astDebuggerStatement(arrNode, retArr) {\n    return retArr;\n  }\n\n  astConditionalExpression(ast, retArr) {\n    if (ast.type !== 'ConditionalExpression') {\n      throw this.astErrorOutput('Not a conditional expression', ast);\n    }\n    retArr.push('(');\n    this.astGeneric(ast.test, retArr);\n    retArr.push('?');\n    this.astGeneric(ast.consequent, retArr);\n    retArr.push(':');\n    this.astGeneric(ast.alternate, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astFunction(ast, retArr) {\n    throw new Error(`\"astFunction\" not defined on ${ this.constructor.name }`);\n  }\n\n  astFunctionDeclaration(ast, retArr) {\n    if (this.isChildFunction(ast)) {\n      return retArr;\n    }\n    return this.astFunction(ast, retArr);\n  }\n  astFunctionExpression(ast, retArr) {\n    if (this.isChildFunction(ast)) {\n      return retArr;\n    }\n    return this.astFunction(ast, retArr);\n  }\n  isChildFunction(ast) {\n    for (let i = 0; i < this.functions.length; i++) {\n      if (this.functions[i] === ast) {\n        return true;\n      }\n    }\n    return false;\n  }\n  astReturnStatement(ast, retArr) {\n    return retArr;\n  }\n  astLiteral(ast, retArr) {\n    this.literalTypes[this.astKey(ast)] = 'Number';\n    return retArr;\n  }\n  astBinaryExpression(ast, retArr) {\n    return retArr;\n  }\n  astIdentifierExpression(ast, retArr) {\n    return retArr;\n  }\n  astAssignmentExpression(ast, retArr) {\n    return retArr;\n  }\n  astExpressionStatement(esNode, retArr) {\n    this.astGeneric(esNode.expression, retArr);\n    retArr.push(';');\n    return retArr;\n  }\n  astEmptyStatement(eNode, retArr) {\n    return retArr;\n  }\n  astBlockStatement(ast, retArr) {\n    return retArr;\n  }\n  astIfStatement(ast, retArr) {\n    return retArr;\n  }\n  astSwitchStatement(ast, retArr) {\n    return retArr;\n  }\n  astBreakStatement(brNode, retArr) {\n    retArr.push('break;');\n    return retArr;\n  }\n  astContinueStatement(crNode, retArr) {\n    retArr.push('continue;\\n');\n    return retArr;\n  }\n  astForStatement(ast, retArr) {\n    return retArr;\n  }\n  astWhileStatement(ast, retArr) {\n    return retArr;\n  }\n  astDoWhileStatement(ast, retArr) {\n    return retArr;\n  }\n  astVariableDeclarator(iVarDecNode, retArr) {\n    this.astGeneric(iVarDecNode.id, retArr);\n    if (iVarDecNode.init !== null) {\n      retArr.push('=');\n      this.astGeneric(iVarDecNode.init, retArr);\n    }\n    return retArr;\n  }\n  astThisExpression(ast, retArr) {\n    return retArr;\n  }\n  isIstanbulAST(ast) {\n    const variableSignature = this.getVariableSignature(ast);\n    return variableSignature === 'value.value[]' || variableSignature === 'value.value[][]';\n  }\n  astSequenceExpression(sNode, retArr) {\n    const { expressions } = sNode;\n    const sequenceResult = [];\n    for (let i = 0; i < expressions.length; i++) {\n      const expression = expressions[i];\n      if (this.removeIstanbulCoverage) {\n        if (expression.type === 'UpdateExpression' && this.isIstanbulAST(expression.argument)) {\n          continue;\n        }\n      }\n      const expressionResult = [];\n      this.astGeneric(expression, expressionResult);\n      sequenceResult.push(expressionResult.join(''));\n    }\n    if (sequenceResult.length > 1) {\n      retArr.push('(', sequenceResult.join(','), ')');\n    } else {\n      retArr.push(sequenceResult[0]);\n    }\n    return retArr;\n  }\n  astUnaryExpression(uNode, retArr) {\n    const unaryResult = this.checkAndUpconvertBitwiseUnary(uNode, retArr);\n    if (unaryResult) {\n      return retArr;\n    }\n\n    if (uNode.prefix) {\n      retArr.push(uNode.operator);\n      this.astGeneric(uNode.argument, retArr);\n    } else {\n      this.astGeneric(uNode.argument, retArr);\n      retArr.push(uNode.operator);\n    }\n\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseUnary(uNode, retArr) {}\n\n  astUpdateExpression(uNode, retArr) {\n    if (this.removeIstanbulCoverage) {\n      const signature = this.getVariableSignature(uNode.argument);\n      if (this.isIstanbulAST(uNode.argument)) {\n        return retArr;\n      }\n    }\n    if (uNode.prefix) {\n      retArr.push(uNode.operator);\n      this.astGeneric(uNode.argument, retArr);\n    } else {\n      this.astGeneric(uNode.argument, retArr);\n      retArr.push(uNode.operator);\n    }\n\n    return retArr;\n  }\n  astLogicalExpression(logNode, retArr) {\n    retArr.push('(');\n    this.astGeneric(logNode.left, retArr);\n    retArr.push(logNode.operator);\n    this.astGeneric(logNode.right, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n  astMemberExpression(ast, retArr) {\n    return retArr;\n  }\n  astCallExpression(ast, retArr) {\n    return retArr;\n  }\n  astArrayExpression(ast, retArr) {\n    return retArr;\n  }\n\n  getMemberExpressionDetails(ast) {\n    if (ast.type !== 'MemberExpression') {\n      throw this.astErrorOutput(`Expression ${ ast.type } not a MemberExpression`, ast);\n    }\n    let name = null;\n    let type = null;\n    const variableSignature = this.getVariableSignature(ast);\n    switch (variableSignature) {\n      case 'value':\n        return null;\n      case 'value.thread.value':\n      case 'this.thread.value':\n      case 'this.output.value':\n        return {\n          signature: variableSignature,\n            type: 'Integer',\n            name: ast.property.name\n        };\n      case 'value[]':\n        if (typeof ast.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object),\n            xProperty: ast.property\n        };\n      case 'value[][]':\n        if (typeof ast.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object),\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value[][][]':\n        if (typeof ast.object.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object.object),\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value[][][][]':\n        if (typeof ast.object.object.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object.object.object),\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value.value':\n        if (typeof ast.property.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        if (this.isAstMathVariable(ast)) {\n          name = ast.property.name;\n          return {\n            name,\n            origin: 'Math',\n            type: 'Number',\n            signature: variableSignature,\n          };\n        }\n        switch (ast.property.name) {\n          case 'r':\n          case 'g':\n          case 'b':\n          case 'a':\n            name = ast.object.name;\n            return {\n              name,\n              property: ast.property.name,\n                origin: 'user',\n                signature: variableSignature,\n                type: 'Number'\n            };\n          default:\n            throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        case 'this.constants.value':\n          if (typeof ast.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n              signature: variableSignature,\n          };\n        case 'this.constants.value[]':\n          if (typeof ast.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n              signature: variableSignature,\n              xProperty: ast.property,\n          };\n        case 'this.constants.value[][]': {\n          if (typeof ast.object.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n            signature: variableSignature,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n          };\n        }\n        case 'this.constants.value[][][]': {\n          if (typeof ast.object.object.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.object.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n            signature: variableSignature,\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n          };\n        }\n        case 'fn()[]':\n        case '[][]':\n          return {\n            signature: variableSignature,\n              property: ast.property,\n          };\n        case 'value.value[]': \n          if (this.removeIstanbulCoverage) {\n            return { signature: variableSignature };\n          }\n          if (this.onIstanbulCoverageVariable) {\n            this.onIstanbulCoverageVariable(ast.object.object.name);\n            return {\n              signature: variableSignature\n            };\n          }\n          case 'value.value[][]': \n            if (this.removeIstanbulCoverage) {\n              return { signature: variableSignature };\n            }\n            if (this.onIstanbulCoverageVariable) {\n              this.onIstanbulCoverageVariable(ast.object.object.object.name);\n              return {\n                signature: variableSignature\n              };\n            }\n            default:\n              throw this.astErrorOutput('Unexpected expression', ast);\n    }\n  }\n\n  findIdentifierOrigin(astToFind) {\n    const stack = [this.ast];\n\n    while (stack.length > 0) {\n      const atNode = stack[0];\n      if (atNode.type === 'VariableDeclarator' && atNode.id && atNode.id.name && atNode.id.name === astToFind.name) {\n        return atNode;\n      }\n      stack.shift();\n      if (atNode.argument) {\n        stack.push(atNode.argument);\n      } else if (atNode.body) {\n        stack.push(atNode.body);\n      } else if (atNode.declarations) {\n        stack.push(atNode.declarations);\n      } else if (Array.isArray(atNode)) {\n        for (let i = 0; i < atNode.length; i++) {\n          stack.push(atNode[i]);\n        }\n      }\n    }\n    return null;\n  }\n\n  findLastReturn(ast) {\n    const stack = [ast || this.ast];\n\n    while (stack.length > 0) {\n      const atNode = stack.pop();\n      if (atNode.type === 'ReturnStatement') {\n        return atNode;\n      }\n      if (atNode.type === 'FunctionDeclaration') {\n        continue;\n      }\n      if (atNode.argument) {\n        stack.push(atNode.argument);\n      } else if (atNode.body) {\n        stack.push(atNode.body);\n      } else if (atNode.declarations) {\n        stack.push(atNode.declarations);\n      } else if (Array.isArray(atNode)) {\n        for (let i = 0; i < atNode.length; i++) {\n          stack.push(atNode[i]);\n        }\n      } else if (atNode.consequent) {\n        stack.push(atNode.consequent);\n      } else if (atNode.cases) {\n        stack.push(atNode.cases);\n      }\n    }\n    return null;\n  }\n\n  getInternalVariableName(name) {\n    if (!this._internalVariableNames.hasOwnProperty(name)) {\n      this._internalVariableNames[name] = 0;\n    }\n    this._internalVariableNames[name]++;\n    if (this._internalVariableNames[name] === 1) {\n      return name;\n    }\n    return name + this._internalVariableNames[name];\n  }\n\n  astKey(ast, separator = ',') {\n    if (!ast.start || !ast.end) throw new Error('AST start and end needed');\n    return `${ast.start}${separator}${ast.end}`;\n  }\n}\n\nconst typeLookupMap = {\n  'Number': 'Number',\n  'Float': 'Float',\n  'Integer': 'Integer',\n  'Array': 'Number',\n  'Array(2)': 'Number',\n  'Array(3)': 'Number',\n  'Array(4)': 'Number',\n  'Array2D': 'Number',\n  'Array3D': 'Number',\n  'Input': 'Number',\n  'HTMLCanvas': 'Array(4)',\n  'HTMLImage': 'Array(4)',\n  'HTMLVideo': 'Array(4)',\n  'HTMLImageArray': 'Array(4)',\n  'NumberTexture': 'Number',\n  'MemoryOptimizedNumberTexture': 'Number',\n  'Array1D(2)': 'Array(2)',\n  'Array1D(3)': 'Array(3)',\n  'Array1D(4)': 'Array(4)',\n  'Array2D(2)': 'Array(2)',\n  'Array2D(3)': 'Array(3)',\n  'Array2D(4)': 'Array(4)',\n  'Array3D(2)': 'Array(2)',\n  'Array3D(3)': 'Array(3)',\n  'Array3D(4)': 'Array(4)',\n  'ArrayTexture(1)': 'Number',\n  'ArrayTexture(2)': 'Array(2)',\n  'ArrayTexture(3)': 'Array(3)',\n  'ArrayTexture(4)': 'Array(4)',\n};\n\nmodule.exports = {\n  FunctionNode\n};\n},{\"../utils\":114,\"./function-tracer\":11,\"acorn\":1}],11:[function(require,module,exports){\nconst { utils } = require('../utils');\n\nfunction last(array) {\n  return array.length > 0 ? array[array.length - 1] : null;\n}\n\nconst states = {\n  trackIdentifiers: 'trackIdentifiers',\n  memberExpression: 'memberExpression',\n  inForLoopInit: 'inForLoopInit'\n};\n\nclass FunctionTracer {\n  constructor(ast) {\n    this.runningContexts = [];\n    this.functionContexts = [];\n    this.contexts = [];\n    this.functionCalls = [];\n    this.declarations = [];\n    this.identifiers = [];\n    this.functions = [];\n    this.returnStatements = [];\n    this.trackedIdentifiers = null;\n    this.states = [];\n    this.newFunctionContext();\n    this.scan(ast);\n  }\n\n  isState(state) {\n    return this.states[this.states.length - 1] === state;\n  }\n\n  hasState(state) {\n    return this.states.indexOf(state) > -1;\n  }\n\n  pushState(state) {\n    this.states.push(state);\n  }\n\n  popState(state) {\n    if (this.isState(state)) {\n      this.states.pop();\n    } else {\n      throw new Error(`Cannot pop the non-active state \"${state}\"`);\n    }\n  }\n\n  get currentFunctionContext() {\n    return last(this.functionContexts);\n  }\n\n  get currentContext() {\n    return last(this.runningContexts);\n  }\n\n  newFunctionContext() {\n    const newContext = { '@contextType': 'function' };\n    this.contexts.push(newContext);\n    this.functionContexts.push(newContext);\n  }\n\n  newContext(run) {\n    const newContext = Object.assign({ '@contextType': 'const/let' }, this.currentContext);\n    this.contexts.push(newContext);\n    this.runningContexts.push(newContext);\n    run();\n    const { currentFunctionContext } = this;\n    for (const p in currentFunctionContext) {\n      if (!currentFunctionContext.hasOwnProperty(p) || newContext.hasOwnProperty(p)) continue;\n      newContext[p] = currentFunctionContext[p];\n    }\n    this.runningContexts.pop();\n    return newContext;\n  }\n\n  useFunctionContext(run) {\n    const functionContext = last(this.functionContexts);\n    this.runningContexts.push(functionContext);\n    run();\n    this.runningContexts.pop();\n  }\n\n  getIdentifiers(run) {\n    const trackedIdentifiers = this.trackedIdentifiers = [];\n    this.pushState(states.trackIdentifiers);\n    run();\n    this.trackedIdentifiers = null;\n    this.popState(states.trackIdentifiers);\n    return trackedIdentifiers;\n  }\n\n  getDeclaration(name) {\n    const { currentContext, currentFunctionContext, runningContexts } = this;\n    const declaration = currentContext[name] || currentFunctionContext[name] || null;\n\n    if (\n      !declaration &&\n      currentContext === currentFunctionContext &&\n      runningContexts.length > 0\n    ) {\n      const previousRunningContext = runningContexts[runningContexts.length - 2];\n      if (previousRunningContext[name]) {\n        return previousRunningContext[name];\n      }\n    }\n\n    return declaration;\n  }\n\n  scan(ast) {\n    if (!ast) return;\n    if (Array.isArray(ast)) {\n      for (let i = 0; i < ast.length; i++) {\n        this.scan(ast[i]);\n      }\n      return;\n    }\n    switch (ast.type) {\n      case 'Program':\n        this.useFunctionContext(() => {\n          this.scan(ast.body);\n        });\n        break;\n      case 'BlockStatement':\n        this.newContext(() => {\n          this.scan(ast.body);\n        });\n        break;\n      case 'AssignmentExpression':\n      case 'LogicalExpression':\n        this.scan(ast.left);\n        this.scan(ast.right);\n        break;\n      case 'BinaryExpression':\n        this.scan(ast.left);\n        this.scan(ast.right);\n        break;\n      case 'UpdateExpression':\n        if (ast.operator === '++') {\n          const declaration = this.getDeclaration(ast.argument.name);\n          if (declaration) {\n            declaration.suggestedType = 'Integer';\n          }\n        }\n        this.scan(ast.argument);\n        break;\n      case 'UnaryExpression':\n        this.scan(ast.argument);\n        break;\n      case 'VariableDeclaration':\n        if (ast.kind === 'var') {\n          this.useFunctionContext(() => {\n            ast.declarations = utils.normalizeDeclarations(ast);\n            this.scan(ast.declarations);\n          });\n        } else {\n          ast.declarations = utils.normalizeDeclarations(ast);\n          this.scan(ast.declarations);\n        }\n        break;\n      case 'VariableDeclarator': {\n        const { currentContext } = this;\n        const inForLoopInit = this.hasState(states.inForLoopInit);\n        const declaration = {\n          ast: ast,\n          context: currentContext,\n          name: ast.id.name,\n          origin: 'declaration',\n          inForLoopInit,\n          inForLoopTest: null,\n          assignable: currentContext === this.currentFunctionContext || (!inForLoopInit && !currentContext.hasOwnProperty(ast.id.name)),\n          suggestedType: null,\n          valueType: null,\n          dependencies: null,\n          isSafe: null,\n        };\n        if (!currentContext[ast.id.name]) {\n          currentContext[ast.id.name] = declaration;\n        }\n        this.declarations.push(declaration);\n        this.scan(ast.id);\n        this.scan(ast.init);\n        break;\n      }\n      case 'FunctionExpression':\n      case 'FunctionDeclaration':\n        if (this.runningContexts.length === 0) {\n          this.scan(ast.body);\n        } else {\n          this.functions.push(ast);\n        }\n        break;\n      case 'IfStatement':\n        this.scan(ast.test);\n        this.scan(ast.consequent);\n        if (ast.alternate) this.scan(ast.alternate);\n        break;\n      case 'ForStatement': {\n        let testIdentifiers;\n        const context = this.newContext(() => {\n          this.pushState(states.inForLoopInit);\n          this.scan(ast.init);\n          this.popState(states.inForLoopInit);\n\n          testIdentifiers = this.getIdentifiers(() => {\n            this.scan(ast.test);\n          });\n\n          this.scan(ast.update);\n          this.newContext(() => {\n            this.scan(ast.body);\n          });\n        });\n\n        if (testIdentifiers) {\n          for (const p in context) {\n            if (p === '@contextType') continue;\n            if (testIdentifiers.indexOf(p) > -1) {\n              context[p].inForLoopTest = true;\n            }\n          }\n        }\n        break;\n      }\n      case 'DoWhileStatement':\n      case 'WhileStatement':\n        this.newContext(() => {\n          this.scan(ast.body);\n          this.scan(ast.test);\n        });\n        break;\n      case 'Identifier': {\n        if (this.isState(states.trackIdentifiers)) {\n          this.trackedIdentifiers.push(ast.name);\n        }\n        this.identifiers.push({\n          context: this.currentContext,\n          declaration: this.getDeclaration(ast.name),\n          ast,\n        });\n        break;\n      }\n      case 'ReturnStatement':\n        this.returnStatements.push(ast);\n        this.scan(ast.argument);\n        break;\n      case 'MemberExpression':\n        this.pushState(states.memberExpression);\n        this.scan(ast.object);\n        this.scan(ast.property);\n        this.popState(states.memberExpression);\n        break;\n      case 'ExpressionStatement':\n        this.scan(ast.expression);\n        break;\n      case 'SequenceExpression':\n        this.scan(ast.expressions);\n        break;\n      case 'CallExpression':\n        this.functionCalls.push({\n          context: this.currentContext,\n          ast,\n        });\n        this.scan(ast.arguments);\n        break;\n      case 'ArrayExpression':\n        this.scan(ast.elements);\n        break;\n      case 'ConditionalExpression':\n        this.scan(ast.test);\n        this.scan(ast.alternate);\n        this.scan(ast.consequent);\n        break;\n      case 'SwitchStatement':\n        this.scan(ast.discriminant);\n        this.scan(ast.cases);\n        break;\n      case 'SwitchCase':\n        this.scan(ast.test);\n        this.scan(ast.consequent);\n        break;\n\n      case 'ThisExpression':\n      case 'Literal':\n      case 'DebuggerStatement':\n      case 'EmptyStatement':\n      case 'BreakStatement':\n      case 'ContinueStatement':\n        break;\n      default:\n        throw new Error(`unhandled type \"${ast.type}\"`);\n    }\n  }\n}\n\nmodule.exports = {\n  FunctionTracer,\n};\n},{\"../utils\":114}],12:[function(require,module,exports){\nconst { glWiretap } = require('gl-wiretap');\nconst { utils } = require('../../utils');\n\nfunction toStringWithoutUtils(fn) {\n  return fn.toString()\n    .replace('=>', '')\n    .replace(/^function /, '')\n    .replace(/utils[.]/g, '/*utils.*/');\n}\n\nfunction glKernelString(Kernel, args, originKernel, setupContextString, destroyContextString) {\n  if (!originKernel.built) {\n    originKernel.build.apply(originKernel, args);\n  }\n  args = args ? Array.from(args).map(arg => {\n    switch (typeof arg) {\n      case 'boolean':\n        return new Boolean(arg);\n      case 'number':\n        return new Number(arg);\n      default:\n        return arg;\n    }\n  }) : null;\n  const uploadedValues = [];\n  const postResult = [];\n  const context = glWiretap(originKernel.context, {\n    useTrackablePrimitives: true,\n    onReadPixels: (targetName) => {\n      if (kernel.subKernels) {\n        if (!subKernelsResultVariableSetup) {\n          postResult.push(`    const result = { result: ${getRenderString(targetName, kernel)} };`);\n          subKernelsResultVariableSetup = true;\n        } else {\n          const property = kernel.subKernels[subKernelsResultIndex++].property;\n          postResult.push(`    result${isNaN(property) ? '.' + property : `[${property}]`} = ${getRenderString(targetName, kernel)};`);\n        }\n        if (subKernelsResultIndex === kernel.subKernels.length) {\n          postResult.push('    return result;');\n        }\n        return;\n      }\n      if (targetName) {\n        postResult.push(`    return ${getRenderString(targetName, kernel)};`);\n      } else {\n        postResult.push(`    return null;`);\n      }\n    },\n    onUnrecognizedArgumentLookup: (argument) => {\n      const argumentName = findKernelValue(argument, kernel.kernelArguments, [], context, uploadedValues);\n      if (argumentName) {\n        return argumentName;\n      }\n      const constantName = findKernelValue(argument, kernel.kernelConstants, constants ? Object.keys(constants).map(key => constants[key]) : [], context, uploadedValues);\n      if (constantName) {\n        return constantName;\n      }\n      return null;\n    }\n  });\n  let subKernelsResultVariableSetup = false;\n  let subKernelsResultIndex = 0;\n  const {\n    source,\n    canvas,\n    output,\n    pipeline,\n    graphical,\n    loopMaxIterations,\n    constants,\n    optimizeFloatMemory,\n    precision,\n    fixIntegerDivisionAccuracy,\n    functions,\n    nativeFunctions,\n    subKernels,\n    immutable,\n    argumentTypes,\n    constantTypes,\n    kernelArguments,\n    kernelConstants,\n    tactic,\n  } = originKernel;\n  const kernel = new Kernel(source, {\n    canvas,\n    context,\n    checkContext: false,\n    output,\n    pipeline,\n    graphical,\n    loopMaxIterations,\n    constants,\n    optimizeFloatMemory,\n    precision,\n    fixIntegerDivisionAccuracy,\n    functions,\n    nativeFunctions,\n    subKernels,\n    immutable,\n    argumentTypes,\n    constantTypes,\n    tactic,\n  });\n  let result = [];\n  context.setIndent(2);\n  kernel.build.apply(kernel, args);\n  result.push(context.toString());\n  context.reset();\n\n  kernel.kernelArguments.forEach((kernelArgument, i) => {\n    switch (kernelArgument.type) {\n      case 'Integer':\n      case 'Boolean':\n      case 'Number':\n      case 'Float':\n      case 'Array':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'HTMLCanvas':\n      case 'HTMLImage':\n      case 'HTMLVideo':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, kernelArgument.uploadValue);\n        break;\n      case 'HTMLImageArray':\n        for (let imageIndex = 0; imageIndex < args[i].length; imageIndex++) {\n          const arg = args[i];\n          context.insertVariable(`uploadValue_${kernelArgument.name}[${imageIndex}]`, arg[imageIndex]);\n        }\n        break;\n      case 'Input':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, kernelArgument.uploadValue);\n        break;\n      case 'MemoryOptimizedNumberTexture':\n      case 'NumberTexture':\n      case 'Array1D(2)':\n      case 'Array1D(3)':\n      case 'Array1D(4)':\n      case 'Array2D(2)':\n      case 'Array2D(3)':\n      case 'Array2D(4)':\n      case 'Array3D(2)':\n      case 'Array3D(3)':\n      case 'Array3D(4)':\n      case 'ArrayTexture(1)':\n      case 'ArrayTexture(2)':\n      case 'ArrayTexture(3)':\n      case 'ArrayTexture(4)':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, args[i].texture);\n        break;\n      default:\n        throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${kernelArgument.type}`);\n    }\n  });\n  result.push('/** start of injected functions **/');\n  result.push(`function ${toStringWithoutUtils(utils.flattenTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten2dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten3dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten4dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.isArray)}`);\n  if (kernel.renderOutput !== kernel.renderTexture && kernel.formatValues) {\n    result.push(\n      `  const renderOutput = function ${toStringWithoutUtils(kernel.formatValues)};`\n    );\n  }\n  result.push('/** end of injected functions **/');\n  result.push(`  const innerKernel = function (${kernel.kernelArguments.map(kernelArgument => kernelArgument.varName).join(', ')}) {`);\n  context.setIndent(4);\n  kernel.run.apply(kernel, args);\n  if (kernel.renderKernels) {\n    kernel.renderKernels();\n  } else if (kernel.renderOutput) {\n    kernel.renderOutput();\n  }\n  result.push('    /** start setup uploads for kernel values **/');\n  kernel.kernelArguments.forEach(kernelArgument => {\n    result.push('    ' + kernelArgument.getStringValueHandler().split('\\n').join('\\n    '));\n  });\n  result.push('    /** end setup uploads for kernel values **/');\n  result.push(context.toString());\n  if (kernel.renderOutput === kernel.renderTexture) {\n    context.reset();\n    if (kernel.renderKernels) {\n      const results = kernel.renderKernels();\n      const textureName = context.getContextVariableName(kernel.texture.texture);\n      result.push(`    return {\n      result: {\n        texture: ${ textureName },\n        type: '${ results.result.type }',\n        toArray: ${ getToArrayString(results.result, textureName) }\n      },`);\n      const { subKernels, mappedTextures } = kernel;\n      for (let i = 0; i < subKernels.length; i++) {\n        const texture = mappedTextures[i];\n        const subKernel = subKernels[i];\n        const subKernelResult = results[subKernel.property];\n        const subKernelTextureName = context.getContextVariableName(texture.texture);\n        result.push(`\n      ${subKernel.property}: {\n        texture: ${ subKernelTextureName },\n        type: '${ subKernelResult.type }',\n        toArray: ${ getToArrayString(subKernelResult, subKernelTextureName) }\n      },`);\n      }\n      result.push(`    };`);\n    } else {\n      const rendered = kernel.renderOutput();\n      const textureName = context.getContextVariableName(kernel.texture.texture);\n      result.push(`    return {\n        texture: ${ textureName },\n        type: '${ rendered.type }',\n        toArray: ${ getToArrayString(rendered, textureName) }\n      };`);\n    }\n  }\n  result.push(`    ${destroyContextString ? '\\n' + destroyContextString + '    ': ''}`);\n  result.push(postResult.join('\\n'));\n  result.push('  };');\n  if (kernel.graphical) {\n    result.push(getGetPixelsString(kernel));\n    result.push(`  innerKernel.getPixels = getPixels;`);\n  }\n  result.push('  return innerKernel;');\n\n  let constantsUpload = [];\n  kernelConstants.forEach((kernelConstant) => {\n    constantsUpload.push(`${  kernelConstant.getStringValueHandler()}`);\n  });\n  return `function kernel(settings) {\n  const { context, constants } = settings;\n  ${constantsUpload.join('')}\n  ${setupContextString ? setupContextString : ''}\n${result.join('\\n')}\n}`;\n}\n\nfunction getRenderString(targetName, kernel) {\n  const readBackValue = kernel.precision === 'single' ? targetName : `new Float32Array(${targetName}.buffer)`;\n  if (kernel.output[2]) {\n    return `renderOutput(${readBackValue}, ${kernel.output[0]}, ${kernel.output[1]}, ${kernel.output[2]})`;\n  }\n  if (kernel.output[1]) {\n    return `renderOutput(${readBackValue}, ${kernel.output[0]}, ${kernel.output[1]})`;\n  }\n\n  return `renderOutput(${readBackValue}, ${kernel.output[0]})`;\n}\n\nfunction getGetPixelsString(kernel) {\n  const getPixels = kernel.getPixels.toString();\n  const useFunctionKeyword = !/^function/.test(getPixels);\n  return utils.flattenFunctionToString(`${useFunctionKeyword ? 'function ' : ''}${ getPixels }`, {\n    findDependency: (object, name) => {\n      if (object === 'utils') {\n        return `const ${name} = ${utils[name].toString()};`;\n      }\n      return null;\n    },\n    thisLookup: (property) => {\n      if (property === 'context') {\n        return null;\n      }\n      if (kernel.hasOwnProperty(property)) {\n        return JSON.stringify(kernel[property]);\n      }\n      throw new Error(`unhandled thisLookup ${ property }`);\n    }\n  });\n}\n\nfunction getToArrayString(kernelResult, textureName) {\n  const toArray = kernelResult.toArray.toString();\n  const useFunctionKeyword = !/^function/.test(toArray);\n  const flattenedFunctions = utils.flattenFunctionToString(`${useFunctionKeyword ? 'function ' : ''}${ toArray }`, {\n    findDependency: (object, name) => {\n      if (object === 'utils') {\n        return `const ${name} = ${utils[name].toString()};`;\n      } else if (object === 'this') {\n        return `${useFunctionKeyword ? 'function ' : ''}${kernelResult[name].toString()}`;\n      } else {\n        throw new Error('unhandled fromObject');\n      }\n    },\n    thisLookup: (property, isDeclaration) => {\n      if (property === 'texture') {\n        return textureName;\n      }\n      if (property === 'context') {\n        if (isDeclaration) return null;\n        return 'gl';\n      }\n      if (property === '_framebuffer') {\n        return '_framebuffer';\n      }\n      if (kernelResult.hasOwnProperty(property)) {\n        return JSON.stringify(kernelResult[property]);\n      }\n      throw new Error(`unhandled thisLookup ${ property }`);\n    }\n  });\n  return `() => {\n  let _framebuffer;\n  ${flattenedFunctions}\n  return toArray();\n  }`;\n}\n\nfunction findKernelValue(argument, kernelValues, values, context, uploadedValues) {\n  if (argument === null) return null;\n  if (kernelValues === null) return null;\n  switch (typeof argument) {\n    case 'boolean':\n    case 'number':\n      return null;\n  }\n  if (\n    typeof HTMLImageElement !== 'undefined' &&\n    argument instanceof HTMLImageElement\n  ) {\n    for (let i = 0; i < kernelValues.length; i++) {\n      const kernelValue = kernelValues[i];\n      if (kernelValue.type !== 'HTMLImageArray' && kernelValue) continue;\n      if (kernelValue.uploadValue !== argument) continue;\n      const variableIndex = values[i].indexOf(argument);\n      if (variableIndex === -1) continue;\n      const variableName = `uploadValue_${kernelValue.name}[${variableIndex}]`;\n      context.insertVariable(variableName, argument);\n      return variableName;\n    }\n  }\n\n  for (let i = 0; i < kernelValues.length; i++) {\n    const kernelValue = kernelValues[i];\n    if (argument !== kernelValue.uploadValue) continue;\n    const variable = `uploadValue_${kernelValue.name}`;\n    context.insertVariable(variable, kernelValue);\n    return variable;\n  }\n  return null;\n}\n\nmodule.exports = {\n  glKernelString\n};\n},{\"../../utils\":114,\"gl-wiretap\":3}],13:[function(require,module,exports){\nconst { Kernel } = require('../kernel');\nconst { utils } = require('../../utils');\nconst { GLTextureArray2Float } = require('./texture/array-2-float');\nconst { GLTextureArray2Float2D } = require('./texture/array-2-float-2d');\nconst { GLTextureArray2Float3D } = require('./texture/array-2-float-3d');\nconst { GLTextureArray3Float } = require('./texture/array-3-float');\nconst { GLTextureArray3Float2D } = require('./texture/array-3-float-2d');\nconst { GLTextureArray3Float3D } = require('./texture/array-3-float-3d');\nconst { GLTextureArray4Float } = require('./texture/array-4-float');\nconst { GLTextureArray4Float2D } = require('./texture/array-4-float-2d');\nconst { GLTextureArray4Float3D } = require('./texture/array-4-float-3d');\nconst { GLTextureFloat } = require('./texture/float');\nconst { GLTextureFloat2D } = require('./texture/float-2d');\nconst { GLTextureFloat3D } = require('./texture/float-3d');\nconst { GLTextureMemoryOptimized } = require('./texture/memory-optimized');\nconst { GLTextureMemoryOptimized2D } = require('./texture/memory-optimized-2d');\nconst { GLTextureMemoryOptimized3D } = require('./texture/memory-optimized-3d');\nconst { GLTextureUnsigned } = require('./texture/unsigned');\nconst { GLTextureUnsigned2D } = require('./texture/unsigned-2d');\nconst { GLTextureUnsigned3D } = require('./texture/unsigned-3d');\nconst { GLTextureGraphical } = require('./texture/graphical');\n\nclass GLKernel extends Kernel {\n  static get mode() {\n    return 'gpu';\n  }\n\n  static getIsFloatRead() {\n    const kernelString = `function kernelFunction() {\n      return 1;\n    }`;\n    const kernel = new this(kernelString, {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [1],\n      precision: 'single',\n      returnType: 'Number',\n      tactic: 'speed',\n    });\n    kernel.build();\n    kernel.run();\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return result[0] === 1;\n  }\n\n  static getIsIntegerDivisionAccurate() {\n    function kernelFunction(v1, v2) {\n      return v1[this.thread.x] / v2[this.thread.x];\n    }\n    const kernel = new this(kernelFunction.toString(), {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [2],\n      returnType: 'Number',\n      precision: 'unsigned',\n      tactic: 'speed',\n    });\n    const args = [\n      [6, 6030401],\n      [3, 3991]\n    ];\n    kernel.build.apply(kernel, args);\n    kernel.run.apply(kernel, args);\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return result[0] === 2 && result[1] === 1511;\n  }\n\n  static getIsSpeedTacticSupported() {\n    function kernelFunction(value) {\n      return value[this.thread.x];\n    }\n    const kernel = new this(kernelFunction.toString(), {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [4],\n      returnType: 'Number',\n      precision: 'unsigned',\n      tactic: 'speed',\n    });\n    const args = [\n      [0, 1, 2, 3]\n    ];\n    kernel.build.apply(kernel, args);\n    kernel.run.apply(kernel, args);\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return Math.round(result[0]) === 0 && Math.round(result[1]) === 1 && Math.round(result[2]) === 2 && Math.round(result[3]) === 3;\n  }\n\n  static get testCanvas() {\n    throw new Error(`\"testCanvas\" not defined on ${ this.name }`);\n  }\n\n  static get testContext() {\n    throw new Error(`\"testContext\" not defined on ${ this.name }`);\n  }\n\n  static getFeatures() {\n    const gl = this.testContext;\n    const isDrawBuffers = this.getIsDrawBuffers();\n    return Object.freeze({\n      isFloatRead: this.getIsFloatRead(),\n      isIntegerDivisionAccurate: this.getIsIntegerDivisionAccurate(),\n      isSpeedTacticSupported: this.getIsSpeedTacticSupported(),\n      isTextureFloat: this.getIsTextureFloat(),\n      isDrawBuffers,\n      kernelMap: isDrawBuffers,\n      channelCount: this.getChannelCount(),\n      maxTextureSize: this.getMaxTextureSize(),\n      lowIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT),\n      lowFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\n      mediumIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT),\n      mediumFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\n      highIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT),\n      highFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\n    });\n  }\n\n  static setupFeatureChecks() {\n    throw new Error(`\"setupFeatureChecks\" not defined on ${ this.name }`);\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    return kernel.getVariablePrecisionString() + (argumentTypes.length > 0 ? ':' + argumentTypes.join(',') : '');\n  }\n\n  setFixIntegerDivisionAccuracy(fix) {\n    this.fixIntegerDivisionAccuracy = fix;\n    return this;\n  }\n\n  setPrecision(flag) {\n    this.precision = flag;\n    return this;\n  }\n\n  setFloatTextures(flag) {\n    utils.warnDeprecated('method', 'setFloatTextures', 'setOptimizeFloatMemory');\n    this.floatTextures = flag;\n    return this;\n  }\n\n  static nativeFunctionArguments(source) {\n    const argumentTypes = [];\n    const argumentNames = [];\n    const states = [];\n    const isStartingVariableName = /^[a-zA-Z_]/;\n    const isVariableChar = /[a-zA-Z_0-9]/;\n    let i = 0;\n    let argumentName = null;\n    let argumentType = null;\n    while (i < source.length) {\n      const char = source[i];\n      const nextChar = source[i + 1];\n      const state = states.length > 0 ? states[states.length - 1] : null;\n\n      if (state === 'FUNCTION_ARGUMENTS' && char === '/' && nextChar === '*') {\n        states.push('MULTI_LINE_COMMENT');\n        i += 2;\n        continue;\n      } else if (state === 'MULTI_LINE_COMMENT' && char === '*' && nextChar === '/') {\n        states.pop();\n        i += 2;\n        continue;\n      }\n\n      else if (state === 'FUNCTION_ARGUMENTS' && char === '/' && nextChar === '/') {\n        states.push('COMMENT');\n        i += 2;\n        continue;\n      } else if (state === 'COMMENT' && char === '\\n') {\n        states.pop();\n        i++;\n        continue;\n      }\n\n      else if (state === null && char === '(') {\n        states.push('FUNCTION_ARGUMENTS');\n        i++;\n        continue;\n      } else if (state === 'FUNCTION_ARGUMENTS') {\n        if (char === ')') {\n          states.pop();\n          break;\n        }\n        if (char === 'f' && nextChar === 'l' && source[i + 2] === 'o' && source[i + 3] === 'a' && source[i + 4] === 't' && source[i + 5] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'float';\n          argumentName = '';\n          i += 6;\n          continue;\n        } else if (char === 'i' && nextChar === 'n' && source[i + 2] === 't' && source[i + 3] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'int';\n          argumentName = '';\n          i += 4;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '2' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec2';\n          argumentName = '';\n          i += 5;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '3' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec3';\n          argumentName = '';\n          i += 5;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '4' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec4';\n          argumentName = '';\n          i += 5;\n          continue;\n        }\n      }\n\n      else if (state === 'DECLARE_VARIABLE') {\n        if (argumentName === '') {\n          if (char === ' ') {\n            i++;\n            continue;\n          }\n          if (!isStartingVariableName.test(char)) {\n            throw new Error('variable name is not expected string');\n          }\n        }\n        argumentName += char;\n        if (!isVariableChar.test(nextChar)) {\n          states.pop();\n          argumentNames.push(argumentName);\n          argumentTypes.push(typeMap[argumentType]);\n        }\n      }\n\n      i++;\n    }\n    if (states.length > 0) {\n      throw new Error('GLSL function was not parsable');\n    }\n    return {\n      argumentNames,\n      argumentTypes,\n    };\n  }\n\n  static nativeFunctionReturnType(source) {\n    return typeMap[source.match(/int|float|vec[2-4]/)[0]];\n  }\n\n  static combineKernels(combinedKernel, lastKernel) {\n    combinedKernel.apply(null, arguments);\n    const {\n      texSize,\n      context,\n      threadDim\n    } = lastKernel.texSize;\n    let result;\n    if (lastKernel.precision === 'single') {\n      const w = texSize[0];\n      const h = Math.ceil(texSize[1] / 4);\n      result = new Float32Array(w * h * 4 * 4);\n      context.readPixels(0, 0, w, h * 4, context.RGBA, context.FLOAT, result);\n    } else {\n      const bytes = new Uint8Array(texSize[0] * texSize[1] * 4);\n      context.readPixels(0, 0, texSize[0], texSize[1], context.RGBA, context.UNSIGNED_BYTE, bytes);\n      result = new Float32Array(bytes.buffer);\n    }\n\n    result = result.subarray(0, threadDim[0] * threadDim[1] * threadDim[2]);\n\n    if (lastKernel.output.length === 1) {\n      return result;\n    } else if (lastKernel.output.length === 2) {\n      return utils.splitArray(result, lastKernel.output[0]);\n    } else if (lastKernel.output.length === 3) {\n      const cube = utils.splitArray(result, lastKernel.output[0] * lastKernel.output[1]);\n      return cube.map(function(x) {\n        return utils.splitArray(x, lastKernel.output[0]);\n      });\n    }\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.transferValues = null;\n    this.formatValues = null;\n    this.TextureConstructor = null;\n    this.renderOutput = null;\n    this.renderRawOutput = null;\n    this.texSize = null;\n    this.translatedSource = null;\n    this.compiledFragmentShader = null;\n    this.compiledVertexShader = null;\n    this.switchingKernels = null;\n    this._textureSwitched = null;\n    this._mappedTextureSwitched = null;\n  }\n\n  checkTextureSize() {\n    const { features } = this.constructor;\n    if (this.texSize[0] > features.maxTextureSize || this.texSize[1] > features.maxTextureSize) {\n      throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${features.maxTextureSize},${features.maxTextureSize}]`);\n    }\n  }\n\n  translateSource() {\n    throw new Error(`\"translateSource\" not defined on ${this.constructor.name}`);\n  }\n\n  pickRenderStrategy(args) {\n    if (this.graphical) {\n      this.renderRawOutput = this.readPackedPixelsToUint8Array;\n      this.transferValues = (pixels) => pixels;\n      this.TextureConstructor = GLTextureGraphical;\n      return null;\n    }\n    if (this.precision === 'unsigned') {\n      this.renderRawOutput = this.readPackedPixelsToUint8Array;\n      this.transferValues = this.readPackedPixelsToFloat32Array;\n      if (this.pipeline) {\n        this.renderOutput = this.renderTexture;\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToTextures;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer':\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureUnsigned3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureUnsigned2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureUnsigned;\n              return null;\n            }\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              return this.requestFallback(args);\n        }\n      } else {\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToArrays;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer':\n            this.renderOutput = this.renderValues;\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureUnsigned3D;\n              this.formatValues = utils.erect3DPackedFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureUnsigned2D;\n              this.formatValues = utils.erect2DPackedFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureUnsigned;\n              this.formatValues = utils.erectPackedFloat;\n              return null;\n            }\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              return this.requestFallback(args);\n        }\n      }\n    } else if (this.precision === 'single') {\n      this.renderRawOutput = this.readFloatPixelsToFloat32Array;\n      this.transferValues = this.readFloatPixelsToFloat32Array;\n      if (this.pipeline) {\n        this.renderOutput = this.renderTexture;\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToTextures;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.optimizeFloatMemory) {\n              if (this.output[2] > 0) {\n                this.TextureConstructor = GLTextureMemoryOptimized3D;\n                return null;\n              } else if (this.output[1] > 0) {\n                this.TextureConstructor = GLTextureMemoryOptimized2D;\n                return null;\n              } else {\n                this.TextureConstructor = GLTextureMemoryOptimized;\n                return null;\n              }\n            } else {\n              if (this.output[2] > 0) {\n                this.TextureConstructor = GLTextureFloat3D;\n                return null;\n              } else if (this.output[1] > 0) {\n                this.TextureConstructor = GLTextureFloat2D;\n                return null;\n              } else {\n                this.TextureConstructor = GLTextureFloat;\n                return null;\n              }\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              return null;\n            }\n          }\n        }\n      }\n      this.renderOutput = this.renderValues;\n      if (this.subKernels !== null) {\n        this.renderKernels = this.renderKernelsToArrays;\n      }\n      if (this.optimizeFloatMemory) {\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureMemoryOptimized3D;\n              this.formatValues = utils.erectMemoryOptimized3DFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureMemoryOptimized2D;\n              this.formatValues = utils.erectMemoryOptimized2DFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureMemoryOptimized;\n              this.formatValues = utils.erectMemoryOptimizedFloat;\n              return null;\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              this.formatValues = utils.erect3DArray2;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              this.formatValues = utils.erect2DArray2;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              this.formatValues = utils.erectArray2;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              this.formatValues = utils.erect3DArray3;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              this.formatValues = utils.erect2DArray3;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              this.formatValues = utils.erectArray3;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              this.formatValues = utils.erect3DArray4;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              this.formatValues = utils.erect2DArray4;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              this.formatValues = utils.erectArray4;\n              return null;\n            }\n          }\n        }\n      } else {\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureFloat3D;\n              this.formatValues = utils.erect3DFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureFloat2D;\n              this.formatValues = utils.erect2DFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureFloat;\n              this.formatValues = utils.erectFloat;\n              return null;\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              this.formatValues = utils.erect3DArray2;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              this.formatValues = utils.erect2DArray2;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              this.formatValues = utils.erectArray2;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              this.formatValues = utils.erect3DArray3;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              this.formatValues = utils.erect2DArray3;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              this.formatValues = utils.erectArray3;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              this.formatValues = utils.erect3DArray4;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              this.formatValues = utils.erect2DArray4;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              this.formatValues = utils.erectArray4;\n              return null;\n            }\n          }\n        }\n      }\n    } else {\n      throw new Error(`unhandled precision of \"${this.precision}\"`);\n    }\n\n    throw new Error(`unhandled return type \"${this.returnType}\"`);\n  }\n\n  getKernelString() {\n    throw new Error(`abstract method call`);\n  }\n\n  getMainResultTexture() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Float':\n      case 'Integer':\n      case 'Number':\n        return this.getMainResultNumberTexture();\n      case 'Array(2)':\n        return this.getMainResultArray2Texture();\n      case 'Array(3)':\n        return this.getMainResultArray3Texture();\n      case 'Array(4)':\n        return this.getMainResultArray4Texture();\n      default:\n        throw new Error(`unhandled returnType type ${ this.returnType }`);\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelNumberTexture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray2Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray2Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray3Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray3Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray4Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray4Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultGraphical() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultMemoryOptimizedFloats() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultPackedPixels() {\n    throw new Error(`abstract method call`);\n  }\n\n  getMainResultString() {\n    if (this.graphical) {\n      return this.getMainResultGraphical();\n    } else if (this.precision === 'single') {\n      if (this.optimizeFloatMemory) {\n        return this.getMainResultMemoryOptimizedFloats();\n      }\n      return this.getMainResultTexture();\n    } else {\n      return this.getMainResultPackedPixels();\n    }\n  }\n\n  getMainResultNumberTexture() {\n    return utils.linesToString(this.getMainResultKernelNumberTexture()) +\n      utils.linesToString(this.getMainResultSubKernelNumberTexture());\n  }\n\n  getMainResultArray2Texture() {\n    return utils.linesToString(this.getMainResultKernelArray2Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray2Texture());\n  }\n\n  getMainResultArray3Texture() {\n    return utils.linesToString(this.getMainResultKernelArray3Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray3Texture());\n  }\n\n  getMainResultArray4Texture() {\n    return utils.linesToString(this.getMainResultKernelArray4Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray4Texture());\n  }\n\n  getFloatTacticDeclaration() {\n    const variablePrecision = this.getVariablePrecisionString(this.texSize, this.tactic);\n    return `precision ${variablePrecision} float;\\n`;\n  }\n\n  getIntTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic, true)} int;\\n`;\n  }\n\n  getSampler2DTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic)} sampler2D;\\n`;\n  }\n\n  getSampler2DArrayTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic)} sampler2DArray;\\n`;\n  }\n\n  renderTexture() {\n    return this.immutable ? this.texture.clone() : this.texture;\n  }\n  readPackedPixelsToUint8Array() {\n    if (this.precision !== 'unsigned') throw new Error('Requires this.precision to be \"unsigned\"');\n    const {\n      texSize,\n      context: gl\n    } = this;\n    const result = new Uint8Array(texSize[0] * texSize[1] * 4);\n    gl.readPixels(0, 0, texSize[0], texSize[1], gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result;\n  }\n\n  readPackedPixelsToFloat32Array() {\n    return new Float32Array(this.readPackedPixelsToUint8Array().buffer);\n  }\n\n  readFloatPixelsToFloat32Array() {\n    if (this.precision !== 'single') throw new Error('Requires this.precision to be \"single\"');\n    const {\n      texSize,\n      context: gl\n    } = this;\n    const w = texSize[0];\n    const h = texSize[1];\n    const result = new Float32Array(w * h * 4);\n    gl.readPixels(0, 0, w, h, gl.RGBA, gl.FLOAT, result);\n    return result;\n  }\n\n  getPixels(flip) {\n    const {\n      context: gl,\n      output\n    } = this;\n    const [width, height] = output;\n    const pixels = new Uint8Array(width * height * 4);\n    gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return new Uint8ClampedArray((flip ? pixels : utils.flipPixels(pixels, width, height)).buffer);\n  }\n\n  renderKernelsToArrays() {\n    const result = {\n      result: this.renderOutput(),\n    };\n    for (let i = 0; i < this.subKernels.length; i++) {\n      result[this.subKernels[i].property] = this.mappedTextures[i].toArray();\n    }\n    return result;\n  }\n\n  renderKernelsToTextures() {\n    const result = {\n      result: this.renderOutput(),\n    };\n    if (this.immutable) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        result[this.subKernels[i].property] = this.mappedTextures[i].clone();\n      }\n    } else {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        result[this.subKernels[i].property] = this.mappedTextures[i];\n      }\n    }\n    return result;\n  }\n\n  resetSwitchingKernels() {\n    const existingValue = this.switchingKernels;\n    this.switchingKernels = null;\n    return existingValue;\n  }\n\n  setOutput(output) {\n    const newOutput = this.toKernelOutput(output);\n    if (this.program) {\n      if (!this.dynamicOutput) {\n        throw new Error('Resizing a kernel with dynamicOutput: false is not possible');\n      }\n      const newThreadDim = [newOutput[0], newOutput[1] || 1, newOutput[2] || 1];\n      const newTexSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, newThreadDim);\n      const oldTexSize = this.texSize;\n      if (oldTexSize) {\n        const oldPrecision = this.getVariablePrecisionString(oldTexSize, this.tactic);\n        const newPrecision = this.getVariablePrecisionString(newTexSize, this.tactic);\n        if (oldPrecision !== newPrecision) {\n          if (this.debug) {\n            console.warn('Precision requirement changed, asking GPU instance to recompile');\n          }\n          this.switchKernels({\n            type: 'outputPrecisionMismatch',\n            precision: newPrecision,\n            needed: output\n          });\n          return;\n        }\n      }\n      this.output = newOutput;\n      this.threadDim = newThreadDim;\n      this.texSize = newTexSize;\n      const { context: gl } = this;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n      this.updateMaxTexSize();\n      this.framebuffer.width = this.texSize[0];\n      this.framebuffer.height = this.texSize[1];\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      this.canvas.width = this.maxTexSize[0];\n      this.canvas.height = this.maxTexSize[1];\n      if (this.texture) {\n        this.texture.delete();\n      }\n      this.texture = null;\n      this._setupOutputTexture();\n      if (this.mappedTextures && this.mappedTextures.length > 0) {\n        for (let i = 0; i < this.mappedTextures.length; i++) {\n          this.mappedTextures[i].delete();\n        }\n        this.mappedTextures = null;\n        this._setupSubOutputTextures();\n      }\n    } else {\n      this.output = newOutput;\n    }\n    return this;\n  }\n  renderValues() {\n    return this.formatValues(\n      this.transferValues(),\n      this.output[0],\n      this.output[1],\n      this.output[2]\n    );\n  }\n  switchKernels(reason) {\n    if (this.switchingKernels) {\n      this.switchingKernels.push(reason);\n    } else {\n      this.switchingKernels = [reason];\n    }\n  }\n  getVariablePrecisionString(textureSize = this.texSize, tactic = this.tactic, isInt = false) {\n    if (!tactic) {\n      if (!this.constructor.features.isSpeedTacticSupported) return 'highp';\n      const low = this.constructor.features[isInt ? 'lowIntPrecision' : 'lowFloatPrecision'];\n      const medium = this.constructor.features[isInt ? 'mediumIntPrecision' : 'mediumFloatPrecision'];\n      const high = this.constructor.features[isInt ? 'highIntPrecision' : 'highFloatPrecision'];\n      const requiredSize = Math.log2(textureSize[0] * textureSize[1]);\n      if (requiredSize <= low.rangeMax) {\n        return 'lowp';\n      } else if (requiredSize <= medium.rangeMax) {\n        return 'mediump';\n      } else if (requiredSize <= high.rangeMax) {\n        return 'highp';\n      } else {\n        throw new Error(`The required size exceeds that of the ability of your system`);\n      }\n    }\n    switch (tactic) {\n      case 'speed':\n        return 'lowp';\n      case 'balanced':\n        return 'mediump';\n      case 'precision':\n        return 'highp';\n      default:\n        throw new Error(`Unknown tactic \"${tactic}\" use \"speed\", \"balanced\", \"precision\", or empty for auto`);\n    }\n  }\n\n  updateTextureArgumentRefs(kernelValue, arg) {\n    if (!this.immutable) return;\n    if (this.texture.texture === arg.texture) {\n      const { prevArg } = kernelValue;\n      if (prevArg) {\n        if (prevArg.texture._refs === 1) {\n          this.texture.delete();\n          this.texture = prevArg.clone();\n          this._textureSwitched = true;\n        }\n        prevArg.delete();\n      }\n      kernelValue.prevArg = arg.clone();\n    } else if (this.mappedTextures && this.mappedTextures.length > 0) {\n      const { mappedTextures } = this;\n      for (let i = 0; i < mappedTextures.length; i++) {\n        const mappedTexture = mappedTextures[i];\n        if (mappedTexture.texture === arg.texture) {\n          const { prevArg } = kernelValue;\n          if (prevArg) {\n            if (prevArg.texture._refs === 1) {\n              mappedTexture.delete();\n              mappedTextures[i] = prevArg.clone();\n              this._mappedTextureSwitched[i] = true;\n            }\n            prevArg.delete();\n          }\n          kernelValue.prevArg = arg.clone();\n          return;\n        }\n      }\n    }\n  }\n\n  onActivate(previousKernel) {\n    this._textureSwitched = true;\n    this.texture = previousKernel.texture;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.mappedTextures.length; i++) {\n        this._mappedTextureSwitched[i] = true;\n      }\n      this.mappedTextures = previousKernel.mappedTextures;\n    }\n  }\n\n  initCanvas() {}\n}\n\nconst typeMap = {\n  int: 'Integer',\n  float: 'Number',\n  vec2: 'Array(2)',\n  vec3: 'Array(3)',\n  vec4: 'Array(4)',\n};\n\nmodule.exports = {\n  GLKernel\n};\n},{\"../../utils\":114,\"../kernel\":36,\"./texture/array-2-float\":16,\"./texture/array-2-float-2d\":14,\"./texture/array-2-float-3d\":15,\"./texture/array-3-float\":19,\"./texture/array-3-float-2d\":17,\"./texture/array-3-float-3d\":18,\"./texture/array-4-float\":22,\"./texture/array-4-float-2d\":20,\"./texture/array-4-float-3d\":21,\"./texture/float\":25,\"./texture/float-2d\":23,\"./texture/float-3d\":24,\"./texture/graphical\":26,\"./texture/memory-optimized\":30,\"./texture/memory-optimized-2d\":28,\"./texture/memory-optimized-3d\":29,\"./texture/unsigned\":33,\"./texture/unsigned-2d\":31,\"./texture/unsigned-3d\":32}],14:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erect2DArray2(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],15:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erect3DArray2(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],16:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erectArray2(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float\n};\n},{\"../../../utils\":114,\"./float\":25}],17:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erect2DArray3(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],18:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erect3DArray3(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],19:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erectArray3(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float\n};\n},{\"../../../utils\":114,\"./float\":25}],20:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erect2DArray4(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],21:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erect3DArray4(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],22:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erectArray4(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float\n};\n},{\"../../../utils\":114,\"./float\":25}],23:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureFloat2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  toArray() {\n    return utils.erect2DFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat2D\n};\n},{\"../../../utils\":114,\"./float\":25}],24:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureFloat3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  toArray() {\n    return utils.erect3DFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat3D\n};\n},{\"../../../utils\":114,\"./float\":25}],25:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTexture } = require('./index');\n\nclass GLTextureFloat extends GLTexture {\n  get textureType() {\n    return this.context.FLOAT;\n  }\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  renderRawOutput() {\n    const gl = this.context;\n    const size = this.size;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture,\n      0\n    );\n    const result = new Float32Array(size[0] * size[1] * 4);\n    gl.readPixels(0, 0, size[0], size[1], gl.RGBA, gl.FLOAT, result);\n    return result;\n  }\n  renderValues() {\n    if (this._deleted) return null;\n    return this.renderRawOutput();\n  }\n  toArray() {\n    return utils.erectFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat\n};\n},{\"../../../utils\":114,\"./index\":27}],26:[function(require,module,exports){\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureGraphical extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return this.renderValues();\n  }\n}\n\nmodule.exports = {\n  GLTextureGraphical\n};\n},{\"./unsigned\":33}],27:[function(require,module,exports){\nconst { Texture } = require('../../../texture');\n\nclass GLTexture extends Texture {\n  get textureType() {\n    throw new Error(`\"textureType\" not implemented on ${ this.name }`);\n  }\n\n  clone() {\n    return new this.constructor(this);\n  }\n\n  beforeMutate() {\n    if (this.texture._refs > 1) {\n      this.newTexture();\n      return true;\n    }\n    return false;\n  }\n\n  cloneTexture() {\n    this.texture._refs--;\n    const { context: gl, size, texture, kernel } = this;\n    if (kernel.debug) {\n      console.warn('cloning internal texture');\n    }\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    selectTexture(gl, texture);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    const target = gl.createTexture();\n    selectTexture(gl, target);\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    gl.copyTexSubImage2D(gl.TEXTURE_2D, 0, 0, 0, 0, 0, size[0], size[1]);\n    target._refs = 1;\n    this.texture = target;\n  }\n\n  newTexture() {\n    this.texture._refs--;\n    const gl = this.context;\n    const size = this.size;\n    const kernel = this.kernel;\n    if (kernel.debug) {\n      console.warn('new internal texture');\n    }\n    const target = gl.createTexture();\n    selectTexture(gl, target);\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    target._refs = 1;\n    this.texture = target;\n  }\n\n  clear() {\n    if (this.texture._refs) {\n      this.texture._refs--;\n      const gl = this.context;\n      const target = this.texture = gl.createTexture();\n      selectTexture(gl, target);\n      const size = this.size;\n      target._refs = 1;\n      gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    }\n    const { context: gl, texture } = this;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    selectTexture(gl, texture);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    gl.clearColor(0, 0, 0, 0);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n  }\n\n  delete() {\n    if (this._deleted) return;\n    this._deleted = true;\n    if (this.texture._refs) {\n      this.texture._refs--;\n      if (this.texture._refs) return;\n    }\n    this.context.deleteTexture(this.texture);\n    if (this.texture._refs === 0 && this._framebuffer) {\n      this.context.deleteFramebuffer(this._framebuffer);\n      this._framebuffer = null;\n    }\n  }\n\n  framebuffer() {\n    if (!this._framebuffer) {\n      this._framebuffer = this.context.createFramebuffer();\n    }\n    this._framebuffer.width = this.size[0];\n    this._framebuffer.height = this.size[1];\n    return this._framebuffer;\n  }\n}\n\nfunction selectTexture(gl, texture) {\n  gl.activeTexture(gl.TEXTURE15);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n}\n\nmodule.exports = { GLTexture };\n},{\"../../../texture\":113}],28:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimized2DFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized2D\n};\n},{\"../../../utils\":114,\"./float\":25}],29:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimized3DFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized3D\n};\n},{\"../../../utils\":114,\"./float\":25}],30:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimizedFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized\n};\n},{\"../../../utils\":114,\"./float\":25}],31:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureUnsigned2D extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  toArray() {\n    return utils.erect2DPackedFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned2D\n};\n},{\"../../../utils\":114,\"./unsigned\":33}],32:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureUnsigned3D extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  toArray() {\n    return utils.erect3DPackedFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned3D\n};\n},{\"../../../utils\":114,\"./unsigned\":33}],33:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTexture } = require('./index');\n\nclass GLTextureUnsigned extends GLTexture {\n  get textureType() {\n    return this.context.UNSIGNED_BYTE;\n  }\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  renderRawOutput() {\n    const { context: gl } = this;\n    const framebuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture,\n      0\n    );\n    const result = new Uint8Array(this.size[0] * this.size[1] * 4);\n    gl.readPixels(0, 0, this.size[0], this.size[1], gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result;\n  }\n  renderValues() {\n    if (this._deleted) return null;\n    return new Float32Array(this.renderRawOutput().buffer);\n  }\n  toArray() {\n    return utils.erectPackedFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned\n};\n},{\"../../../utils\":114,\"./index\":27}],34:[function(require,module,exports){\nconst getContext = require('gl');\nconst { WebGLKernel } = require('../web-gl/kernel');\nconst { glKernelString } = require('../gl/kernel-string');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\nlet features = null;\n\nclass HeadlessGLKernel extends WebGLKernel {\n  static get isSupported() {\n    if (isSupported !== null) return isSupported;\n    this.setupFeatureChecks();\n    isSupported = testContext !== null;\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    testCanvas = null;\n    testExtensions = null;\n    if (typeof getContext !== 'function') return;\n    try { \n      testContext = getContext(2, 2, {\n        preserveDrawingBuffer: true\n      });\n      if (!testContext || !testContext.getExtension) return;\n      testExtensions = {\n        STACKGL_resize_drawingbuffer: testContext.getExtension('STACKGL_resize_drawingbuffer'),\n        STACKGL_destroy_context: testContext.getExtension('STACKGL_destroy_context'),\n        OES_texture_float: testContext.getExtension('OES_texture_float'),\n        OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n        OES_element_index_uint: testContext.getExtension('OES_element_index_uint'),\n        WEBGL_draw_buffers: testContext.getExtension('WEBGL_draw_buffers'),\n        WEBGL_color_buffer_float: testContext.getExtension('WEBGL_color_buffer_float'),\n      };\n      features = this.getFeatures();\n    } catch (e) {\n      console.warn(e);\n    }\n  }\n\n  static isContextMatch(context) {\n    try {\n      return context.getParameter(context.RENDERER) === 'ANGLE';\n    } catch (e) {\n      return false;\n    }\n  }\n\n  static getIsTextureFloat() {\n    return Boolean(testExtensions.OES_texture_float);\n  }\n\n  static getIsDrawBuffers() {\n    return Boolean(testExtensions.WEBGL_draw_buffers);\n  }\n\n  static getChannelCount() {\n    return testExtensions.WEBGL_draw_buffers ?\n      testContext.getParameter(testExtensions.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL) :\n      1;\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  initCanvas() {\n    return {};\n  }\n\n  initContext() {\n    return getContext(2, 2, {\n      preserveDrawingBuffer: true\n    });\n  }\n\n  initExtensions() {\n    this.extensions = {\n      STACKGL_resize_drawingbuffer: this.context.getExtension('STACKGL_resize_drawingbuffer'),\n      STACKGL_destroy_context: this.context.getExtension('STACKGL_destroy_context'),\n      OES_texture_float: this.context.getExtension('OES_texture_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: this.context.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: this.context.getExtension('WEBGL_draw_buffers'),\n    };\n  }\n\n  build() {\n    super.build.apply(this, arguments);\n    if (!this.fallbackRequested) {\n      this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0], this.maxTexSize[1]);\n    }\n  }\n\n  destroyExtensions() {\n    this.extensions.STACKGL_resize_drawingbuffer = null;\n    this.extensions.STACKGL_destroy_context = null;\n    this.extensions.OES_texture_float = null;\n    this.extensions.OES_texture_float_linear = null;\n    this.extensions.OES_element_index_uint = null;\n    this.extensions.WEBGL_draw_buffers = null;\n  }\n\n  static destroyContext(context) {\n    const extension = context.getExtension('STACKGL_destroy_context');\n    if (extension && extension.destroy) {\n      extension.destroy();\n    }\n  }\n\n  toString() {\n    const setupContextString = `const gl = context || require('gl')(1, 1);\\n`;\n    const destroyContextString = `    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }\\n`;\n    return glKernelString(this.constructor, arguments, this, setupContextString, destroyContextString);\n  }\n\n  setOutput(output) {\n    super.setOutput(output);\n    if (this.graphical && this.extensions.STACKGL_resize_drawingbuffer) {\n      this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0], this.maxTexSize[1]);\n    }\n    return this;\n  }\n}\n\nmodule.exports = {\n  HeadlessGLKernel\n};\n},{\"../gl/kernel-string\":12,\"../web-gl/kernel\":70,\"gl\":2}],35:[function(require,module,exports){\nclass KernelValue {\n  constructor(value, settings) {\n    const {\n      name,\n      kernel,\n      context,\n      checkContext,\n      onRequestContextHandle,\n      onUpdateValueMismatch,\n      origin,\n      strictIntegers,\n      type,\n      tactic,\n    } = settings;\n    if (!name) {\n      throw new Error('name not set');\n    }\n    if (!type) {\n      throw new Error('type not set');\n    }\n    if (!origin) {\n      throw new Error('origin not set');\n    }\n    if (origin !== 'user' && origin !== 'constants') {\n      throw new Error(`origin must be \"user\" or \"constants\" value is \"${ origin }\"`);\n    }\n    if (!onRequestContextHandle) {\n      throw new Error('onRequestContextHandle is not set');\n    }\n    this.name = name;\n    this.origin = origin;\n    this.tactic = tactic;\n    this.varName = origin === 'constants' ? `constants.${name}` : name;\n    this.kernel = kernel;\n    this.strictIntegers = strictIntegers;\n    this.type = value.type || type;\n    this.size = value.size || null;\n    this.index = null;\n    this.context = context;\n    this.checkContext = checkContext !== null && checkContext !== undefined ? checkContext : true;\n    this.contextHandle = null;\n    this.onRequestContextHandle = onRequestContextHandle;\n    this.onUpdateValueMismatch = onUpdateValueMismatch;\n    this.forceUploadEachRun = null;\n  }\n\n  get id() {\n    return `${this.origin}_${name}`;\n  }\n\n  getSource() {\n    throw new Error(`\"getSource\" not defined on ${ this.constructor.name }`);\n  }\n\n  updateValue(value) {\n    throw new Error(`\"updateValue\" not defined on ${ this.constructor.name }`);\n  }\n}\n\nmodule.exports = {\n  KernelValue\n};\n},{}],36:[function(require,module,exports){\nconst { utils } = require('../utils');\nconst { Input } = require('../input');\n\nclass Kernel {\n  static get isSupported() {\n    throw new Error(`\"isSupported\" not implemented on ${ this.name }`);\n  }\n\n  static isContextMatch(context) {\n    throw new Error(`\"isContextMatch\" not implemented on ${ this.name }`);\n  }\n\n  static getFeatures() {\n    throw new Error(`\"getFeatures\" not implemented on ${ this.name }`);\n  }\n\n  static destroyContext(context) {\n    throw new Error(`\"destroyContext\" called on ${ this.name }`);\n  }\n\n  static nativeFunctionArguments() {\n    throw new Error(`\"nativeFunctionArguments\" called on ${ this.name }`);\n  }\n\n  static nativeFunctionReturnType() {\n    throw new Error(`\"nativeFunctionReturnType\" called on ${ this.name }`);\n  }\n\n  static combineKernels() {\n    throw new Error(`\"combineKernels\" called on ${ this.name }`);\n  }\n\n  constructor(source, settings) {\n    if (typeof source !== 'object') {\n      if (typeof source !== 'string') {\n        throw new Error('source not a string');\n      }\n      if (!utils.isFunctionString(source)) {\n        throw new Error('source not a function string');\n      }\n    }\n    this.useLegacyEncoder = false;\n    this.fallbackRequested = false;\n    this.onRequestFallback = null;\n\n    this.argumentNames = typeof source === 'string' ? utils.getArgumentNamesFromString(source) : null;\n    this.argumentTypes = null;\n    this.argumentSizes = null;\n    this.argumentBitRatios = null;\n    this.kernelArguments = null;\n    this.kernelConstants = null;\n    this.forceUploadKernelConstants = null;\n\n\n    this.source = source;\n\n    this.output = null;\n\n    this.debug = false;\n\n    this.graphical = false;\n\n    this.loopMaxIterations = 0;\n\n    this.constants = null;\n\n    this.constantTypes = null;\n\n    this.constantBitRatios = null;\n\n    this.dynamicArguments = false;\n\n    this.dynamicOutput = false;\n\n    this.canvas = null;\n\n    this.context = null;\n\n    this.checkContext = null;\n\n    this.gpu = null;\n\n    this.functions = null;\n\n    this.nativeFunctions = null;\n\n    this.injectedNative = null;\n\n    this.subKernels = null;\n\n    this.validate = true;\n\n    this.immutable = false;\n\n    this.pipeline = false;\n\n    this.precision = null;\n\n    this.tactic = null;\n\n    this.plugins = null;\n\n    this.returnType = null;\n    this.leadingReturnStatement = null;\n    this.followingReturnStatement = null;\n    this.optimizeFloatMemory = null;\n    this.strictIntegers = false;\n    this.fixIntegerDivisionAccuracy = null;\n    this.onIstanbulCoverageVariable = null;\n    this.removeIstanbulCoverage = false;\n    this.built = false;\n    this.signature = null;\n  }\n\n  mergeSettings(settings) {\n    for (let p in settings) {\n      if (!settings.hasOwnProperty(p) || !this.hasOwnProperty(p)) continue;\n      switch (p) {\n        case 'output':\n          if (!Array.isArray(settings.output)) {\n            this.setOutput(settings.output); \n            continue;\n          }\n          break;\n        case 'functions':\n          this.functions = [];\n          for (let i = 0; i < settings.functions.length; i++) {\n            this.addFunction(settings.functions[i]);\n          }\n          continue;\n        case 'graphical':\n          if (settings[p] && !settings.hasOwnProperty('precision')) {\n            this.precision = 'unsigned';\n          }\n          this[p] = settings[p];\n          continue;\n        case 'removeIstanbulCoverage':\n          if (settings[p] !== null) {\n            this[p] = settings[p];\n          }\n          continue;\n        case 'nativeFunctions':\n          if (!settings.nativeFunctions) continue;\n          this.nativeFunctions = [];\n          for (let i = 0; i < settings.nativeFunctions.length; i++) {\n            const s = settings.nativeFunctions[i];\n            const { name, source } = s;\n            this.addNativeFunction(name, source, s);\n          }\n          continue;\n      }\n      this[p] = settings[p];\n    }\n\n    if (!this.canvas) this.canvas = this.initCanvas();\n    if (!this.context) this.context = this.initContext();\n    if (!this.plugins) this.plugins = this.initPlugins(settings);\n  }\n  build() {\n    throw new Error(`\"build\" not defined on ${ this.constructor.name }`);\n  }\n\n  run() {\n    throw new Error(`\"run\" not defined on ${ this.constructor.name }`)\n  }\n\n  initCanvas() {\n    throw new Error(`\"initCanvas\" not defined on ${ this.constructor.name }`);\n  }\n\n  initContext() {\n    throw new Error(`\"initContext\" not defined on ${ this.constructor.name }`);\n  }\n\n  initPlugins(settings) {\n    throw new Error(`\"initPlugins\" not defined on ${ this.constructor.name }`);\n  }\n\n  addFunction(source, settings = {}) {\n    if (source.name && source.source && source.argumentTypes && 'returnType' in source) {\n      this.functions.push(source);\n    } else if ('settings' in source && 'source' in source) {\n      this.functions.push(this.functionToIGPUFunction(source.source, source.settings));\n    } else if (typeof source === 'string' || typeof source === 'function') {\n      this.functions.push(this.functionToIGPUFunction(source, settings));\n    } else {\n      throw new Error(`function not properly defined`);\n    }\n    return this;\n  }\n\n  addNativeFunction(name, source, settings = {}) {\n    const { argumentTypes, argumentNames } = settings.argumentTypes ?\n      splitArgumentTypes(settings.argumentTypes) :\n      this.constructor.nativeFunctionArguments(source) || {};\n    this.nativeFunctions.push({\n      name,\n      source,\n      settings,\n      argumentTypes,\n      argumentNames,\n      returnType: settings.returnType || this.constructor.nativeFunctionReturnType(source)\n    });\n    return this;\n  }\n\n  setupArguments(args) {\n    this.kernelArguments = [];\n    if (!this.argumentTypes) {\n      if (!this.argumentTypes) {\n        this.argumentTypes = [];\n        for (let i = 0; i < args.length; i++) {\n          const argType = utils.getVariableType(args[i], this.strictIntegers);\n          const type = argType === 'Integer' ? 'Number' : argType;\n          this.argumentTypes.push(type);\n          this.kernelArguments.push({\n            type\n          });\n        }\n      }\n    } else {\n      for (let i = 0; i < this.argumentTypes.length; i++) {\n        this.kernelArguments.push({\n          type: this.argumentTypes[i]\n        });\n      }\n    }\n\n    this.argumentSizes = new Array(args.length);\n    this.argumentBitRatios = new Int32Array(args.length);\n\n    for (let i = 0; i < args.length; i++) {\n      const arg = args[i];\n      this.argumentSizes[i] = arg.constructor === Input ? arg.size : null;\n      this.argumentBitRatios[i] = this.getBitRatio(arg);\n    }\n\n    if (this.argumentNames.length !== args.length) {\n      throw new Error(`arguments are miss-aligned`);\n    }\n  }\n\n  setupConstants() {\n    this.kernelConstants = [];\n    let needsConstantTypes = this.constantTypes === null;\n    if (needsConstantTypes) {\n      this.constantTypes = {};\n    }\n    this.constantBitRatios = {};\n    if (this.constants) {\n      for (let name in this.constants) {\n        if (needsConstantTypes) {\n          const type = utils.getVariableType(this.constants[name], this.strictIntegers);\n          this.constantTypes[name] = type;\n          this.kernelConstants.push({\n            name,\n            type\n          });\n        } else {\n          this.kernelConstants.push({\n            name,\n            type: this.constantTypes[name]\n          });\n        }\n        this.constantBitRatios[name] = this.getBitRatio(this.constants[name]);\n      }\n    }\n  }\n\n  setOptimizeFloatMemory(flag) {\n    this.optimizeFloatMemory = flag;\n    return this;\n  }\n\n  toKernelOutput(output) {\n    if (output.hasOwnProperty('x')) {\n      if (output.hasOwnProperty('y')) {\n        if (output.hasOwnProperty('z')) {\n          return [output.x, output.y, output.z];\n        } else {\n          return [output.x, output.y];\n        }\n      } else {\n        return [output.x];\n      }\n    } else {\n      return output;\n    }\n  }\n\n  setOutput(output) {\n    this.output = this.toKernelOutput(output);\n    return this;\n  }\n\n  setDebug(flag) {\n    this.debug = flag;\n    return this;\n  }\n\n  setGraphical(flag) {\n    this.graphical = flag;\n    this.precision = 'unsigned';\n    return this;\n  }\n\n  setLoopMaxIterations(max) {\n    this.loopMaxIterations = max;\n    return this;\n  }\n\n  setConstants(constants) {\n    this.constants = constants;\n    return this;\n  }\n\n  setConstantTypes(constantTypes) {\n    this.constantTypes = constantTypes;\n    return this;\n  }\n\n  setFunctions(functions) {\n    for (let i = 0; i < functions.length; i++) {\n      this.addFunction(functions[i]);\n    }\n    return this;\n  }\n\n  setNativeFunctions(nativeFunctions) {\n    for (let i = 0; i < nativeFunctions.length; i++) {\n      const settings = nativeFunctions[i];\n      const { name, source } = settings;\n      this.addNativeFunction(name, source, settings);\n    }\n    return this;\n  }\n\n  setInjectedNative(injectedNative) {\n    this.injectedNative = injectedNative;\n    return this;\n  }\n\n  setPipeline(flag) {\n    this.pipeline = flag;\n    return this;\n  }\n\n  setPrecision(flag) {\n    this.precision = flag;\n    return this;\n  }\n\n  setDimensions(flag) {\n    utils.warnDeprecated('method', 'setDimensions', 'setOutput');\n    this.output = flag;\n    return this;\n  }\n\n  setOutputToTexture(flag) {\n    utils.warnDeprecated('method', 'setOutputToTexture', 'setPipeline');\n    this.pipeline = flag;\n    return this;\n  }\n\n  setImmutable(flag) {\n    this.immutable = flag;\n    return this;\n  }\n\n  setCanvas(canvas) {\n    this.canvas = canvas;\n    return this;\n  }\n\n  setStrictIntegers(flag) {\n    this.strictIntegers = flag;\n    return this;\n  }\n\n  setDynamicOutput(flag) {\n    this.dynamicOutput = flag;\n    return this;\n  }\n\n  setHardcodeConstants(flag) {\n    utils.warnDeprecated('method', 'setHardcodeConstants');\n    this.setDynamicOutput(flag);\n    this.setDynamicArguments(flag);\n    return this;\n  }\n\n  setDynamicArguments(flag) {\n    this.dynamicArguments = flag;\n    return this;\n  }\n\n  setUseLegacyEncoder(flag) {\n    this.useLegacyEncoder = flag;\n    return this;\n  }\n\n  setWarnVarUsage(flag) {\n    utils.warnDeprecated('method', 'setWarnVarUsage');\n    return this;\n  }\n\n  getCanvas() {\n    utils.warnDeprecated('method', 'getCanvas');\n    return this.canvas;\n  }\n\n  getWebGl() {\n    utils.warnDeprecated('method', 'getWebGl');\n    return this.context;\n  }\n\n  setContext(context) {\n    this.context = context;\n    return this;\n  }\n\n  setArgumentTypes(argumentTypes) {\n    if (Array.isArray(argumentTypes)) {\n      this.argumentTypes = argumentTypes;\n    } else {\n      this.argumentTypes = [];\n      for (const p in argumentTypes) {\n        if (!argumentTypes.hasOwnProperty(p)) continue;\n        const argumentIndex = this.argumentNames.indexOf(p);\n        if (argumentIndex === -1) throw new Error(`unable to find argument ${ p }`);\n        this.argumentTypes[argumentIndex] = argumentTypes[p];\n      }\n    }\n    return this;\n  }\n\n  setTactic(tactic) {\n    this.tactic = tactic;\n    return this;\n  }\n\n  requestFallback(args) {\n    if (!this.onRequestFallback) {\n      throw new Error(`\"onRequestFallback\" not defined on ${ this.constructor.name }`);\n    }\n    this.fallbackRequested = true;\n    return this.onRequestFallback(args);\n  }\n\n  validateSettings() {\n    throw new Error(`\"validateSettings\" not defined on ${ this.constructor.name }`);\n  }\n\n  addSubKernel(subKernel) {\n    if (this.subKernels === null) {\n      this.subKernels = [];\n    }\n    if (!subKernel.source) throw new Error('subKernel missing \"source\" property');\n    if (!subKernel.property && isNaN(subKernel.property)) throw new Error('subKernel missing \"property\" property');\n    if (!subKernel.name) throw new Error('subKernel missing \"name\" property');\n    this.subKernels.push(subKernel);\n    return this;\n  }\n\n  destroy(removeCanvasReferences) {\n    throw new Error(`\"destroy\" called on ${ this.constructor.name }`);\n  }\n\n  getBitRatio(value) {\n    if (this.precision === 'single') {\n      return 4;\n    } else if (Array.isArray(value[0])) {\n      return this.getBitRatio(value[0]);\n    } else if (value.constructor === Input) {\n      return this.getBitRatio(value.value);\n    }\n    switch (value.constructor) {\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Int8Array:\n        return 1;\n      case Uint16Array:\n      case Int16Array:\n        return 2;\n      case Float32Array:\n      case Int32Array:\n      default:\n        return 4;\n    }\n  }\n\n  getPixels(flip) {\n    throw new Error(`\"getPixels\" called on ${ this.constructor.name }`);\n  }\n\n  checkOutput() {\n    if (!this.output || !utils.isArray(this.output)) throw new Error('kernel.output not an array');\n    if (this.output.length < 1) throw new Error('kernel.output is empty, needs at least 1 value');\n    for (let i = 0; i < this.output.length; i++) {\n      if (isNaN(this.output[i]) || this.output[i] < 1) {\n        throw new Error(`${ this.constructor.name }.output[${ i }] incorrectly defined as \\`${ this.output[i] }\\`, needs to be numeric, and greater than 0`);\n      }\n    }\n  }\n\n  prependString(value) {\n    throw new Error(`\"prependString\" called on ${ this.constructor.name }`);\n  }\n\n  hasPrependString(value) {\n    throw new Error(`\"hasPrependString\" called on ${ this.constructor.name }`);\n  }\n\n  toJSON() {\n    return {\n      settings: {\n        output: this.output,\n        pipeline: this.pipeline,\n        argumentNames: this.argumentNames,\n        argumentsTypes: this.argumentTypes,\n        constants: this.constants,\n        pluginNames: this.plugins ? this.plugins.map(plugin => plugin.name) : null,\n        returnType: this.returnType,\n      }\n    };\n  }\n\n  buildSignature(args) {\n    const Constructor = this.constructor;\n    this.signature = Constructor.getSignature(this, Constructor.getArgumentTypes(this, args));\n  }\n\n  static getArgumentTypes(kernel, args) {\n    const argumentTypes = new Array(args.length);\n    for (let i = 0; i < args.length; i++) {\n      const arg = args[i];\n      const type = kernel.argumentTypes[i];\n      if (arg.type) {\n        argumentTypes[i] = arg.type;\n      } else {\n        switch (type) {\n          case 'Number':\n          case 'Integer':\n          case 'Float':\n          case 'ArrayTexture(1)':\n            argumentTypes[i] = utils.getVariableType(arg);\n            break;\n          default:\n            argumentTypes[i] = type;\n        }\n      }\n    }\n    return argumentTypes;\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    throw new Error(`\"getSignature\" not implemented on ${ this.name }`);\n  }\n\n  functionToIGPUFunction(source, settings = {}) {\n    if (typeof source !== 'string' && typeof source !== 'function') throw new Error('source not a string or function');\n    const sourceString = typeof source === 'string' ? source : source.toString();\n    let argumentTypes = [];\n\n    if (Array.isArray(settings.argumentTypes)) {\n      argumentTypes = settings.argumentTypes;\n    } else if (typeof settings.argumentTypes === 'object') {\n      argumentTypes = utils.getArgumentNamesFromString(sourceString)\n        .map(name => settings.argumentTypes[name]) || [];\n    } else {\n      argumentTypes = settings.argumentTypes || [];\n    }\n\n    return {\n      name: utils.getFunctionNameFromString(sourceString) || null,\n      source: sourceString,\n      argumentTypes,\n      returnType: settings.returnType || null,\n    };\n  }\n\n  onActivate(previousKernel) {}\n}\n\nfunction splitArgumentTypes(argumentTypesObject) {\n  const argumentNames = Object.keys(argumentTypesObject);\n  const argumentTypes = [];\n  for (let i = 0; i < argumentNames.length; i++) {\n    const argumentName = argumentNames[i];\n    argumentTypes.push(argumentTypesObject[argumentName]);\n  }\n  return { argumentTypes, argumentNames };\n}\n\nmodule.exports = {\n  Kernel\n};\n},{\"../input\":110,\"../utils\":114}],37:[function(require,module,exports){\nconst fragmentShader = `__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nvarying vec2 vTexCoord;\n\nfloat acosh(float x) {\n  return log(x + sqrt(x * x - 1.0));\n}\n\nfloat sinh(float x) {\n  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;\n}\n\nfloat asinh(float x) {\n  return log(x + sqrt(x * x + 1.0));\n}\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat atanh(float x) {\n  x = (x + 1.0) / (x - 1.0);\n  if (x < 0.0) {\n    return 0.5 * log(-x);\n  }\n  return 0.5 * log(x);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat cosh(float x) {\n  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; \n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat tanh(float x) {\n  float e = exp(2.0 * x);\n  return (e - 1.0) / (e + 1.0);\n}\n\nfloat trunc(float x) {\n  if (x >= 0.0) {\n    return floor(x); \n  } else {\n    return ceil(x);\n  }\n}\n\nvec4 _round(vec4 x) {\n  return floor(x + 0.5);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x / y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY\\'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(_round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;\n  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;\n  return 0.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  if (channel == 0) return texel.r * 255.0;\n  if (channel == 1) return texel.g * 255.0;\n  if (channel == 2) return texel.b * 255.0;\n  if (channel == 3) return texel.a * 255.0;\n  return 0.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return texel.r;\n  if (channel == 1) return texel.g;\n  if (channel == 2) return texel.b;\n  if (channel == 3) return texel.a;\n  return 0.0;\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture2D(tex, st / vec2(texSize));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n  \n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nvoid color(sampler2D image) {\n  actualColor = texture2D(image, vTexCoord);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;\n\nmodule.exports = {\n  fragmentShader\n};\n},{}],38:[function(require,module,exports){\nconst { utils } = require('../../utils');\nconst { FunctionNode } = require('../function-node');\n\nclass WebGLFunctionNode extends FunctionNode {\n  constructor(source, settings) {\n    super(source, settings);\n    if (settings && settings.hasOwnProperty('fixIntegerDivisionAccuracy')) {\n      this.fixIntegerDivisionAccuracy = settings.fixIntegerDivisionAccuracy;\n    }\n  }\n\n  astConditionalExpression(ast, retArr) {\n    if (ast.type !== 'ConditionalExpression') {\n      throw this.astErrorOutput('Not a conditional expression', ast);\n    }\n    const consequentType = this.getType(ast.consequent);\n    const alternateType = this.getType(ast.alternate);\n    if (consequentType === null && alternateType === null) {\n      retArr.push('if (');\n      this.astGeneric(ast.test, retArr);\n      retArr.push(') {');\n      this.astGeneric(ast.consequent, retArr);\n      retArr.push(';');\n      retArr.push('} else {');\n      this.astGeneric(ast.alternate, retArr);\n      retArr.push(';');\n      retArr.push('}');\n      return retArr;\n    }\n    retArr.push('(');\n    this.astGeneric(ast.test, retArr);\n    retArr.push('?');\n    this.astGeneric(ast.consequent, retArr);\n    retArr.push(':');\n    this.astGeneric(ast.alternate, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astFunction(ast, retArr) {\n    if (this.isRootKernel) {\n      retArr.push('void');\n    } else {\n      if (!this.returnType) {\n        const lastReturn = this.findLastReturn();\n        if (lastReturn) {\n          this.returnType = this.getType(ast.body);\n          if (this.returnType === 'LiteralInteger') {\n            this.returnType = 'Number';\n          }\n        }\n      }\n\n      const { returnType } = this;\n      if (!returnType) {\n        retArr.push('void');\n      } else {\n        const type = typeMap[returnType];\n        if (!type) {\n          throw new Error(`unknown type ${returnType}`);\n        }\n        retArr.push(type);\n      }\n    }\n    retArr.push(' ');\n    retArr.push(this.name);\n    retArr.push('(');\n\n    if (!this.isRootKernel) {\n      for (let i = 0; i < this.argumentNames.length; ++i) {\n        const argumentName = this.argumentNames[i];\n\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        let argumentType = this.argumentTypes[this.argumentNames.indexOf(argumentName)];\n        if (!argumentType) {\n          throw this.astErrorOutput(`Unknown argument ${argumentName} type`, ast);\n        }\n        if (argumentType === 'LiteralInteger') {\n          this.argumentTypes[i] = argumentType = 'Number';\n        }\n        const type = typeMap[argumentType];\n        if (!type) {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        const name = utils.sanitizeName(argumentName);\n        if (type === 'sampler2D' || type === 'sampler2DArray') {\n          retArr.push(`${type} user_${name},ivec2 user_${name}Size,ivec3 user_${name}Dim`);\n        } else {\n          retArr.push(`${type} user_${name}`);\n        }\n      }\n    }\n\n    retArr.push(') {\\n');\n\n    for (let i = 0; i < ast.body.body.length; ++i) {\n      this.astGeneric(ast.body.body[i], retArr);\n      retArr.push('\\n');\n    }\n\n    retArr.push('}\\n');\n    return retArr;\n  }\n\n  astReturnStatement(ast, retArr) {\n    if (!ast.argument) throw this.astErrorOutput('Unexpected return statement', ast);\n    this.pushState('skip-literal-correction');\n    const type = this.getType(ast.argument);\n    this.popState('skip-literal-correction');\n\n    const result = [];\n\n    if (!this.returnType) {\n      if (type === 'LiteralInteger' || type === 'Integer') {\n        this.returnType = 'Number';\n      } else {\n        this.returnType = type;\n      }\n    }\n\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Float':\n        switch (type) {\n          case 'Integer':\n            result.push('float(');\n            this.astGeneric(ast.argument, result);\n            result.push(')');\n            break;\n          case 'LiteralInteger':\n            this.castLiteralToFloat(ast.argument, result);\n\n            if (this.getType(ast) === 'Integer') {\n              result.unshift('float(');\n              result.push(')');\n            }\n            break;\n          default:\n            this.astGeneric(ast.argument, result);\n        }\n        break;\n      case 'Integer':\n        switch (type) {\n          case 'Float':\n          case 'Number':\n            this.castValueToInteger(ast.argument, result);\n            break;\n          case 'LiteralInteger':\n            this.castLiteralToInteger(ast.argument, result);\n            break;\n          default:\n            this.astGeneric(ast.argument, result);\n        }\n        break;\n      case 'Array(4)':\n      case 'Array(3)':\n      case 'Array(2)':\n      case 'Input':\n        this.astGeneric(ast.argument, result);\n        break;\n      default:\n        throw this.astErrorOutput(`unhandled return type ${this.returnType}`, ast);\n    }\n\n    if (this.isRootKernel) {\n      retArr.push(`kernelResult = ${ result.join('') };`);\n      retArr.push('return;');\n    } else if (this.isSubKernel) {\n      retArr.push(`subKernelResult_${ this.name } = ${ result.join('') };`);\n      retArr.push(`return subKernelResult_${ this.name };`);\n    } else {\n      retArr.push(`return ${ result.join('') };`);\n    }\n    return retArr;\n  }\n\n  astLiteral(ast, retArr) {\n    if (isNaN(ast.value)) {\n      throw this.astErrorOutput(\n        'Non-numeric literal not supported : ' + ast.value,\n        ast\n      );\n    }\n\n    const key = this.astKey(ast);\n    if (Number.isInteger(ast.value)) {\n      if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n        this.literalTypes[key] = 'Integer';\n        retArr.push(`${ast.value}`);\n      } else if (this.isState('casting-to-float') || this.isState('building-float')) {\n        this.literalTypes[key] = 'Number';\n        retArr.push(`${ast.value}.0`);\n      } else {\n        this.literalTypes[key] = 'Number';\n        retArr.push(`${ast.value}.0`);\n      }\n    } else if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n      this.literalTypes[key] = 'Integer';\n      retArr.push(Math.round(ast.value));\n    } else {\n      this.literalTypes[key] = 'Number';\n      retArr.push(`${ast.value}`);\n    }\n    return retArr;\n  }\n\n  astBinaryExpression(ast, retArr) {\n    if (this.checkAndUpconvertOperator(ast, retArr)) {\n      return retArr;\n    }\n\n    if (this.fixIntegerDivisionAccuracy && ast.operator === '/') {\n      retArr.push('divWithIntCheck(');\n      this.pushState('building-float');\n      switch (this.getType(ast.left)) {\n        case 'Integer':\n          this.castValueToFloat(ast.left, retArr);\n          break;\n        case 'LiteralInteger':\n          this.castLiteralToFloat(ast.left, retArr);\n          break;\n        default:\n          this.astGeneric(ast.left, retArr);\n      }\n      retArr.push(', ');\n      switch (this.getType(ast.right)) {\n        case 'Integer':\n          this.castValueToFloat(ast.right, retArr);\n          break;\n        case 'LiteralInteger':\n          this.castLiteralToFloat(ast.right, retArr);\n          break;\n        default:\n          this.astGeneric(ast.right, retArr);\n      }\n      this.popState('building-float');\n      retArr.push(')');\n      return retArr;\n    }\n\n    retArr.push('(');\n    const leftType = this.getType(ast.left) || 'Number';\n    const rightType = this.getType(ast.right) || 'Number';\n    if (!leftType || !rightType) {\n      throw this.astErrorOutput(`Unhandled binary expression`, ast);\n    }\n    const key = leftType + ' & ' + rightType;\n    switch (key) {\n      case 'Integer & Integer':\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n      case 'Number & Float':\n      case 'Float & Number':\n      case 'Float & Float':\n      case 'Number & Number':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'LiteralInteger & LiteralInteger':\n        if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n          this.pushState('building-integer');\n          this.astGeneric(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.astGeneric(ast.right, retArr);\n          this.popState('building-integer');\n        } else {\n          this.pushState('building-float');\n          this.castLiteralToFloat(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.castLiteralToFloat(ast.right, retArr);\n          this.popState('building-float');\n        }\n        break;\n\n      case 'Integer & Float':\n      case 'Integer & Number':\n        if (ast.operator === '>' || ast.operator === '<' && ast.right.type === 'Literal') {\n          if (!Number.isInteger(ast.right.value)) {\n            this.pushState('building-float');\n            this.castValueToFloat(ast.left, retArr);\n            retArr.push(operatorMap[ast.operator] || ast.operator);\n            this.astGeneric(ast.right, retArr);\n            this.popState('building-float');\n            break;\n          }\n        }\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.pushState('casting-to-integer');\n        if (ast.right.type === 'Literal') {\n          const literalResult = [];\n          this.astGeneric(ast.right, literalResult);\n          const literalType = this.getType(ast.right);\n          if (literalType === 'Integer') {\n            retArr.push(literalResult.join(''));\n          } else {\n            throw this.astErrorOutput(`Unhandled binary expression with literal`, ast);\n          }\n        } else {\n          retArr.push('int(');\n          this.astGeneric(ast.right, retArr);\n          retArr.push(')');\n        }\n        this.popState('casting-to-integer');\n        this.popState('building-integer');\n        break;\n      case 'Integer & LiteralInteger':\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castLiteralToInteger(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n\n      case 'Number & Integer':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castValueToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'Float & LiteralInteger':\n      case 'Number & LiteralInteger':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castLiteralToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'LiteralInteger & Float':\n      case 'LiteralInteger & Number':\n        if (this.isState('casting-to-integer')) {\n          this.pushState('building-integer');\n          this.castLiteralToInteger(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.castValueToInteger(ast.right, retArr);\n          this.popState('building-integer');\n        } else {\n          this.pushState('building-float');\n          this.astGeneric(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.pushState('casting-to-float');\n          this.astGeneric(ast.right, retArr);\n          this.popState('casting-to-float');\n          this.popState('building-float');\n        }\n        break;\n      case 'LiteralInteger & Integer':\n        this.pushState('building-integer');\n        this.castLiteralToInteger(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n\n      case 'Boolean & Boolean':\n        this.pushState('building-boolean');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-boolean');\n        break;\n\n      case 'Float & Integer':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castValueToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n\n      default:\n        throw this.astErrorOutput(`Unhandled binary expression between ${key}`, ast);\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  checkAndUpconvertOperator(ast, retArr) {\n    const bitwiseResult = this.checkAndUpconvertBitwiseOperators(ast, retArr);\n    if (bitwiseResult) {\n      return bitwiseResult;\n    }\n    const upconvertableOperators = {\n      '%': this.fixIntegerDivisionAccuracy ? 'integerCorrectionModulo' : 'modulo',\n      '**': 'pow',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    switch (this.getType(ast.left)) {\n      case 'Integer':\n        this.castValueToFloat(ast.left, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToFloat(ast.left, retArr);\n        break;\n      default:\n        this.astGeneric(ast.left, retArr);\n    }\n    retArr.push(',');\n    switch (this.getType(ast.right)) {\n      case 'Integer':\n        this.castValueToFloat(ast.right, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToFloat(ast.right, retArr);\n        break;\n      default:\n        this.astGeneric(ast.right, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseOperators(ast, retArr) {\n    const upconvertableOperators = {\n      '&': 'bitwiseAnd',\n      '|': 'bitwiseOr',\n      '^': 'bitwiseXOR',\n      '<<': 'bitwiseZeroFillLeftShift',\n      '>>': 'bitwiseSignedRightShift',\n      '>>>': 'bitwiseZeroFillRightShift',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    const leftType = this.getType(ast.left);\n    switch (leftType) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.left, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.left, retArr);\n        break;\n      default:\n        this.astGeneric(ast.left, retArr);\n    }\n    retArr.push(',');\n    const rightType = this.getType(ast.right);\n    switch (rightType) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.right, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.right, retArr);\n        break;\n      default:\n        this.astGeneric(ast.right, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseUnary(ast, retArr) {\n    const upconvertableOperators = {\n      '~': 'bitwiseNot',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    switch (this.getType(ast.argument)) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.argument, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.argument, retArr);\n        break;\n      default:\n        this.astGeneric(ast.argument, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  castLiteralToInteger(ast, retArr) {\n    this.pushState('casting-to-integer');\n    this.astGeneric(ast, retArr);\n    this.popState('casting-to-integer');\n    return retArr;\n  }\n\n  castLiteralToFloat(ast, retArr) {\n    this.pushState('casting-to-float');\n    this.astGeneric(ast, retArr);\n    this.popState('casting-to-float');\n    return retArr;\n  }\n\n  castValueToInteger(ast, retArr) {\n    this.pushState('casting-to-integer');\n    retArr.push('int(');\n    this.astGeneric(ast, retArr);\n    retArr.push(')');\n    this.popState('casting-to-integer');\n    return retArr;\n  }\n\n  castValueToFloat(ast, retArr) {\n    this.pushState('casting-to-float');\n    retArr.push('float(');\n    this.astGeneric(ast, retArr);\n    retArr.push(')');\n    this.popState('casting-to-float');\n    return retArr;\n  }\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput('IdentifierExpression - not an Identifier', idtNode);\n    }\n\n    const type = this.getType(idtNode);\n\n    const name = utils.sanitizeName(idtNode.name);\n    if (idtNode.name === 'Infinity') {\n      retArr.push('3.402823466e+38');\n    } else if (type === 'Boolean') {\n      if (this.argumentNames.indexOf(name) > -1) {\n        retArr.push(`bool(user_${name})`);\n      } else {\n        retArr.push(`user_${name}`);\n      }\n    } else {\n      retArr.push(`user_${name}`);\n    }\n\n    return retArr;\n  }\n\n  astForStatement(forNode, retArr) {\n    if (forNode.type !== 'ForStatement') {\n      throw this.astErrorOutput('Invalid for statement', forNode);\n    }\n\n    const initArr = [];\n    const testArr = [];\n    const updateArr = [];\n    const bodyArr = [];\n    let isSafe = null;\n\n    if (forNode.init) {\n      const { declarations } = forNode.init;\n      if (declarations.length > 1) {\n        isSafe = false;\n      }\n      this.astGeneric(forNode.init, initArr);\n      for (let i = 0; i < declarations.length; i++) {\n        if (declarations[i].init && declarations[i].init.type !== 'Literal') {\n          isSafe = false;\n        }\n      }\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.test) {\n      this.astGeneric(forNode.test, testArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.update) {\n      this.astGeneric(forNode.update, updateArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.body) {\n      this.pushState('loop-body');\n      this.astGeneric(forNode.body, bodyArr);\n      this.popState('loop-body');\n    }\n\n    if (isSafe === null) {\n      isSafe = this.isSafe(forNode.init) && this.isSafe(forNode.test);\n    }\n\n    if (isSafe) {\n      const initString = initArr.join('');\n      const initNeedsSemiColon = initString[initString.length - 1] !== ';';\n      retArr.push(`for (${initString}${initNeedsSemiColon ? ';' : ''}${testArr.join('')};${updateArr.join('')}){\\n`);\n      retArr.push(bodyArr.join(''));\n      retArr.push('}\\n');\n    } else {\n      const iVariableName = this.getInternalVariableName('safeI');\n      if (initArr.length > 0) {\n        retArr.push(initArr.join(''), '\\n');\n      }\n      retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n      if (testArr.length > 0) {\n        retArr.push(`if (!${testArr.join('')}) break;\\n`);\n      }\n      retArr.push(bodyArr.join(''));\n      retArr.push(`\\n${updateArr.join('')};`);\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astWhileStatement(whileNode, retArr) {\n    if (whileNode.type !== 'WhileStatement') {\n      throw this.astErrorOutput('Invalid while statement', whileNode);\n    }\n\n    const iVariableName = this.getInternalVariableName('safeI');\n    retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n    retArr.push('if (!');\n    this.astGeneric(whileNode.test, retArr);\n    retArr.push(') break;\\n');\n    this.astGeneric(whileNode.body, retArr);\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n  astDoWhileStatement(doWhileNode, retArr) {\n    if (doWhileNode.type !== 'DoWhileStatement') {\n      throw this.astErrorOutput('Invalid while statement', doWhileNode);\n    }\n\n    const iVariableName = this.getInternalVariableName('safeI');\n    retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n    this.astGeneric(doWhileNode.body, retArr);\n    retArr.push('if (!');\n    this.astGeneric(doWhileNode.test, retArr);\n    retArr.push(') break;\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n\n  astAssignmentExpression(assNode, retArr) {\n    if (assNode.operator === '%=') {\n      this.astGeneric(assNode.left, retArr);\n      retArr.push('=');\n      retArr.push('mod(');\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(',');\n      this.astGeneric(assNode.right, retArr);\n      retArr.push(')');\n    } else if (assNode.operator === '**=') {\n      this.astGeneric(assNode.left, retArr);\n      retArr.push('=');\n      retArr.push('pow(');\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(',');\n      this.astGeneric(assNode.right, retArr);\n      retArr.push(')');\n    } else {\n      const leftType = this.getType(assNode.left);\n      const rightType = this.getType(assNode.right);\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(assNode.operator);\n      if (leftType !== 'Integer' && rightType === 'Integer') {\n        retArr.push('float(');\n        this.astGeneric(assNode.right, retArr);\n        retArr.push(')');\n      } else {\n        this.astGeneric(assNode.right, retArr);\n      }\n      return retArr;\n    }\n  }\n\n  astBlockStatement(bNode, retArr) {\n    if (this.isState('loop-body')) {\n      this.pushState('block-body'); \n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      this.popState('block-body');\n    } else {\n      retArr.push('{\\n');\n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astVariableDeclaration(varDecNode, retArr) {\n    const declarations = varDecNode.declarations;\n    if (!declarations || !declarations[0] || !declarations[0].init) {\n      throw this.astErrorOutput('Unexpected expression', varDecNode);\n    }\n    const result = [];\n    let lastType = null;\n    const declarationSets = [];\n    let declarationSet = [];\n    for (let i = 0; i < declarations.length; i++) {\n      const declaration = declarations[i];\n      const init = declaration.init;\n      const info = this.getDeclaration(declaration.id);\n      const actualType = this.getType(declaration.init);\n      let type = actualType;\n      if (type === 'LiteralInteger') {\n        if (info.suggestedType === 'Integer') {\n          type = 'Integer';\n        } else {\n          type = 'Number';\n        }\n      }\n      const markupType = typeMap[type];\n      if (!markupType) {\n        throw this.astErrorOutput(`Markup type ${ markupType } not handled`, varDecNode);\n      }\n      const declarationResult = [];\n      if (actualType === 'Integer' && type === 'Integer') {\n        info.valueType = 'Number';\n        if (i === 0 || lastType === null) {\n          declarationResult.push('float ');\n        } else if (type !== lastType) {\n          throw new Error('Unhandled declaration');\n        }\n        lastType = type;\n        declarationResult.push(`user_${utils.sanitizeName(declaration.id.name)}=`);\n        declarationResult.push('float(');\n        this.astGeneric(init, declarationResult);\n        declarationResult.push(')');\n      } else {\n        info.valueType = type;\n        if (i === 0 || lastType === null) {\n          declarationResult.push(`${markupType} `);\n        } else if (type !== lastType) {\n          declarationSets.push(declarationSet.join(','));\n          declarationSet = [];\n          declarationResult.push(`${markupType} `);\n        }\n        lastType = type;\n        declarationResult.push(`user_${utils.sanitizeName(declaration.id.name)}=`);\n        if (actualType === 'Number' && type === 'Integer') {\n          if (init.left && init.left.type === 'Literal') {\n            this.astGeneric(init, declarationResult);\n          } else {\n            declarationResult.push('int(');\n            this.astGeneric(init, declarationResult);\n            declarationResult.push(')');\n          }\n        } else if (actualType === 'LiteralInteger' && type === 'Integer') {\n          this.castLiteralToInteger(init, declarationResult);\n        } else {\n          this.astGeneric(init, declarationResult);\n        }\n      }\n      declarationSet.push(declarationResult.join(''));\n    }\n\n    if (declarationSet.length > 0) {\n      declarationSets.push(declarationSet.join(','));\n    }\n\n    result.push(declarationSets.join(';'));\n\n    retArr.push(result.join(''));\n    retArr.push(';');\n    return retArr;\n  }\n\n  astIfStatement(ifNode, retArr) {\n    retArr.push('if (');\n    this.astGeneric(ifNode.test, retArr);\n    retArr.push(')');\n    if (ifNode.consequent.type === 'BlockStatement') {\n      this.astGeneric(ifNode.consequent, retArr);\n    } else {\n      retArr.push(' {\\n');\n      this.astGeneric(ifNode.consequent, retArr);\n      retArr.push('\\n}\\n');\n    }\n\n    if (ifNode.alternate) {\n      retArr.push('else ');\n      if (ifNode.alternate.type === 'BlockStatement' || ifNode.alternate.type === 'IfStatement') {\n        this.astGeneric(ifNode.alternate, retArr);\n      } else {\n        retArr.push(' {\\n');\n        this.astGeneric(ifNode.alternate, retArr);\n        retArr.push('\\n}\\n');\n      }\n    }\n    return retArr;\n  }\n\n  astSwitchStatement(ast, retArr) {\n    if (ast.type !== 'SwitchStatement') {\n      throw this.astErrorOutput('Invalid switch statement', ast);\n    }\n    const { discriminant, cases } = ast;\n    const type = this.getType(discriminant);\n    const varName = `switchDiscriminant${this.astKey(ast, '_')}`;\n    switch (type) {\n      case 'Float':\n      case 'Number':\n        retArr.push(`float ${varName} = `);\n        this.astGeneric(discriminant, retArr);\n        retArr.push(';\\n');\n        break;\n      case 'Integer':\n        retArr.push(`int ${varName} = `);\n        this.astGeneric(discriminant, retArr);\n        retArr.push(';\\n');\n        break;\n    }\n    if (cases.length === 1 && !cases[0].test) {\n      this.astGeneric(cases[0].consequent, retArr);\n      return retArr;\n    }\n\n    let fallingThrough = false;\n    let defaultResult = [];\n    let movingDefaultToEnd = false;\n    let pastFirstIf = false;\n    for (let i = 0; i < cases.length; i++) {\n      if (!cases[i].test) {\n        if (cases.length > i + 1) {\n          movingDefaultToEnd = true;\n          this.astGeneric(cases[i].consequent, defaultResult);\n          continue;\n        } else {\n          retArr.push(' else {\\n');\n        }\n      } else {\n        if (i === 0 || !pastFirstIf) {\n          pastFirstIf = true;\n          retArr.push(`if (${varName} == `);\n        } else {\n          if (fallingThrough) {\n            retArr.push(`${varName} == `);\n            fallingThrough = false;\n          } else {\n            retArr.push(` else if (${varName} == `);\n          }\n        }\n        if (type === 'Integer') {\n          const testType = this.getType(cases[i].test);\n          switch (testType) {\n            case 'Number':\n            case 'Float':\n              this.castValueToInteger(cases[i].test, retArr);\n              break;\n            case 'LiteralInteger':\n              this.castLiteralToInteger(cases[i].test, retArr);\n              break;\n          }\n        } else if (type === 'Float') {\n          const testType = this.getType(cases[i].test);\n          switch (testType) {\n            case 'LiteralInteger':\n              this.castLiteralToFloat(cases[i].test, retArr);\n              break;\n            case 'Integer':\n              this.castValueToFloat(cases[i].test, retArr);\n              break;\n          }\n        } else {\n          throw new Error('unhanlded');\n        }\n        if (!cases[i].consequent || cases[i].consequent.length === 0) {\n          fallingThrough = true;\n          retArr.push(' || ');\n          continue;\n        }\n        retArr.push(`) {\\n`);\n      }\n      this.astGeneric(cases[i].consequent, retArr);\n      retArr.push('\\n}');\n    }\n    if (movingDefaultToEnd) {\n      retArr.push(' else {');\n      retArr.push(defaultResult.join(''));\n      retArr.push('}');\n    }\n    return retArr;\n  }\n\n  astThisExpression(tNode, retArr) {\n    retArr.push('this');\n    return retArr;\n  }\n\n  astMemberExpression(mNode, retArr) {\n    const {\n      property,\n      name,\n      signature,\n      origin,\n      type,\n      xProperty,\n      yProperty,\n      zProperty\n    } = this.getMemberExpressionDetails(mNode);\n    switch (signature) {\n      case 'value.thread.value':\n      case 'this.thread.value':\n        if (name !== 'x' && name !== 'y' && name !== 'z') {\n          throw this.astErrorOutput('Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`', mNode);\n        }\n        retArr.push(`threadId.${name}`);\n        return retArr;\n      case 'this.output.value':\n        if (this.dynamicOutput) {\n          switch (name) {\n            case 'x':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.x)');\n              } else {\n                retArr.push('uOutputDim.x');\n              }\n              break;\n            case 'y':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.y)');\n              } else {\n                retArr.push('uOutputDim.y');\n              }\n              break;\n            case 'z':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.z)');\n              } else {\n                retArr.push('uOutputDim.z');\n              }\n              break;\n            default:\n              throw this.astErrorOutput('Unexpected expression', mNode);\n          }\n        } else {\n          switch (name) {\n            case 'x':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[0]);\n              } else {\n                retArr.push(this.output[0], '.0');\n              }\n              break;\n            case 'y':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[1]);\n              } else {\n                retArr.push(this.output[1], '.0');\n              }\n              break;\n            case 'z':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[2]);\n              } else {\n                retArr.push(this.output[2], '.0');\n              }\n              break;\n            default:\n              throw this.astErrorOutput('Unexpected expression', mNode);\n          }\n        }\n        return retArr;\n      case 'value':\n        throw this.astErrorOutput('Unexpected expression', mNode);\n      case 'value[]':\n      case 'value[][]':\n      case 'value[][][]':\n      case 'value[][][][]':\n      case 'value.value':\n        if (origin === 'Math') {\n          retArr.push(Math[name]);\n          return retArr;\n        }\n        const cleanName = utils.sanitizeName(name);\n        switch (property) {\n          case 'r':\n            retArr.push(`user_${ cleanName }.r`);\n            return retArr;\n          case 'g':\n            retArr.push(`user_${ cleanName }.g`);\n            return retArr;\n          case 'b':\n            retArr.push(`user_${ cleanName }.b`);\n            return retArr;\n          case 'a':\n            retArr.push(`user_${ cleanName }.a`);\n            return retArr;\n        }\n        break;\n      case 'this.constants.value':\n        if (typeof xProperty === 'undefined') {\n          switch (type) {\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              retArr.push(`constants_${ utils.sanitizeName(name) }`);\n              return retArr;\n          }\n        }\n        case 'this.constants.value[]':\n        case 'this.constants.value[][]':\n        case 'this.constants.value[][][]':\n        case 'this.constants.value[][][][]':\n          break;\n        case 'fn()[]':\n          this.astCallExpression(mNode.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(property));\n          retArr.push(']');\n          return retArr;\n        case '[][]':\n          this.astArrayExpression(mNode.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(property));\n          retArr.push(']');\n          return retArr;\n        case 'value.value[]':\n        case 'value.value[][]':\n          if (this.removeIstanbulCoverage) {\n            return retArr;\n          }\n          default:\n            throw this.astErrorOutput('Unexpected expression', mNode);\n    }\n\n    if (mNode.computed === false) {\n      switch (type) {\n        case 'Number':\n        case 'Integer':\n        case 'Float':\n        case 'Boolean':\n          retArr.push(`${origin}_${utils.sanitizeName(name)}`);\n          return retArr;\n      }\n    }\n\n    const markupName = `${origin}_${utils.sanitizeName(name)}`;\n\n    switch (type) {\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        this.astGeneric(mNode.object, retArr);\n        retArr.push('[');\n        retArr.push(this.memberExpressionPropertyMarkup(xProperty));\n        retArr.push(']');\n        break;\n      case 'HTMLImageArray':\n        retArr.push(`getImage3D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(1)':\n        retArr.push(`getFloatFromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(2)':\n      case 'Array2D(2)':\n      case 'Array3D(2)':\n        retArr.push(`getMemoryOptimizedVec2(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(2)':\n        retArr.push(`getVec2FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(3)':\n      case 'Array2D(3)':\n      case 'Array3D(3)':\n        retArr.push(`getMemoryOptimizedVec3(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(3)':\n        retArr.push(`getVec3FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(4)':\n      case 'Array2D(4)':\n      case 'Array3D(4)':\n        retArr.push(`getMemoryOptimizedVec4(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(4)':\n      case 'HTMLCanvas':\n      case 'HTMLImage':\n      case 'HTMLVideo':\n        retArr.push(`getVec4FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'NumberTexture':\n      case 'Array':\n      case 'Array2D':\n      case 'Array3D':\n      case 'Array4D':\n      case 'Input':\n      case 'Number':\n      case 'Float':\n      case 'Integer':\n        if (this.precision === 'single') {\n          retArr.push(`getMemoryOptimized32(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n          this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n          retArr.push(')');\n        } else {\n          const bitRatio = (origin === 'user' ?\n            this.lookupFunctionArgumentBitRatio(this.name, name) :\n            this.constantBitRatios[name]\n          );\n          switch (bitRatio) {\n            case 1:\n              retArr.push(`get8(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            case 2:\n              retArr.push(`get16(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            case 4:\n            case 0:\n              retArr.push(`get32(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            default:\n              throw new Error(`unhandled bit ratio of ${bitRatio}`);\n          }\n          this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n          retArr.push(')');\n        }\n        break;\n      case 'MemoryOptimizedNumberTexture':\n        retArr.push(`getMemoryOptimized32(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      default:\n        throw new Error(`unhandled member expression \"${ type }\"`);\n    }\n    return retArr;\n  }\n\n  astCallExpression(ast, retArr) {\n    if (!ast.callee) {\n      throw this.astErrorOutput('Unknown CallExpression', ast);\n    }\n\n    let functionName = null;\n    const isMathFunction = this.isAstMathFunction(ast);\n\n    if (isMathFunction || (ast.callee.object && ast.callee.object.type === 'ThisExpression')) {\n      functionName = ast.callee.property.name;\n    }\n    else if (ast.callee.type === 'SequenceExpression' && ast.callee.expressions[0].type === 'Literal' && !isNaN(ast.callee.expressions[0].raw)) {\n      functionName = ast.callee.expressions[1].property.name;\n    } else {\n      functionName = ast.callee.name;\n    }\n\n    if (!functionName) {\n      throw this.astErrorOutput(`Unhandled function, couldn't find name`, ast);\n    }\n\n    switch (functionName) {\n      case 'pow':\n        functionName = '_pow';\n        break;\n      case 'round':\n        functionName = '_round';\n        break;\n    }\n\n    if (this.calledFunctions.indexOf(functionName) < 0) {\n      this.calledFunctions.push(functionName);\n    }\n\n    if (functionName === 'random' && this.plugins && this.plugins.length > 0) {\n      for (let i = 0; i < this.plugins.length; i++) {\n        const plugin = this.plugins[i];\n        if (plugin.functionMatch === 'Math.random()' && plugin.functionReplace) {\n          retArr.push(plugin.functionReplace);\n          return retArr;\n        }\n      }\n    }\n\n    if (this.onFunctionCall) {\n      this.onFunctionCall(this.name, functionName, ast.arguments);\n    }\n\n    retArr.push(functionName);\n\n    retArr.push('(');\n\n    if (isMathFunction) {\n      for (let i = 0; i < ast.arguments.length; ++i) {\n        const argument = ast.arguments[i];\n        const argumentType = this.getType(argument);\n        if (i > 0) {\n          retArr.push(', ');\n        }\n\n        switch (argumentType) {\n          case 'Integer':\n            this.castValueToFloat(argument, retArr);\n            break;\n          default:\n            this.astGeneric(argument, retArr);\n            break;\n        }\n      }\n    } else {\n      const targetTypes = this.lookupFunctionArgumentTypes(functionName) || [];\n      for (let i = 0; i < ast.arguments.length; ++i) {\n        const argument = ast.arguments[i];\n        let targetType = targetTypes[i];\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        const argumentType = this.getType(argument);\n        if (!targetType) {\n          this.triggerImplyArgumentType(functionName, i, argumentType, this);\n          targetType = argumentType;\n        }\n        switch (argumentType) {\n          case 'Boolean':\n            this.astGeneric(argument, retArr);\n            continue;\n          case 'Number':\n          case 'Float':\n            if (targetType === 'Integer') {\n              retArr.push('int(');\n              this.astGeneric(argument, retArr);\n              retArr.push(')');\n              continue;\n            } else if (targetType === 'Number' || targetType === 'Float') {\n              this.astGeneric(argument, retArr);\n              continue;\n            } else if (targetType === 'LiteralInteger') {\n              this.castLiteralToFloat(argument, retArr);\n              continue;\n            }\n            break;\n          case 'Integer':\n            if (targetType === 'Number' || targetType === 'Float') {\n              retArr.push('float(');\n              this.astGeneric(argument, retArr);\n              retArr.push(')');\n              continue;\n            } else if (targetType === 'Integer') {\n              this.astGeneric(argument, retArr);\n              continue;\n            }\n            break;\n          case 'LiteralInteger':\n            if (targetType === 'Integer') {\n              this.castLiteralToInteger(argument, retArr);\n              continue;\n            } else if (targetType === 'Number' || targetType === 'Float') {\n              this.castLiteralToFloat(argument, retArr);\n              continue;\n            } else if (targetType === 'LiteralInteger') {\n              this.astGeneric(argument, retArr);\n              continue;\n            }\n            break;\n          case 'Array(2)':\n          case 'Array(3)':\n          case 'Array(4)':\n            if (targetType === argumentType) {\n              if (argument.type === 'Identifier') {\n                retArr.push(`user_${utils.sanitizeName(argument.name)}`);\n              } else if (argument.type === 'ArrayExpression' || argument.type === 'MemberExpression' || argument.type === 'CallExpression') {\n                this.astGeneric(argument, retArr);\n              } else {\n                throw this.astErrorOutput(`Unhandled argument type ${ argument.type }`, ast);\n              }\n              continue;\n            }\n            break;\n          case 'HTMLCanvas':\n          case 'HTMLImage':\n          case 'HTMLImageArray':\n          case 'HTMLVideo':\n          case 'ArrayTexture(1)':\n          case 'ArrayTexture(2)':\n          case 'ArrayTexture(3)':\n          case 'ArrayTexture(4)':\n          case 'Array':\n          case 'Input':\n            if (targetType === argumentType) {\n              if (argument.type !== 'Identifier') throw this.astErrorOutput(`Unhandled argument type ${ argument.type }`, ast);\n              this.triggerImplyArgumentBitRatio(this.name, argument.name, functionName, i);\n              const name = utils.sanitizeName(argument.name);\n              retArr.push(`user_${name},user_${name}Size,user_${name}Dim`);\n              continue;\n            }\n            break;\n        }\n        throw this.astErrorOutput(`Unhandled argument combination of ${ argumentType } and ${ targetType } for argument named \"${ argument.name }\"`, ast);\n      }\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  astArrayExpression(arrNode, retArr) {\n    const arrLen = arrNode.elements.length;\n\n    retArr.push('vec' + arrLen + '(');\n    for (let i = 0; i < arrLen; ++i) {\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      const subNode = arrNode.elements[i];\n      this.astGeneric(subNode, retArr)\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  memberExpressionXYZ(x, y, z, retArr) {\n    if (z) {\n      retArr.push(this.memberExpressionPropertyMarkup(z), ', ');\n    } else {\n      retArr.push('0, ');\n    }\n    if (y) {\n      retArr.push(this.memberExpressionPropertyMarkup(y), ', ');\n    } else {\n      retArr.push('0, ');\n    }\n    retArr.push(this.memberExpressionPropertyMarkup(x));\n    return retArr;\n  }\n\n  memberExpressionPropertyMarkup(property) {\n    if (!property) {\n      throw new Error('Property not set');\n    }\n    const type = this.getType(property);\n    const result = [];\n    switch (type) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(property, result);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(property, result);\n        break;\n      default:\n        this.astGeneric(property, result);\n    }\n    return result.join('');\n  }\n}\n\nconst typeMap = {\n  'Array': 'sampler2D',\n  'Array(2)': 'vec2',\n  'Array(3)': 'vec3',\n  'Array(4)': 'vec4',\n  'Array2D': 'sampler2D',\n  'Array3D': 'sampler2D',\n  'Boolean': 'bool',\n  'Float': 'float',\n  'Input': 'sampler2D',\n  'Integer': 'int',\n  'Number': 'float',\n  'LiteralInteger': 'float',\n  'NumberTexture': 'sampler2D',\n  'MemoryOptimizedNumberTexture': 'sampler2D',\n  'ArrayTexture(1)': 'sampler2D',\n  'ArrayTexture(2)': 'sampler2D',\n  'ArrayTexture(3)': 'sampler2D',\n  'ArrayTexture(4)': 'sampler2D',\n  'HTMLVideo': 'sampler2D',\n  'HTMLCanvas': 'sampler2D',\n  'HTMLImage': 'sampler2D',\n  'HTMLImageArray': 'sampler2DArray',\n};\n\nconst operatorMap = {\n  '===': '==',\n  '!==': '!='\n};\n\nmodule.exports = {\n  WebGLFunctionNode\n};\n},{\"../../utils\":114,\"../function-node\":10}],39:[function(require,module,exports){\nconst { WebGLKernelValueBoolean } = require('./kernel-value/boolean');\nconst { WebGLKernelValueFloat } = require('./kernel-value/float');\nconst { WebGLKernelValueInteger } = require('./kernel-value/integer');\n\nconst { WebGLKernelValueHTMLImage } = require('./kernel-value/html-image');\nconst { WebGLKernelValueDynamicHTMLImage } = require('./kernel-value/dynamic-html-image');\n\nconst { WebGLKernelValueHTMLVideo } = require('./kernel-value/html-video');\nconst { WebGLKernelValueDynamicHTMLVideo } = require('./kernel-value/dynamic-html-video');\n\nconst { WebGLKernelValueSingleInput } = require('./kernel-value/single-input');\nconst { WebGLKernelValueDynamicSingleInput } = require('./kernel-value/dynamic-single-input');\n\nconst { WebGLKernelValueUnsignedInput } = require('./kernel-value/unsigned-input');\nconst { WebGLKernelValueDynamicUnsignedInput } = require('./kernel-value/dynamic-unsigned-input');\n\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('./kernel-value/memory-optimized-number-texture');\nconst { WebGLKernelValueDynamicMemoryOptimizedNumberTexture } = require('./kernel-value/dynamic-memory-optimized-number-texture');\n\nconst { WebGLKernelValueNumberTexture } = require('./kernel-value/number-texture');\nconst { WebGLKernelValueDynamicNumberTexture } = require('./kernel-value/dynamic-number-texture');\n\nconst { WebGLKernelValueSingleArray } = require('./kernel-value/single-array');\nconst { WebGLKernelValueDynamicSingleArray } = require('./kernel-value/dynamic-single-array');\n\nconst { WebGLKernelValueSingleArray1DI } = require('./kernel-value/single-array1d-i');\nconst { WebGLKernelValueDynamicSingleArray1DI } = require('./kernel-value/dynamic-single-array1d-i');\n\nconst { WebGLKernelValueSingleArray2DI } = require('./kernel-value/single-array2d-i');\nconst { WebGLKernelValueDynamicSingleArray2DI } = require('./kernel-value/dynamic-single-array2d-i');\n\nconst { WebGLKernelValueSingleArray3DI } = require('./kernel-value/single-array3d-i');\nconst { WebGLKernelValueDynamicSingleArray3DI } = require('./kernel-value/dynamic-single-array3d-i');\n\nconst { WebGLKernelValueSingleArray2 } = require('./kernel-value/single-array2');\nconst { WebGLKernelValueSingleArray3 } = require('./kernel-value/single-array3');\nconst { WebGLKernelValueSingleArray4 } = require('./kernel-value/single-array4');\n\nconst { WebGLKernelValueUnsignedArray } = require('./kernel-value/unsigned-array');\nconst { WebGLKernelValueDynamicUnsignedArray } = require('./kernel-value/dynamic-unsigned-array');\n\nconst kernelValueMaps = {\n  unsigned: {\n    dynamic: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Integer': WebGLKernelValueInteger,\n      'Float': WebGLKernelValueFloat,\n      'Array': WebGLKernelValueDynamicUnsignedArray,\n      'Array(2)': false,\n      'Array(3)': false,\n      'Array(4)': false,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGLKernelValueDynamicUnsignedInput,\n      'NumberTexture': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImage': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Float': WebGLKernelValueFloat,\n      'Integer': WebGLKernelValueInteger,\n      'Array': WebGLKernelValueUnsignedArray,\n      'Array(2)': false,\n      'Array(3)': false,\n      'Array(4)': false,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGLKernelValueUnsignedInput,\n      'NumberTexture': WebGLKernelValueNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueHTMLImage,\n      'HTMLImage': WebGLKernelValueHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueHTMLVideo,\n    }\n  },\n  single: {\n    dynamic: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Integer': WebGLKernelValueInteger,\n      'Float': WebGLKernelValueFloat,\n      'Array': WebGLKernelValueDynamicSingleArray,\n      'Array(2)': WebGLKernelValueSingleArray2,\n      'Array(3)': WebGLKernelValueSingleArray3,\n      'Array(4)': WebGLKernelValueSingleArray4,\n      'Array1D(2)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array1D(3)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array1D(4)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array2D(2)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array2D(3)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array2D(4)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array3D(2)': WebGLKernelValueDynamicSingleArray3DI,\n      'Array3D(3)': WebGLKernelValueDynamicSingleArray3DI,\n      'Array3D(4)': WebGLKernelValueDynamicSingleArray3DI,\n      'Input': WebGLKernelValueDynamicSingleInput,\n      'NumberTexture': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImage': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Float': WebGLKernelValueFloat,\n      'Integer': WebGLKernelValueInteger,\n      'Array': WebGLKernelValueSingleArray,\n      'Array(2)': WebGLKernelValueSingleArray2,\n      'Array(3)': WebGLKernelValueSingleArray3,\n      'Array(4)': WebGLKernelValueSingleArray4,\n      'Array1D(2)': WebGLKernelValueSingleArray1DI,\n      'Array1D(3)': WebGLKernelValueSingleArray1DI,\n      'Array1D(4)': WebGLKernelValueSingleArray1DI,\n      'Array2D(2)': WebGLKernelValueSingleArray2DI,\n      'Array2D(3)': WebGLKernelValueSingleArray2DI,\n      'Array2D(4)': WebGLKernelValueSingleArray2DI,\n      'Array3D(2)': WebGLKernelValueSingleArray3DI,\n      'Array3D(3)': WebGLKernelValueSingleArray3DI,\n      'Array3D(4)': WebGLKernelValueSingleArray3DI,\n      'Input': WebGLKernelValueSingleInput,\n      'NumberTexture': WebGLKernelValueNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueHTMLImage,\n      'HTMLImage': WebGLKernelValueHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueHTMLVideo,\n    }\n  },\n};\n\nfunction lookupKernelValueType(type, dynamic, precision, value) {\n  if (!type) {\n    throw new Error('type missing');\n  }\n  if (!dynamic) {\n    throw new Error('dynamic missing');\n  }\n  if (!precision) {\n    throw new Error('precision missing');\n  }\n  if (value.type) {\n    type = value.type;\n  }\n  const types = kernelValueMaps[precision][dynamic];\n  if (types[type] === false) {\n    return null;\n  } else if (types[type] === undefined) {\n    throw new Error(`Could not find a KernelValue for ${ type }`);\n  }\n  return types[type];\n}\n\nmodule.exports = {\n  lookupKernelValueType,\n  kernelValueMaps,\n};\n},{\"./kernel-value/boolean\":41,\"./kernel-value/dynamic-html-image\":42,\"./kernel-value/dynamic-html-video\":43,\"./kernel-value/dynamic-memory-optimized-number-texture\":44,\"./kernel-value/dynamic-number-texture\":45,\"./kernel-value/dynamic-single-array\":46,\"./kernel-value/dynamic-single-array1d-i\":47,\"./kernel-value/dynamic-single-array2d-i\":48,\"./kernel-value/dynamic-single-array3d-i\":49,\"./kernel-value/dynamic-single-input\":50,\"./kernel-value/dynamic-unsigned-array\":51,\"./kernel-value/dynamic-unsigned-input\":52,\"./kernel-value/float\":53,\"./kernel-value/html-image\":54,\"./kernel-value/html-video\":55,\"./kernel-value/integer\":57,\"./kernel-value/memory-optimized-number-texture\":58,\"./kernel-value/number-texture\":59,\"./kernel-value/single-array\":60,\"./kernel-value/single-array1d-i\":61,\"./kernel-value/single-array2\":62,\"./kernel-value/single-array2d-i\":63,\"./kernel-value/single-array3\":64,\"./kernel-value/single-array3d-i\":65,\"./kernel-value/single-array4\":66,\"./kernel-value/single-input\":67,\"./kernel-value/unsigned-array\":68,\"./kernel-value/unsigned-input\":69}],40:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\nconst { Input } = require('../../../input');\n\nclass WebGLKernelArray extends WebGLKernelValue {\n  checkSize(width, height) {\n    if (!this.kernel.validate) return;\n    const { maxTextureSize } = this.kernel.constructor.features;\n    if (width > maxTextureSize || height > maxTextureSize) {\n      if (width > height) {\n        throw new Error(`Argument texture width of ${width} larger than maximum size of ${maxTextureSize} for your GPU`);\n      } else if (width < height) {\n        throw new Error(`Argument texture height of ${height} larger than maximum size of ${maxTextureSize} for your GPU`);\n      } else {\n        throw new Error(`Argument texture height and width of ${height} larger than maximum size of ${maxTextureSize} for your GPU`);\n      }\n    }\n  }\n\n  setup() {\n    this.requestTexture();\n    this.setupTexture();\n    this.defineTexture();\n  }\n\n  requestTexture() {\n    this.texture = this.onRequestTexture();\n  }\n\n  defineTexture() {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  }\n\n  setupTexture() {\n    this.contextHandle = this.onRequestContextHandle();\n    this.index = this.onRequestIndex();\n    this.dimensionsId = this.id + 'Dim';\n    this.sizeId = this.id + 'Size';\n  }\n\n  getBitRatio(value) {\n    if (Array.isArray(value[0])) {\n      return this.getBitRatio(value[0]);\n    } else if (value.constructor === Input) {\n      return this.getBitRatio(value.value);\n    }\n    switch (value.constructor) {\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Int8Array:\n        return 1;\n      case Uint16Array:\n      case Int16Array:\n        return 2;\n      case Float32Array:\n      case Int32Array:\n      default:\n        return 4;\n    }\n  }\n\n  destroy() {\n    if (this.prevArg) {\n      this.prevArg.delete();\n    }\n    this.context.deleteTexture(this.texture);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelArray\n};\n},{\"../../../input\":110,\"./index\":56}],41:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueBoolean extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const bool ${this.id} = ${value};\\n`;\n    }\n    return `uniform bool ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueBoolean\n};\n},{\"../../../utils\":114,\"./index\":56}],42:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueHTMLImage } = require('./html-image');\n\nclass WebGLKernelValueDynamicHTMLImage extends WebGLKernelValueHTMLImage {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    const { width, height } = value;\n    this.checkSize(width, height);\n    this.dimensions = [width, height, 1];\n    this.textureSize = [width, height];\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicHTMLImage\n};\n},{\"../../../utils\":114,\"./html-image\":54}],43:[function(require,module,exports){\nconst { WebGLKernelValueDynamicHTMLImage } = require('./dynamic-html-image');\n\nclass WebGLKernelValueDynamicHTMLVideo extends WebGLKernelValueDynamicHTMLImage {}\n\nmodule.exports = {\n  WebGLKernelValueDynamicHTMLVideo\n};\n},{\"./dynamic-html-image\":42}],44:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('./memory-optimized-number-texture');\n\nclass WebGLKernelValueDynamicMemoryOptimizedNumberTexture extends WebGLKernelValueMemoryOptimizedNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    this.dimensions = inputTexture.dimensions;\n    this.checkSize(inputTexture.size[0], inputTexture.size[1]);\n    this.textureSize = inputTexture.size;\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(inputTexture);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"./memory-optimized-number-texture\":58}],45:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueNumberTexture } = require('./number-texture');\n\nclass WebGLKernelValueDynamicNumberTexture extends WebGLKernelValueNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = value.dimensions;\n    this.checkSize(value.size[0], value.size[1]);\n    this.textureSize = value.size;\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicNumberTexture\n};\n},{\"../../../utils\":114,\"./number-texture\":59}],46:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray } = require('./single-array');\n\nclass WebGLKernelValueDynamicSingleArray extends WebGLKernelValueSingleArray {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray\n};\n},{\"../../../utils\":114,\"./single-array\":60}],47:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray1DI } = require('./single-array1d-i');\n\nclass WebGLKernelValueDynamicSingleArray1DI extends WebGLKernelValueSingleArray1DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray1DI\n};\n},{\"../../../utils\":114,\"./single-array1d-i\":61}],48:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray2DI } = require('./single-array2d-i');\n\nclass WebGLKernelValueDynamicSingleArray2DI extends WebGLKernelValueSingleArray2DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray2DI\n};\n},{\"../../../utils\":114,\"./single-array2d-i\":63}],49:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray3DI } = require('./single-array3d-i');\n\nclass WebGLKernelValueDynamicSingleArray3DI extends WebGLKernelValueSingleArray3DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray3DI\n};\n},{\"../../../utils\":114,\"./single-array3d-i\":65}],50:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleInput } = require('./single-input');\n\nclass WebGLKernelValueDynamicSingleInput extends WebGLKernelValueSingleInput {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleInput\n};\n},{\"../../../utils\":114,\"./single-input\":67}],51:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedArray } = require('./unsigned-array');\n\nclass WebGLKernelValueDynamicUnsignedArray extends WebGLKernelValueUnsignedArray {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    const Type = this.getTransferArrayType(value);\n    this.preUploadValue = new Type(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicUnsignedArray\n};\n},{\"../../../utils\":114,\"./unsigned-array\":68}],52:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedInput } = require('./unsigned-input');\n\nclass WebGLKernelValueDynamicUnsignedInput extends WebGLKernelValueUnsignedInput {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    const Type = this.getTransferArrayType(value.value);\n    this.preUploadValue = new Type(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicUnsignedInput\n};\n},{\"../../../utils\":114,\"./unsigned-input\":69}],53:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueFloat extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      if (Number.isInteger(value)) {\n        return `const float ${this.id} = ${value}.0;\\n`;\n      }\n      return `const float ${this.id} = ${value};\\n`;\n    }\n    return `uniform float ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1f(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueFloat\n};\n},{\"../../../utils\":114,\"./index\":56}],54:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueHTMLImage extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const { width, height } = value;\n    this.checkSize(width, height);\n    this.dimensions = [width, height, 1];\n    this.textureSize = [width, height];\n    this.uploadValue = value;\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputImage) {\n    if (inputImage.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputImage.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue = inputImage);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueHTMLImage\n};\n},{\"../../../utils\":114,\"./array\":40}],55:[function(require,module,exports){\nconst { WebGLKernelValueHTMLImage } = require('./html-image');\n\nclass WebGLKernelValueHTMLVideo extends WebGLKernelValueHTMLImage {}\n\nmodule.exports = {\n  WebGLKernelValueHTMLVideo\n};\n},{\"./html-image\":54}],56:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { KernelValue } = require('../../kernel-value');\n\nclass WebGLKernelValue extends KernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.dimensionsId = null;\n    this.sizeId = null;\n    this.initialValueConstructor = value.constructor;\n    this.onRequestTexture = settings.onRequestTexture;\n    this.onRequestIndex = settings.onRequestIndex;\n    this.uploadValue = null;\n    this.textureSize = null;\n    this.bitRatio = null;\n    this.prevArg = null;\n  }\n\n  get id() {\n    return `${this.origin}_${utils.sanitizeName(this.name)}`;\n  }\n\n  setup() {}\n\n  getTransferArrayType(value) {\n    if (Array.isArray(value[0])) {\n      return this.getTransferArrayType(value[0]);\n    }\n    switch (value.constructor) {\n      case Array:\n      case Int32Array:\n      case Int16Array:\n      case Int8Array:\n        return Float32Array;\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Uint16Array:\n      case Uint32Array:\n      case Float32Array:\n      case Float64Array:\n        return value.constructor;\n    }\n    console.warn('Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros');\n    return value.constructor;\n  }\n\n  getStringValueHandler() {\n    throw new Error(`\"getStringValueHandler\" not implemented on ${this.constructor.name}`);\n  }\n\n  getVariablePrecisionString() {\n    return this.kernel.getVariablePrecisionString(this.textureSize || undefined, this.tactic || undefined);\n  }\n\n  destroy() {}\n}\n\nmodule.exports = {\n  WebGLKernelValue\n};\n},{\"../../../utils\":114,\"../../kernel-value\":35}],57:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueInteger extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const int ${this.id} = ${ parseInt(value) };\\n`;\n    }\n    return `uniform int ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueInteger\n};\n},{\"../../../utils\":114,\"./index\":56}],58:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nconst sameError = `Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()`;\n\nclass WebGLKernelValueMemoryOptimizedNumberTexture extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const [width, height] = value.size;\n    this.checkSize(width, height);\n    this.dimensions = value.dimensions;\n    this.textureSize = value.size;\n    this.uploadValue = value.texture;\n    this.forceUploadEachRun = true;\n  }\n\n  setup() {\n    this.setupTexture();\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName}.texture;\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    if (inputTexture.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputTexture.constructor);\n      return;\n    }\n    if (this.checkContext && inputTexture.context !== this.context) {\n      throw new Error(`Value ${this.name} (${this.type}) must be from same context`);\n    }\n\n    const { kernel, context: gl } = this;\n    if (kernel.pipeline) {\n      if (kernel.immutable) {\n        kernel.updateTextureArgumentRefs(this, inputTexture);\n      } else {\n        if (kernel.texture.texture === inputTexture.texture) {\n          throw new Error(sameError);\n        } else if (kernel.mappedTextures) {\n          const { mappedTextures } = kernel;\n          for (let i = 0; i < mappedTextures.length; i++) {\n            if (mappedTextures[i].texture === inputTexture.texture) {\n              throw new Error(sameError);\n            }\n          }\n        }\n      }\n    }\n\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.uploadValue = inputTexture.texture);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueMemoryOptimizedNumberTexture,\n  sameError\n};\n},{\"../../../utils\":114,\"./array\":40}],59:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\nconst { sameError } = require('./memory-optimized-number-texture');\n\nclass WebGLKernelValueNumberTexture extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const [width, height] = value.size;\n    this.checkSize(width, height);\n    const { size: textureSize, dimensions } = value;\n    this.bitRatio = this.getBitRatio(value);\n    this.dimensions = dimensions;\n    this.textureSize = textureSize;\n    this.uploadValue = value.texture;\n    this.forceUploadEachRun = true;\n  }\n\n  setup() {\n    this.setupTexture();\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName}.texture;\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    if (inputTexture.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputTexture.constructor);\n      return;\n    }\n    if (this.checkContext && inputTexture.context !== this.context) {\n      throw new Error(`Value ${this.name} (${this.type}) must be from same context`);\n    }\n\n    const { kernel, context: gl } = this;\n    if (kernel.pipeline) {\n      if (kernel.immutable) {\n        kernel.updateTextureArgumentRefs(this, inputTexture);\n      } else {\n        if (kernel.texture.texture === inputTexture.texture) {\n          throw new Error(sameError);\n        } else if (kernel.mappedTextures) {\n          const { mappedTextures } = kernel;\n          for (let i = 0; i < mappedTextures.length; i++) {\n            if (mappedTextures[i].texture === inputTexture.texture) {\n              throw new Error(sameError);\n            }\n          }\n        }\n      }\n    }\n\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.uploadValue = inputTexture.texture);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueNumberTexture\n};\n},{\"../../../utils\":114,\"./array\":40,\"./memory-optimized-number-texture\":58}],60:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray\n};\n},{\"../../../utils\":114,\"./array\":40}],61:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray1DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], 1, 1]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten2dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray1DI\n};\n},{\"../../../utils\":114,\"./array\":40}],62:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueSingleArray2 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec2 ${this.id} = vec2(${value[0]},${value[1]});\\n`;\n    }\n    return `uniform vec2 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform2fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray2\n};\n},{\"../../../utils\":114,\"./index\":56}],63:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray2DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], valueDimensions[2], 1]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten3dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray2DI\n};\n},{\"../../../utils\":114,\"./array\":40}],64:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueSingleArray3 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec3 ${this.id} = vec3(${value[0]},${value[1]},${value[2]});\\n`;\n    }\n    return `uniform vec3 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform3fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray3\n};\n},{\"../../../utils\":114,\"./index\":56}],65:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray3DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], valueDimensions[2], valueDimensions[3]]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten4dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray3DI\n};\n},{\"../../../utils\":114,\"./array\":40}],66:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueSingleArray4 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec4 ${this.id} = vec4(${value[0]},${value[1]},${value[2]},${value[3]});\\n`;\n    }\n    return `uniform vec4 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform4fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray4\n};\n},{\"../../../utils\":114,\"./index\":56}],67:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleInput extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}.value, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    if (input.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(input.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleInput\n};\n},{\"../../../utils\":114,\"./array\":40}],68:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueUnsignedArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = this.getBitRatio(value);\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.TranserArrayType = this.getTransferArrayType(value);\n    this.preUploadValue = new this.TranserArrayType(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,\n      `const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,\n      `flattenTo(${this.varName}, preUploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.preUploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueUnsignedArray\n};\n},{\"../../../utils\":114,\"./array\":40}],69:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueUnsignedInput extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = this.getBitRatio(value);\n    const [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.TranserArrayType = this.getTransferArrayType(value.value);\n    this.preUploadValue = new this.TranserArrayType(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,\n      `const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,\n      `flattenTo(${this.varName}.value, preUploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    if (input.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.preUploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueUnsignedInput\n};\n},{\"../../../utils\":114,\"./array\":40}],70:[function(require,module,exports){\nconst { GLKernel } = require('../gl/kernel');\nconst { FunctionBuilder } = require('../function-builder');\nconst { WebGLFunctionNode } = require('./function-node');\nconst { utils } = require('../../utils');\nconst mrud = require('../../plugins/math-random-uniformly-distributed');\nconst { fragmentShader } = require('./fragment-shader');\nconst { vertexShader } = require('./vertex-shader');\nconst { glKernelString } = require('../gl/kernel-string');\nconst { lookupKernelValueType } = require('./kernel-value-maps');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\nlet features = null;\n\nconst plugins = [mrud];\nconst canvases = [];\nconst maxTexSizes = {};\n\n\nclass WebGLKernel extends GLKernel {\n  static get isSupported() {\n    if (isSupported !== null) {\n      return isSupported;\n    }\n    this.setupFeatureChecks();\n    isSupported = this.isContextMatch(testContext);\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    if (typeof document !== 'undefined') {\n      testCanvas = document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      testCanvas = new OffscreenCanvas(0, 0);\n    }\n    if (!testCanvas) return;\n    testContext = testCanvas.getContext('webgl') || testCanvas.getContext('experimental-webgl');\n    if (!testContext || !testContext.getExtension) return;\n    testExtensions = {\n      OES_texture_float: testContext.getExtension('OES_texture_float'),\n      OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: testContext.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: testContext.getExtension('WEBGL_draw_buffers'),\n    };\n    features = this.getFeatures();\n  }\n\n  static isContextMatch(context) {\n    if (typeof WebGLRenderingContext !== 'undefined') {\n      return context instanceof WebGLRenderingContext;\n    }\n    return false;\n  }\n\n  static getIsTextureFloat() {\n    return Boolean(testExtensions.OES_texture_float);\n  }\n\n  static getIsDrawBuffers() {\n    return Boolean(testExtensions.WEBGL_draw_buffers);\n  }\n\n  static getChannelCount() {\n    return testExtensions.WEBGL_draw_buffers ?\n      testContext.getParameter(testExtensions.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL) :\n      1;\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static lookupKernelValueType(type, dynamic, precision, value) {\n    return lookupKernelValueType(type, dynamic, precision, value);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  static get fragmentShader() {\n    return fragmentShader;\n  }\n\n  static get vertexShader() {\n    return vertexShader;\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.program = null;\n    this.pipeline = settings.pipeline;\n    this.endianness = utils.systemEndianness();\n    this.extensions = {};\n    this.argumentTextureCount = 0;\n    this.constantTextureCount = 0;\n    this.fragShader = null;\n    this.vertShader = null;\n    this.drawBuffersMap = null;\n\n    this.maxTexSize = null;\n    this.onRequestSwitchKernel = null;\n    this.removeIstanbulCoverage = true;\n\n    this.texture = null;\n    this.mappedTextures = null;\n    this.mergeSettings(source.settings || settings);\n\n    this.threadDim = null;\n    this.framebuffer = null;\n    this.buffer = null;\n\n    this.textureCache = [];\n    this.programUniformLocationCache = {};\n    this.uniform1fCache = {};\n    this.uniform1iCache = {};\n    this.uniform2fCache = {};\n    this.uniform2fvCache = {};\n    this.uniform2ivCache = {};\n    this.uniform3fvCache = {};\n    this.uniform3ivCache = {};\n    this.uniform4fvCache = {};\n    this.uniform4ivCache = {};\n  }\n\n  initCanvas() {\n    if (typeof document !== 'undefined') {\n      const canvas = document.createElement('canvas');\n      canvas.width = 2;\n      canvas.height = 2;\n      return canvas;\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      return new OffscreenCanvas(0, 0);\n    }\n  }\n\n  initContext() {\n    const settings = {\n      alpha: false,\n      depth: false,\n      antialias: false\n    };\n    return this.canvas.getContext('webgl', settings) || this.canvas.getContext('experimental-webgl', settings);\n  }\n\n  initPlugins(settings) {\n    const pluginsToUse = [];\n    const { source } = this;\n    if (typeof source === 'string') {\n      for (let i = 0; i < plugins.length; i++) {\n        const plugin = plugins[i];\n        if (source.match(plugin.functionMatch)) {\n          pluginsToUse.push(plugin);\n        }\n      }\n    } else if (typeof source === 'object') {\n      if (settings.pluginNames) { \n        for (let i = 0; i < plugins.length; i++) {\n          const plugin = plugins[i];\n          const usePlugin = settings.pluginNames.some(pluginName => pluginName === plugin.name);\n          if (usePlugin) {\n            pluginsToUse.push(plugin);\n          }\n        }\n      }\n    }\n    return pluginsToUse;\n  }\n\n  initExtensions() {\n    this.extensions = {\n      OES_texture_float: this.context.getExtension('OES_texture_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: this.context.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: this.context.getExtension('WEBGL_draw_buffers'),\n      WEBGL_color_buffer_float: this.context.getExtension('WEBGL_color_buffer_float'),\n    };\n  }\n\n  validateSettings(args) {\n    if (!this.validate) {\n      this.texSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, this.output);\n      return;\n    }\n\n    const { features } = this.constructor;\n\n    if (this.optimizeFloatMemory === true && !features.isTextureFloat) {\n      throw new Error('Float textures are not supported');\n    } else if (this.precision === 'single' && !features.isFloatRead) {\n      throw new Error('Single precision not supported');\n    } else if (!this.graphical && this.precision === null && features.isTextureFloat) {\n      this.precision = features.isFloatRead ? 'single' : 'unsigned';\n    }\n\n    if (this.subKernels && this.subKernels.length > 0 && !this.extensions.WEBGL_draw_buffers) {\n      throw new Error('could not instantiate draw buffers extension');\n    }\n\n    if (this.fixIntegerDivisionAccuracy === null) {\n      this.fixIntegerDivisionAccuracy = !features.isIntegerDivisionAccurate;\n    } else if (this.fixIntegerDivisionAccuracy && features.isIntegerDivisionAccurate) {\n      this.fixIntegerDivisionAccuracy = false;\n    }\n\n    this.checkOutput();\n\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      switch (argType) {\n        case 'Array':\n          this.output = utils.getDimensions(argType);\n          break;\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n          this.output = args[0].output;\n          break;\n        default:\n          throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n\n      if (this.precision === 'precision') {\n        this.precision = 'unsigned';\n        console.warn('Cannot use graphical mode and single precision at the same time');\n      }\n\n      this.texSize = utils.clone(this.output);\n      return;\n    } else if (this.precision === null && features.isTextureFloat) {\n      this.precision = 'single';\n    }\n\n    this.texSize = utils.getKernelTextureSize({\n      optimizeFloatMemory: this.optimizeFloatMemory,\n      precision: this.precision,\n    }, this.output);\n\n    this.checkTextureSize();\n  }\n\n  updateMaxTexSize() {\n    const { texSize, canvas } = this;\n    if (this.maxTexSize === null) {\n      let canvasIndex = canvases.indexOf(canvas);\n      if (canvasIndex === -1) {\n        canvasIndex = canvases.length;\n        canvases.push(canvas);\n        maxTexSizes[canvasIndex] = [texSize[0], texSize[1]];\n      }\n      this.maxTexSize = maxTexSizes[canvasIndex];\n    }\n    if (this.maxTexSize[0] < texSize[0]) {\n      this.maxTexSize[0] = texSize[0];\n    }\n    if (this.maxTexSize[1] < texSize[1]) {\n      this.maxTexSize[1] = texSize[1];\n    }\n  }\n\n  setupArguments(args) {\n    this.kernelArguments = [];\n    this.argumentTextureCount = 0;\n    const needsArgumentTypes = this.argumentTypes === null;\n    if (needsArgumentTypes) {\n      this.argumentTypes = [];\n    }\n    this.argumentSizes = [];\n    this.argumentBitRatios = [];\n\n    if (args.length < this.argumentNames.length) {\n      throw new Error('not enough arguments for kernel');\n    } else if (args.length > this.argumentNames.length) {\n      throw new Error('too many arguments for kernel');\n    }\n\n    const { context: gl } = this;\n    let textureIndexes = 0;\n\n    const onRequestTexture = () => {\n      return this.createTexture();\n    };\n    const onRequestIndex = () => {\n      return textureIndexes++;\n    };\n    const onUpdateValueMismatch = (constructor) => {\n      this.switchKernels({\n        type: 'argumentMismatch',\n        needed: constructor\n      });\n    };\n    const onRequestContextHandle = () => {\n      return gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount++;\n    };\n\n    for (let index = 0; index < args.length; index++) {\n      const value = args[index];\n      const name = this.argumentNames[index];\n      let type;\n      if (needsArgumentTypes) {\n        type = utils.getVariableType(value, this.strictIntegers);\n        this.argumentTypes.push(type);\n      } else {\n        type = this.argumentTypes[index];\n      }\n      const KernelValue = this.constructor.lookupKernelValueType(type, this.dynamicArguments ? 'dynamic' : 'static', this.precision, args[index]);\n      if (KernelValue === null) {\n        return this.requestFallback(args);\n      }\n      const kernelArgument = new KernelValue(value, {\n        name,\n        type,\n        tactic: this.tactic,\n        origin: 'user',\n        context: gl,\n        checkContext: this.checkContext,\n        kernel: this,\n        strictIntegers: this.strictIntegers,\n        onRequestTexture,\n        onRequestIndex,\n        onUpdateValueMismatch,\n        onRequestContextHandle,\n      });\n      this.kernelArguments.push(kernelArgument);\n      kernelArgument.setup();\n      this.argumentSizes.push(kernelArgument.textureSize);\n      this.argumentBitRatios[index] = kernelArgument.bitRatio;\n    }\n  }\n\n  createTexture() {\n    const texture = this.context.createTexture();\n    this.textureCache.push(texture);\n    return texture;\n  }\n\n  setupConstants(args) {\n    const { context: gl } = this;\n    this.kernelConstants = [];\n    this.forceUploadKernelConstants = [];\n    let needsConstantTypes = this.constantTypes === null;\n    if (needsConstantTypes) {\n      this.constantTypes = {};\n    }\n    this.constantBitRatios = {};\n    let textureIndexes = 0;\n    for (const name in this.constants) {\n      const value = this.constants[name];\n      let type;\n      if (needsConstantTypes) {\n        type = utils.getVariableType(value, this.strictIntegers);\n        this.constantTypes[name] = type;\n      } else {\n        type = this.constantTypes[name];\n      }\n      const KernelValue = this.constructor.lookupKernelValueType(type, 'static', this.precision, value);\n      if (KernelValue === null) {\n        return this.requestFallback(args);\n      }\n      const kernelValue = new KernelValue(value, {\n        name,\n        type,\n        tactic: this.tactic,\n        origin: 'constants',\n        context: this.context,\n        checkContext: this.checkContext,\n        kernel: this,\n        strictIntegers: this.strictIntegers,\n        onRequestTexture: () => {\n          return this.createTexture();\n        },\n        onRequestIndex: () => {\n          return textureIndexes++;\n        },\n        onRequestContextHandle: () => {\n          return gl.TEXTURE0 + this.constantTextureCount++;\n        }\n      });\n      this.constantBitRatios[name] = kernelValue.bitRatio;\n      this.kernelConstants.push(kernelValue);\n      kernelValue.setup();\n      if (kernelValue.forceUploadEachRun) {\n        this.forceUploadKernelConstants.push(kernelValue);\n      }\n    }\n  }\n\n  build() {\n    if (this.built) return;\n    this.initExtensions();\n    this.validateSettings(arguments);\n    this.setupConstants(arguments);\n    if (this.fallbackRequested) return;\n    this.setupArguments(arguments);\n    if (this.fallbackRequested) return;\n    this.updateMaxTexSize();\n    this.translateSource();\n    const failureResult = this.pickRenderStrategy(arguments);\n    if (failureResult) {\n      return failureResult;\n    }\n    const { texSize, context: gl, canvas } = this;\n    gl.enable(gl.SCISSOR_TEST);\n    if (this.pipeline && this.precision === 'single') {\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      canvas.width = this.maxTexSize[0];\n      canvas.height = this.maxTexSize[1];\n    } else {\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      canvas.width = this.maxTexSize[0];\n      canvas.height = this.maxTexSize[1];\n    }\n    const threadDim = this.threadDim = Array.from(this.output);\n    while (threadDim.length < 3) {\n      threadDim.push(1);\n    }\n\n    const compiledVertexShader = this.getVertexShader(arguments);\n    const vertShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertShader, compiledVertexShader);\n    gl.compileShader(vertShader);\n    this.vertShader = vertShader;\n\n    const compiledFragmentShader = this.getFragmentShader(arguments);\n    const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragShader, compiledFragmentShader);\n    gl.compileShader(fragShader);\n    this.fragShader = fragShader;\n\n    if (this.debug) {\n      console.log('GLSL Shader Output:');\n      console.log(compiledFragmentShader);\n    }\n\n    if (!gl.getShaderParameter(vertShader, gl.COMPILE_STATUS)) {\n      throw new Error('Error compiling vertex shader: ' + gl.getShaderInfoLog(vertShader));\n    }\n    if (!gl.getShaderParameter(fragShader, gl.COMPILE_STATUS)) {\n      throw new Error('Error compiling fragment shader: ' + gl.getShaderInfoLog(fragShader));\n    }\n\n    const program = this.program = gl.createProgram();\n    gl.attachShader(program, vertShader);\n    gl.attachShader(program, fragShader);\n    gl.linkProgram(program);\n    this.framebuffer = gl.createFramebuffer();\n    this.framebuffer.width = texSize[0];\n    this.framebuffer.height = texSize[1];\n\n    const vertices = new Float32Array([-1, -1,\n      1, -1, -1, 1,\n      1, 1\n    ]);\n    const texCoords = new Float32Array([\n      0, 0,\n      1, 0,\n      0, 1,\n      1, 1\n    ]);\n\n    const texCoordOffset = vertices.byteLength;\n\n    let buffer = this.buffer;\n    if (!buffer) {\n      buffer = this.buffer = gl.createBuffer();\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n      gl.bufferData(gl.ARRAY_BUFFER, vertices.byteLength + texCoords.byteLength, gl.STATIC_DRAW);\n    } else {\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    }\n\n    gl.bufferSubData(gl.ARRAY_BUFFER, 0, vertices);\n    gl.bufferSubData(gl.ARRAY_BUFFER, texCoordOffset, texCoords);\n\n    const aPosLoc = gl.getAttribLocation(this.program, 'aPos');\n    gl.enableVertexAttribArray(aPosLoc);\n    gl.vertexAttribPointer(aPosLoc, 2, gl.FLOAT, false, 0, 0);\n    const aTexCoordLoc = gl.getAttribLocation(this.program, 'aTexCoord');\n    gl.enableVertexAttribArray(aTexCoordLoc);\n    gl.vertexAttribPointer(aTexCoordLoc, 2, gl.FLOAT, false, 0, texCoordOffset);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n\n    let i = 0;\n    gl.useProgram(this.program);\n    for (let p in this.constants) {\n      this.kernelConstants[i++].updateValue(this.constants[p]);\n    }\n\n    this._setupOutputTexture();\n    if (\n      this.subKernels !== null &&\n      this.subKernels.length > 0\n    ) {\n      this._mappedTextureSwitched = {};\n      this._setupSubOutputTextures();\n    }\n    this.buildSignature(arguments);\n    this.built = true;\n  }\n\n  translateSource() {\n    const functionBuilder = FunctionBuilder.fromKernel(this, WebGLFunctionNode, {\n      fixIntegerDivisionAccuracy: this.fixIntegerDivisionAccuracy\n    });\n    this.translatedSource = functionBuilder.getPrototypeString('kernel');\n    this.setupReturnTypes(functionBuilder);\n  }\n\n  setupReturnTypes(functionBuilder) {\n    if (!this.graphical && !this.returnType) {\n      this.returnType = functionBuilder.getKernelResultType();\n    }\n\n    if (this.subKernels && this.subKernels.length > 0) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        const subKernel = this.subKernels[i];\n        if (!subKernel.returnType) {\n          subKernel.returnType = functionBuilder.getSubKernelResultType(i);\n        }\n      }\n    }\n  }\n\n  run() {\n    const { kernelArguments, texSize, forceUploadKernelConstants, context: gl } = this;\n\n    gl.useProgram(this.program);\n    gl.scissor(0, 0, texSize[0], texSize[1]);\n    if (this.dynamicOutput) {\n      this.setUniform3iv('uOutputDim', new Int32Array(this.threadDim));\n      this.setUniform2iv('uTexSize', texSize);\n    }\n\n    this.setUniform2f('ratio', texSize[0] / this.maxTexSize[0], texSize[1] / this.maxTexSize[1]);\n\n    for (let i = 0; i < forceUploadKernelConstants.length; i++) {\n      const constant = forceUploadKernelConstants[i];\n      constant.updateValue(this.constants[constant.name]);\n      if (this.switchingKernels) return;\n    }\n    for (let i = 0; i < kernelArguments.length; i++) {\n      kernelArguments[i].updateValue(arguments[i]);\n      if (this.switchingKernels) return;\n    }\n\n    if (this.plugins) {\n      for (let i = 0; i < this.plugins.length; i++) {\n        const plugin = this.plugins[i];\n        if (plugin.onBeforeRun) {\n          plugin.onBeforeRun(this);\n        }\n      }\n    }\n\n    if (this.graphical) {\n      if (this.pipeline) {\n        gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n        if (this.immutable) {\n          this._replaceOutputTexture();\n        }\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        return this.immutable ? this.texture.clone() : this.texture;\n      }\n      gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n      return;\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n    if (this.immutable) {\n      this._replaceOutputTexture();\n    }\n\n    if (this.subKernels !== null) {\n      if (this.immutable) {\n        this._replaceSubOutputTextures();\n      }\n      this.drawBuffers();\n    }\n\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  }\n\n  drawBuffers() {\n    this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap);\n  }\n\n  getInternalFormat() {\n    return this.context.RGBA;\n  }\n  getTextureFormat() {\n    const { context: gl } = this;\n    switch (this.getInternalFormat()) {\n      case gl.RGBA:\n        return gl.RGBA;\n      default:\n        throw new Error('Unknown internal format');\n    }\n  }\n\n  _replaceOutputTexture() {\n    if (this.texture.beforeMutate() || this._textureSwitched) {\n      const gl = this.context;\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      this._textureSwitched = false;\n    }\n  }\n\n  _setupOutputTexture() {\n    const gl = this.context;\n    const texSize = this.texSize;\n    if (this.texture) {\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      return;\n    }\n    const texture = this.createTexture();\n    gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const format = this.getInternalFormat();\n    if (this.precision === 'single') {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, gl.RGBA, gl.FLOAT, null);\n    } else {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, format, gl.UNSIGNED_BYTE, null);\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    this.texture = new this.TextureConstructor({\n      texture,\n      size: texSize,\n      dimensions: this.threadDim,\n      output: this.output,\n      context: this.context,\n      internalFormat: this.getInternalFormat(),\n      textureFormat: this.getTextureFormat(),\n      kernel: this,\n    });\n  }\n\n  _replaceSubOutputTextures() {\n    const gl = this.context;\n    for (let i = 0; i < this.mappedTextures.length; i++) {\n      const mappedTexture = this.mappedTextures[i];\n      if (mappedTexture.beforeMutate() || this._mappedTextureSwitched[i]) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, mappedTexture.texture, 0);\n        this._mappedTextureSwitched[i] = false;\n      }\n    }\n  }\n\n  _setupSubOutputTextures() {\n    const gl = this.context;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, this.mappedTextures[i].texture, 0);\n      }\n      return;\n    }\n    const texSize = this.texSize;\n    this.drawBuffersMap = [gl.COLOR_ATTACHMENT0];\n    this.mappedTextures = [];\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const texture = this.createTexture();\n      this.drawBuffersMap.push(gl.COLOR_ATTACHMENT0 + i + 1);\n      gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount + i);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      if (this.precision === 'single') {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.FLOAT, null);\n      } else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      }\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, texture, 0);\n\n      this.mappedTextures.push(new this.TextureConstructor({\n        texture,\n        size: texSize,\n        dimensions: this.threadDim,\n        output: this.output,\n        context: this.context,\n        internalFormat: this.getInternalFormat(),\n        textureFormat: this.getTextureFormat(),\n        kernel: this,\n      }));\n    }\n  }\n\n  setUniform1f(name, value) {\n    if (this.uniform1fCache.hasOwnProperty(name)) {\n      const cache = this.uniform1fCache[name];\n      if (value === cache) {\n        return;\n      }\n    }\n    this.uniform1fCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform1f(loc, value);\n  }\n\n  setUniform1i(name, value) {\n    if (this.uniform1iCache.hasOwnProperty(name)) {\n      const cache = this.uniform1iCache[name];\n      if (value === cache) {\n        return;\n      }\n    }\n    this.uniform1iCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform1i(loc, value);\n  }\n\n  setUniform2f(name, value1, value2) {\n    if (this.uniform2fCache.hasOwnProperty(name)) {\n      const cache = this.uniform2fCache[name];\n      if (\n        value1 === cache[0] &&\n        value2 === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2fCache[name] = [value1, value2];\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2f(loc, value1, value2);\n  }\n\n  setUniform2fv(name, value) {\n    if (this.uniform2fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform2fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2fv(loc, value);\n  }\n\n  setUniform2iv(name, value) {\n    if (this.uniform2ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform2ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2iv(loc, value);\n  }\n\n  setUniform3fv(name, value) {\n    if (this.uniform3fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform3fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2]\n      ) {\n        return;\n      }\n    }\n    this.uniform3fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform3fv(loc, value);\n  }\n\n  setUniform3iv(name, value) {\n    if (this.uniform3ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform3ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2]\n      ) {\n        return;\n      }\n    }\n    this.uniform3ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform3iv(loc, value);\n  }\n\n  setUniform4fv(name, value) {\n    if (this.uniform4fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform4fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2] &&\n        value[3] === cache[3]\n      ) {\n        return;\n      }\n    }\n    this.uniform4fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform4fv(loc, value);\n  }\n\n  setUniform4iv(name, value) {\n    if (this.uniform4ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform4ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2] &&\n        value[3] === cache[3]\n      ) {\n        return;\n      }\n    }\n    this.uniform4ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform4iv(loc, value);\n  }\n\n  getUniformLocation(name) {\n    if (this.programUniformLocationCache.hasOwnProperty(name)) {\n      return this.programUniformLocationCache[name];\n    }\n    return this.programUniformLocationCache[name] = this.context.getUniformLocation(this.program, name);\n  }\n\n  _getFragShaderArtifactMap(args) {\n    return {\n      HEADER: this._getHeaderString(),\n      LOOP_MAX: this._getLoopMaxString(),\n      PLUGINS: this._getPluginsString(),\n      CONSTANTS: this._getConstantsString(),\n      DECODE32_ENDIANNESS: this._getDecode32EndiannessString(),\n      ENCODE32_ENDIANNESS: this._getEncode32EndiannessString(),\n      DIVIDE_WITH_INTEGER_CHECK: this._getDivideWithIntegerCheckString(),\n      INJECTED_NATIVE: this._getInjectedNative(),\n      MAIN_CONSTANTS: this._getMainConstantsString(),\n      MAIN_ARGUMENTS: this._getMainArgumentsString(args),\n      KERNEL: this.getKernelString(),\n      MAIN_RESULT: this.getMainResultString(),\n      FLOAT_TACTIC_DECLARATION: this.getFloatTacticDeclaration(),\n      INT_TACTIC_DECLARATION: this.getIntTacticDeclaration(),\n      SAMPLER_2D_TACTIC_DECLARATION: this.getSampler2DTacticDeclaration(),\n      SAMPLER_2D_ARRAY_TACTIC_DECLARATION: this.getSampler2DArrayTacticDeclaration(),\n    };\n  }\n\n  _getVertShaderArtifactMap(args) {\n    return {\n      FLOAT_TACTIC_DECLARATION: this.getFloatTacticDeclaration(),\n      INT_TACTIC_DECLARATION: this.getIntTacticDeclaration(),\n      SAMPLER_2D_TACTIC_DECLARATION: this.getSampler2DTacticDeclaration(),\n      SAMPLER_2D_ARRAY_TACTIC_DECLARATION: this.getSampler2DArrayTacticDeclaration(),\n    };\n  }\n\n  _getHeaderString() {\n    return (\n      this.subKernels !== null ?\n      '#extension GL_EXT_draw_buffers : require\\n' :\n      ''\n    );\n  }\n\n  _getLoopMaxString() {\n    return (\n      this.loopMaxIterations ?\n      ` ${parseInt(this.loopMaxIterations)};\\n` :\n      ' 1000;\\n'\n    );\n  }\n\n  _getPluginsString() {\n    if (!this.plugins) return '\\n';\n    return this.plugins.map(plugin => plugin.source && this.source.match(plugin.functionMatch) ? plugin.source : '').join('\\n');\n  }\n\n  _getConstantsString() {\n    const result = [];\n    const { threadDim, texSize } = this;\n    if (this.dynamicOutput) {\n      result.push(\n        'uniform ivec3 uOutputDim',\n        'uniform ivec2 uTexSize'\n      );\n    } else {\n      result.push(\n        `ivec3 uOutputDim = ivec3(${threadDim[0]}, ${threadDim[1]}, ${threadDim[2]})`,\n        `ivec2 uTexSize = ivec2(${texSize[0]}, ${texSize[1]})`\n      );\n    }\n    return utils.linesToString(result);\n  }\n\n  _getTextureCoordinate() {\n    const subKernels = this.subKernels;\n    if (subKernels === null || subKernels.length < 1) {\n      return 'varying vec2 vTexCoord;\\n';\n    } else {\n      return 'out vec2 vTexCoord;\\n';\n    }\n  }\n\n  _getDecode32EndiannessString() {\n    return (\n      this.endianness === 'LE' ?\n      '' :\n      '  texel.rgba = texel.abgr;\\n'\n    );\n  }\n\n  _getEncode32EndiannessString() {\n    return (\n      this.endianness === 'LE' ?\n      '' :\n      '  texel.rgba = texel.abgr;\\n'\n    );\n  }\n\n  _getDivideWithIntegerCheckString() {\n    return this.fixIntegerDivisionAccuracy ?\n      `float divWithIntCheck(float x, float y) {\n  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {\n    return float(int(x) / int(y));\n  }\n  return x / y;\n}\n\nfloat integerCorrectionModulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return number - (divisor * floor(divWithIntCheck(number, divisor)));\n}` :\n      '';\n  }\n\n  _getMainArgumentsString(args) {\n    const results = [];\n    const { argumentNames } = this;\n    for (let i = 0; i < argumentNames.length; i++) {\n      results.push(this.kernelArguments[i].getSource(args[i]));\n    }\n    return results.join('');\n  }\n\n  _getInjectedNative() {\n    return this.injectedNative || '';\n  }\n\n  _getMainConstantsString() {\n    const result = [];\n    const { constants } = this;\n    if (constants) {\n      let i = 0;\n      for (const name in constants) {\n        if (!this.constants.hasOwnProperty(name)) continue;\n        result.push(this.kernelConstants[i++].getSource(this.constants[name]));\n      }\n    }\n    return result.join('');\n  }\n\n  getKernelResultDeclaration() {\n    switch (this.returnType) {\n      case 'Array(2)':\n        return 'vec2 kernelResult';\n      case 'Array(3)':\n        return 'vec3 kernelResult';\n      case 'Array(4)':\n        return 'vec4 kernelResult';\n      case 'LiteralInteger':\n      case 'Float':\n      case 'Number':\n      case 'Integer':\n        return 'float kernelResult';\n      default:\n        if (this.graphical) {\n          return 'float kernelResult';\n        } else {\n          throw new Error(`unrecognized output type \"${ this.returnType }\"`);\n        }\n    }\n  }\n  getKernelString() {\n    const result = [this.getKernelResultDeclaration()];\n    const { subKernels } = this;\n    if (subKernels !== null) {\n      switch (this.returnType) {\n        case 'Number':\n        case 'Float':\n        case 'Integer':\n          for (let i = 0; i < subKernels.length; i++) {\n            const subKernel = subKernels[i];\n            result.push(\n              subKernel.returnType === 'Integer' ?\n              `int subKernelResult_${ subKernel.name } = 0` :\n              `float subKernelResult_${ subKernel.name } = 0.0`\n            );\n          }\n          break;\n        case 'Array(2)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec2 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n        case 'Array(3)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec3 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n        case 'Array(4)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec4 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n      }\n    }\n\n    return utils.linesToString(result) + this.translatedSource;\n  }\n\n  getMainResultGraphical() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragColor = actualColor',\n    ]);\n  }\n\n  getMainResultPackedPixels() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return this.getMainResultKernelPackedPixels() +\n          this.getMainResultSubKernelPackedPixels();\n      default:\n        throw new Error(`packed output only usable with Numbers, \"${this.returnType}\" specified`);\n    }\n  }\n\n  getMainResultKernelPackedPixels() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  gl_FragData[0] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(kernelResult)`\n    ]);\n  }\n\n  getMainResultSubKernelPackedPixels() {\n    const result = [];\n    if (!this.subKernels) return '';\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(float(subKernelResult_${this.subKernels[i].name}))`\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(subKernelResult_${this.subKernels[i].name})`\n        );\n      }\n    }\n    return utils.linesToString(result);\n  }\n\n  getMainResultMemoryOptimizedFloats() {\n    const result = [\n      '  index *= 4',\n    ];\n\n    switch (this.returnType) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        const channels = ['r', 'g', 'b', 'a'];\n        for (let i = 0; i < channels.length; i++) {\n          const channel = channels[i];\n          this.getMainResultKernelMemoryOptimizedFloats(result, channel);\n          this.getMainResultSubKernelMemoryOptimizedFloats(result, channel);\n          if (i + 1 < channels.length) {\n            result.push('  index += 1');\n          }\n        }\n        break;\n      default:\n        throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`);\n    }\n\n    return utils.linesToString(result);\n  }\n\n  getMainResultKernelMemoryOptimizedFloats(result, channel) {\n    result.push(\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  gl_FragData[0].${channel} = kernelResult`,\n    );\n  }\n\n  getMainResultSubKernelMemoryOptimizedFloats(result, channel) {\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}].${channel} = float(subKernelResult_${this.subKernels[i].name})`,\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}].${channel} = subKernelResult_${this.subKernels[i].name}`,\n        );\n      }\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelNumberTexture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}][0] = float(subKernelResult_${subKernel.name})`,\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}][0] = subKernelResult_${subKernel.name}`,\n        );\n      }\n    }\n    return result;\n  }\n\n  getMainResultKernelArray2Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult[0]',\n      '  gl_FragData[0][1] = kernelResult[1]',\n    ];\n  }\n\n  getMainResultSubKernelArray2Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n        `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray3Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult[0]',\n      '  gl_FragData[0][1] = kernelResult[1]',\n      '  gl_FragData[0][2] = kernelResult[2]',\n    ];\n  }\n\n  getMainResultSubKernelArray3Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n        `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n        `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`,\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray4Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelArray4Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    switch (this.returnType) {\n      case 'Number':\n      case 'Float':\n      case 'Integer':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          const subKernel = this.subKernels[i];\n          if (subKernel.returnType === 'Integer') {\n            result.push(\n              `  gl_FragData[${i + 1}] = float(subKernelResult_${this.subKernels[i].name})`,\n            );\n          } else {\n            result.push(\n              `  gl_FragData[${i + 1}] = subKernelResult_${this.subKernels[i].name}`,\n            );\n          }\n        }\n        break;\n      case 'Array(2)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n          );\n        }\n        break;\n      case 'Array(3)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n            `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`,\n          );\n        }\n        break;\n      case 'Array(4)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n            `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`,\n            `  gl_FragData[${i + 1}][3] = subKernelResult_${this.subKernels[i].name}[3]`,\n          );\n        }\n        break;\n    }\n\n    return result;\n  }\n\n  replaceArtifacts(src, map) {\n    return src.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\\n/g, (match, artifact) => {\n      if (map.hasOwnProperty(artifact)) {\n        return map[artifact];\n      }\n      throw `unhandled artifact ${artifact}`;\n    });\n  }\n\n  getFragmentShader(args) {\n    if (this.compiledFragmentShader !== null) {\n      return this.compiledFragmentShader;\n    }\n    return this.compiledFragmentShader = this.replaceArtifacts(this.constructor.fragmentShader, this._getFragShaderArtifactMap(args));\n  }\n\n  getVertexShader(args) {\n    if (this.compiledVertexShader !== null) {\n      return this.compiledVertexShader;\n    }\n    return this.compiledVertexShader = this.replaceArtifacts(this.constructor.vertexShader, this._getVertShaderArtifactMap(args));\n  }\n\n  toString() {\n    const setupContextString = utils.linesToString([\n      `const gl = context`,\n    ]);\n    return glKernelString(this.constructor, arguments, this, setupContextString);\n  }\n\n  destroy(removeCanvasReferences) {\n    if (!this.context) return;\n    if (this.buffer) {\n      this.context.deleteBuffer(this.buffer);\n    }\n    if (this.framebuffer) {\n      this.context.deleteFramebuffer(this.framebuffer);\n    }\n    if (this.vertShader) {\n      this.context.deleteShader(this.vertShader);\n    }\n    if (this.fragShader) {\n      this.context.deleteShader(this.fragShader);\n    }\n    if (this.program) {\n      this.context.deleteProgram(this.program);\n    }\n    if (this.texture) {\n      this.texture.delete();\n      const textureCacheIndex = this.textureCache.indexOf(this.texture.texture);\n      if (textureCacheIndex > -1) {\n        this.textureCache.splice(textureCacheIndex, 1);\n      }\n      this.texture = null;\n    }\n    if (this.mappedTextures && this.mappedTextures.length) {\n      for (let i = 0; i < this.mappedTextures.length; i++) {\n        const mappedTexture = this.mappedTextures[i];\n        mappedTexture.delete();\n        const textureCacheIndex = this.textureCache.indexOf(mappedTexture.texture);\n        if (textureCacheIndex > -1) {\n          this.textureCache.splice(textureCacheIndex, 1);\n        }\n      }\n      this.mappedTextures = null;\n    }\n    if (this.kernelArguments) {\n      for (let i = 0; i < this.kernelArguments.length; i++) {\n        this.kernelArguments[i].destroy();\n      }\n    }\n    if (this.kernelConstants) {\n      for (let i = 0; i < this.kernelConstants.length; i++) {\n        this.kernelConstants[i].destroy();\n      }\n    }\n    while (this.textureCache.length > 0) {\n      const texture = this.textureCache.pop();\n      this.context.deleteTexture(texture);\n    }\n    if (removeCanvasReferences) {\n      const idx = canvases.indexOf(this.canvas);\n      if (idx >= 0) {\n        canvases[idx] = null;\n        maxTexSizes[idx] = null;\n      }\n    }\n    this.destroyExtensions();\n    delete this.context;\n    delete this.canvas;\n    if (!this.gpu) return;\n    const i = this.gpu.kernels.indexOf(this);\n    if (i === -1) return;\n    this.gpu.kernels.splice(i, 1);\n  }\n\n  destroyExtensions() {\n    this.extensions.OES_texture_float = null;\n    this.extensions.OES_texture_float_linear = null;\n    this.extensions.OES_element_index_uint = null;\n    this.extensions.WEBGL_draw_buffers = null;\n  }\n\n  static destroyContext(context) {\n    const extension = context.getExtension('WEBGL_lose_context');\n    if (extension) {\n      extension.loseContext();\n    }\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, WebGLFunctionNode).toJSON();\n    json.settings.threadDim = this.threadDim;\n    return json;\n  }\n}\n\nmodule.exports = {\n  WebGLKernel\n};\n},{\"../../plugins/math-random-uniformly-distributed\":112,\"../../utils\":114,\"../function-builder\":9,\"../gl/kernel\":13,\"../gl/kernel-string\":12,\"./fragment-shader\":37,\"./function-node\":38,\"./kernel-value-maps\":39,\"./vertex-shader\":71}],71:[function(require,module,exports){\nconst vertexShader = `__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nattribute vec2 aPos;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}`;\n\nmodule.exports = {\n  vertexShader\n};\n},{}],72:[function(require,module,exports){\nconst fragmentShader = `#version 300 es\n__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nin vec2 vTexCoord;\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x/y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY\\'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  return texel[channel] * 255.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  index = index / 4;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return texel[channel];\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, st / vec2(texSize));\n}\n\nvec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, vec3(st / vec2(texSize), z));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n\n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;\n\nmodule.exports = {\n  fragmentShader\n};\n},{}],73:[function(require,module,exports){\nconst { utils } = require('../../utils');\nconst { WebGLFunctionNode } = require('../web-gl/function-node');\n\nclass WebGL2FunctionNode extends WebGLFunctionNode {\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput(\n        'IdentifierExpression - not an Identifier',\n        idtNode\n      );\n    }\n\n    const type = this.getType(idtNode);\n\n    const name = utils.sanitizeName(idtNode.name);\n    if (idtNode.name === 'Infinity') {\n      retArr.push('intBitsToFloat(2139095039)');\n    } else if (type === 'Boolean') {\n      if (this.argumentNames.indexOf(name) > -1) {\n        retArr.push(`bool(user_${name})`);\n      } else {\n        retArr.push(`user_${name}`);\n      }\n    } else {\n      retArr.push(`user_${name}`);\n    }\n\n    return retArr;\n  }\n}\n\nmodule.exports = {\n  WebGL2FunctionNode\n};\n},{\"../../utils\":114,\"../web-gl/function-node\":38}],74:[function(require,module,exports){\nconst { WebGL2KernelValueBoolean } = require('./kernel-value/boolean');\nconst { WebGL2KernelValueFloat } = require('./kernel-value/float');\nconst { WebGL2KernelValueInteger } = require('./kernel-value/integer');\n\nconst { WebGL2KernelValueHTMLImage } = require('./kernel-value/html-image');\nconst { WebGL2KernelValueDynamicHTMLImage } = require('./kernel-value/dynamic-html-image');\n\nconst { WebGL2KernelValueHTMLImageArray } = require('./kernel-value/html-image-array');\nconst { WebGL2KernelValueDynamicHTMLImageArray } = require('./kernel-value/dynamic-html-image-array');\n\nconst { WebGL2KernelValueHTMLVideo } = require('./kernel-value/html-video');\nconst { WebGL2KernelValueDynamicHTMLVideo } = require('./kernel-value/dynamic-html-video');\n\nconst { WebGL2KernelValueSingleInput } = require('./kernel-value/single-input');\nconst { WebGL2KernelValueDynamicSingleInput } = require('./kernel-value/dynamic-single-input');\n\nconst { WebGL2KernelValueUnsignedInput } = require('./kernel-value/unsigned-input');\nconst { WebGL2KernelValueDynamicUnsignedInput } = require('./kernel-value/dynamic-unsigned-input');\n\nconst { WebGL2KernelValueMemoryOptimizedNumberTexture } = require('./kernel-value/memory-optimized-number-texture');\nconst { WebGL2KernelValueDynamicMemoryOptimizedNumberTexture } = require('./kernel-value/dynamic-memory-optimized-number-texture');\n\nconst { WebGL2KernelValueNumberTexture } = require('./kernel-value/number-texture');\nconst { WebGL2KernelValueDynamicNumberTexture } = require('./kernel-value/dynamic-number-texture');\n\nconst { WebGL2KernelValueSingleArray } = require('./kernel-value/single-array');\nconst { WebGL2KernelValueDynamicSingleArray } = require('./kernel-value/dynamic-single-array');\n\nconst { WebGL2KernelValueSingleArray1DI } = require('./kernel-value/single-array1d-i');\nconst { WebGL2KernelValueDynamicSingleArray1DI } = require('./kernel-value/dynamic-single-array1d-i');\n\nconst { WebGL2KernelValueSingleArray2DI } = require('./kernel-value/single-array2d-i');\nconst { WebGL2KernelValueDynamicSingleArray2DI } = require('./kernel-value/dynamic-single-array2d-i');\n\nconst { WebGL2KernelValueSingleArray3DI } = require('./kernel-value/single-array3d-i');\nconst { WebGL2KernelValueDynamicSingleArray3DI } = require('./kernel-value/dynamic-single-array3d-i');\n\nconst { WebGL2KernelValueSingleArray2 } = require('./kernel-value/single-array2');\nconst { WebGL2KernelValueSingleArray3 } = require('./kernel-value/single-array3');\nconst { WebGL2KernelValueSingleArray4 } = require('./kernel-value/single-array4');\n\nconst { WebGL2KernelValueUnsignedArray } = require('./kernel-value/unsigned-array');\nconst { WebGL2KernelValueDynamicUnsignedArray } = require('./kernel-value/dynamic-unsigned-array');\n\nconst kernelValueMaps = {\n  unsigned: {\n    dynamic: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Integer': WebGL2KernelValueInteger,\n      'Float': WebGL2KernelValueFloat,\n      'Array': WebGL2KernelValueDynamicUnsignedArray,\n      'Array(2)': false,\n      'Array(3)': false,\n      'Array(4)': false,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGL2KernelValueDynamicUnsignedInput,\n      'NumberTexture': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImage': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueDynamicHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Float': WebGL2KernelValueFloat,\n      'Integer': WebGL2KernelValueInteger,\n      'Array': WebGL2KernelValueUnsignedArray,\n      'Array(2)': false,\n      'Array(3)': false,\n      'Array(4)': false,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGL2KernelValueUnsignedInput,\n      'NumberTexture': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueHTMLImage,\n      'HTMLImage': WebGL2KernelValueHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueHTMLVideo,\n    }\n  },\n  single: {\n    dynamic: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Integer': WebGL2KernelValueInteger,\n      'Float': WebGL2KernelValueFloat,\n      'Array': WebGL2KernelValueDynamicSingleArray,\n      'Array(2)': WebGL2KernelValueSingleArray2,\n      'Array(3)': WebGL2KernelValueSingleArray3,\n      'Array(4)': WebGL2KernelValueSingleArray4,\n      'Array1D(2)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array1D(3)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array1D(4)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array2D(2)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array2D(3)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array2D(4)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array3D(2)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Array3D(3)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Array3D(4)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Input': WebGL2KernelValueDynamicSingleInput,\n      'NumberTexture': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImage': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueDynamicHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Float': WebGL2KernelValueFloat,\n      'Integer': WebGL2KernelValueInteger,\n      'Array': WebGL2KernelValueSingleArray,\n      'Array(2)': WebGL2KernelValueSingleArray2,\n      'Array(3)': WebGL2KernelValueSingleArray3,\n      'Array(4)': WebGL2KernelValueSingleArray4,\n      'Array1D(2)': WebGL2KernelValueSingleArray1DI,\n      'Array1D(3)': WebGL2KernelValueSingleArray1DI,\n      'Array1D(4)': WebGL2KernelValueSingleArray1DI,\n      'Array2D(2)': WebGL2KernelValueSingleArray2DI,\n      'Array2D(3)': WebGL2KernelValueSingleArray2DI,\n      'Array2D(4)': WebGL2KernelValueSingleArray2DI,\n      'Array3D(2)': WebGL2KernelValueSingleArray3DI,\n      'Array3D(3)': WebGL2KernelValueSingleArray3DI,\n      'Array3D(4)': WebGL2KernelValueSingleArray3DI,\n      'Input': WebGL2KernelValueSingleInput,\n      'NumberTexture': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueHTMLImage,\n      'HTMLImage': WebGL2KernelValueHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueHTMLVideo,\n    }\n  },\n};\n\nfunction lookupKernelValueType(type, dynamic, precision, value) {\n  if (!type) {\n    throw new Error('type missing');\n  }\n  if (!dynamic) {\n    throw new Error('dynamic missing');\n  }\n  if (!precision) {\n    throw new Error('precision missing');\n  }\n  if (value.type) {\n    type = value.type;\n  }\n  const types = kernelValueMaps[precision][dynamic];\n  if (types[type] === false) {\n    return null;\n  } else if (types[type] === undefined) {\n    throw new Error(`Could not find a KernelValue for ${ type }`);\n  }\n  return types[type];\n}\n\nmodule.exports = {\n  kernelValueMaps,\n  lookupKernelValueType\n};\n},{\"./kernel-value/boolean\":75,\"./kernel-value/dynamic-html-image\":77,\"./kernel-value/dynamic-html-image-array\":76,\"./kernel-value/dynamic-html-video\":78,\"./kernel-value/dynamic-memory-optimized-number-texture\":79,\"./kernel-value/dynamic-number-texture\":80,\"./kernel-value/dynamic-single-array\":81,\"./kernel-value/dynamic-single-array1d-i\":82,\"./kernel-value/dynamic-single-array2d-i\":83,\"./kernel-value/dynamic-single-array3d-i\":84,\"./kernel-value/dynamic-single-input\":85,\"./kernel-value/dynamic-unsigned-array\":86,\"./kernel-value/dynamic-unsigned-input\":87,\"./kernel-value/float\":88,\"./kernel-value/html-image\":90,\"./kernel-value/html-image-array\":89,\"./kernel-value/html-video\":91,\"./kernel-value/integer\":92,\"./kernel-value/memory-optimized-number-texture\":93,\"./kernel-value/number-texture\":94,\"./kernel-value/single-array\":95,\"./kernel-value/single-array1d-i\":96,\"./kernel-value/single-array2\":97,\"./kernel-value/single-array2d-i\":98,\"./kernel-value/single-array3\":99,\"./kernel-value/single-array3d-i\":100,\"./kernel-value/single-array4\":101,\"./kernel-value/single-input\":102,\"./kernel-value/unsigned-array\":103,\"./kernel-value/unsigned-input\":104}],75:[function(require,module,exports){\nconst { WebGLKernelValueBoolean } = require('../../web-gl/kernel-value/boolean');\n\nclass WebGL2KernelValueBoolean extends WebGLKernelValueBoolean {}\n\nmodule.exports = {\n  WebGL2KernelValueBoolean\n};\n},{\"../../web-gl/kernel-value/boolean\":41}],76:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueHTMLImageArray } = require('./html-image-array');\n\nclass WebGL2KernelValueDynamicHTMLImageArray extends WebGL2KernelValueHTMLImageArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2DArray ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(images) {\n    const { width, height } = images[0];\n    this.checkSize(width, height);\n    this.dimensions = [width, height, images.length];\n    this.textureSize = [width, height];\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(images);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLImageArray\n};\n},{\"../../../utils\":114,\"./html-image-array\":89}],77:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicHTMLImage } = require('../../web-gl/kernel-value/dynamic-html-image');\n\nclass WebGL2KernelValueDynamicHTMLImage extends WebGLKernelValueDynamicHTMLImage {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLImage\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-html-image\":42}],78:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueDynamicHTMLImage } = require('./dynamic-html-image');\n\nclass WebGL2KernelValueDynamicHTMLVideo extends WebGL2KernelValueDynamicHTMLImage {}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLVideo\n};\n},{\"../../../utils\":114,\"./dynamic-html-image\":77}],79:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicMemoryOptimizedNumberTexture } = require('../../web-gl/kernel-value/dynamic-memory-optimized-number-texture');\n\nclass WebGL2KernelValueDynamicMemoryOptimizedNumberTexture extends WebGLKernelValueDynamicMemoryOptimizedNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture\":44}],80:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicNumberTexture } = require('../../web-gl/kernel-value/dynamic-number-texture');\n\nclass WebGL2KernelValueDynamicNumberTexture extends WebGLKernelValueDynamicNumberTexture {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-number-texture\":45}],81:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray } = require('../../web-gl2/kernel-value/single-array');\n\nclass WebGL2KernelValueDynamicSingleArray extends WebGL2KernelValueSingleArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array\":95}],82:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray1DI } = require('../../web-gl2/kernel-value/single-array1d-i');\n\nclass WebGL2KernelValueDynamicSingleArray1DI extends WebGL2KernelValueSingleArray1DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray1DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array1d-i\":96}],83:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray2DI } = require('../../web-gl2/kernel-value/single-array2d-i');\n\nclass WebGL2KernelValueDynamicSingleArray2DI extends WebGL2KernelValueSingleArray2DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray2DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array2d-i\":98}],84:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray3DI } = require('../../web-gl2/kernel-value/single-array3d-i');\n\nclass WebGL2KernelValueDynamicSingleArray3DI extends WebGL2KernelValueSingleArray3DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray3DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array3d-i\":100}],85:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleInput } = require('../../web-gl2/kernel-value/single-input');\n\nclass WebGL2KernelValueDynamicSingleInput extends WebGL2KernelValueSingleInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleInput\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-input\":102}],86:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicUnsignedArray } = require('../../web-gl/kernel-value/dynamic-unsigned-array');\n\nclass WebGL2KernelValueDynamicUnsignedArray extends WebGLKernelValueDynamicUnsignedArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicUnsignedArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-unsigned-array\":51}],87:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicUnsignedInput } = require('../../web-gl/kernel-value/dynamic-unsigned-input');\n\nclass WebGL2KernelValueDynamicUnsignedInput extends WebGLKernelValueDynamicUnsignedInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicUnsignedInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-unsigned-input\":52}],88:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueFloat } = require('../../web-gl/kernel-value/float');\n\nclass WebGL2KernelValueFloat extends WebGLKernelValueFloat {}\n\nmodule.exports = {\n  WebGL2KernelValueFloat\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/float\":53}],89:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('../../web-gl/kernel-value/array');\n\nclass WebGL2KernelValueHTMLImageArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.checkSize(value[0].width, value[0].height);\n    this.dimensions = [value[0].width, value[0].height, value.length];\n    this.textureSize = [value[0].width, value[0].height];\n  }\n  defineTexture() {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D_ARRAY, this.texture);\n    gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2DArray ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(images) {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D_ARRAY, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage3D(\n      gl.TEXTURE_2D_ARRAY,\n      0,\n      gl.RGBA,\n      images[0].width,\n      images[0].height,\n      images.length,\n      0,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      null\n    );\n    for (let i = 0; i < images.length; i++) {\n      const xOffset = 0;\n      const yOffset = 0;\n      const imageDepth = 1;\n      gl.texSubImage3D(\n        gl.TEXTURE_2D_ARRAY,\n        0,\n        xOffset,\n        yOffset,\n        i,\n        images[i].width,\n        images[i].height,\n        imageDepth,\n        gl.RGBA,\n        gl.UNSIGNED_BYTE,\n        this.uploadValue = images[i]\n      );\n    }\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLImageArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/array\":40}],90:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueHTMLImage } = require('../../web-gl/kernel-value/html-image');\n\nclass WebGL2KernelValueHTMLImage extends WebGLKernelValueHTMLImage {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLImage\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/html-image\":54}],91:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueHTMLImage } = require('./html-image');\n\nclass WebGL2KernelValueHTMLVideo extends WebGL2KernelValueHTMLImage {}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLVideo\n};\n},{\"../../../utils\":114,\"./html-image\":90}],92:[function(require,module,exports){\nconst { WebGLKernelValueInteger } = require('../../web-gl/kernel-value/integer');\n\nclass WebGL2KernelValueInteger extends WebGLKernelValueInteger {\n  getSource(value) {\n    const variablePrecision = this.getVariablePrecisionString();\n    if (this.origin === 'constants') {\n      return `const ${ variablePrecision } int ${this.id} = ${ parseInt(value) };\\n`;\n    }\n    return `uniform ${ variablePrecision } int ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueInteger\n};\n},{\"../../web-gl/kernel-value/integer\":57}],93:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('../../web-gl/kernel-value/memory-optimized-number-texture');\n\nclass WebGL2KernelValueMemoryOptimizedNumberTexture extends WebGLKernelValueMemoryOptimizedNumberTexture {\n  getSource() {\n    const { id, sizeId, textureSize, dimensionsId, dimensions } = this;\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform sampler2D ${id}`,\n      `${ variablePrecision } ivec2 ${sizeId} = ivec2(${textureSize[0]}, ${textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${dimensionsId} = ivec3(${dimensions[0]}, ${dimensions[1]}, ${dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/memory-optimized-number-texture\":58}],94:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueNumberTexture } = require('../../web-gl/kernel-value/number-texture');\n\nclass WebGL2KernelValueNumberTexture extends WebGLKernelValueNumberTexture {\n  getSource() {\n    const { id, sizeId, textureSize, dimensionsId, dimensions } = this;\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${id}`,\n      `${ variablePrecision } ivec2 ${sizeId} = ivec2(${textureSize[0]}, ${textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${dimensionsId} = ivec3(${dimensions[0]}, ${dimensions[1]}, ${dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/number-texture\":59}],95:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray } = require('../../web-gl/kernel-value/single-array');\n\nclass WebGL2KernelValueSingleArray extends WebGLKernelValueSingleArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array\":60}],96:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray1DI } = require('../../web-gl/kernel-value/single-array1d-i');\n\nclass WebGL2KernelValueSingleArray1DI extends WebGLKernelValueSingleArray1DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray1DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array1d-i\":61}],97:[function(require,module,exports){\nconst { WebGLKernelValueSingleArray2 } = require('../../web-gl/kernel-value/single-array2');\n\nclass WebGL2KernelValueSingleArray2 extends WebGLKernelValueSingleArray2 {}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray2\n};\n},{\"../../web-gl/kernel-value/single-array2\":62}],98:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray2DI } = require('../../web-gl/kernel-value/single-array2d-i');\n\nclass WebGL2KernelValueSingleArray2DI extends WebGLKernelValueSingleArray2DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray2DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array2d-i\":63}],99:[function(require,module,exports){\nconst { WebGLKernelValueSingleArray3 } = require('../../web-gl/kernel-value/single-array3');\n\nclass WebGL2KernelValueSingleArray3 extends WebGLKernelValueSingleArray3 {}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray3\n};\n},{\"../../web-gl/kernel-value/single-array3\":64}],100:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray3DI } = require('../../web-gl/kernel-value/single-array3d-i');\n\nclass WebGL2KernelValueSingleArray3DI extends WebGLKernelValueSingleArray3DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray3DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array3d-i\":65}],101:[function(require,module,exports){\nconst { WebGLKernelValueSingleArray4 } = require('../../web-gl/kernel-value/single-array4');\n\nclass WebGL2KernelValueSingleArray4 extends WebGLKernelValueSingleArray4 {}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray4\n};\n},{\"../../web-gl/kernel-value/single-array4\":66}],102:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleInput } = require('../../web-gl/kernel-value/single-input');\n\nclass WebGL2KernelValueSingleInput extends WebGLKernelValueSingleInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-input\":67}],103:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedArray } = require('../../web-gl/kernel-value/unsigned-array');\n\nclass WebGL2KernelValueUnsignedArray extends WebGLKernelValueUnsignedArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueUnsignedArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/unsigned-array\":68}],104:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedInput } = require('../../web-gl/kernel-value/unsigned-input');\n\nclass WebGL2KernelValueUnsignedInput extends WebGLKernelValueUnsignedInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueUnsignedInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/unsigned-input\":69}],105:[function(require,module,exports){\nconst { WebGLKernel } = require('../web-gl/kernel');\nconst { WebGL2FunctionNode } = require('./function-node');\nconst { FunctionBuilder } = require('../function-builder');\nconst { utils } = require('../../utils');\nconst { fragmentShader } = require('./fragment-shader');\nconst { vertexShader } = require('./vertex-shader');\nconst { lookupKernelValueType } = require('./kernel-value-maps');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\n\nlet features = null;\n\nclass WebGL2Kernel extends WebGLKernel {\n  static get isSupported() {\n    if (isSupported !== null) {\n      return isSupported;\n    }\n    this.setupFeatureChecks();\n    isSupported = this.isContextMatch(testContext);\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    if (typeof document !== 'undefined') {\n      testCanvas = document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      testCanvas = new OffscreenCanvas(0, 0);\n    }\n    if (!testCanvas) return;\n    testContext = testCanvas.getContext('webgl2');\n    if (!testContext || !testContext.getExtension) return;\n    testExtensions = {\n      EXT_color_buffer_float: testContext.getExtension('EXT_color_buffer_float'),\n      OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n    };\n    features = this.getFeatures();\n  }\n\n  static isContextMatch(context) {\n    if (typeof WebGL2RenderingContext !== 'undefined') {\n      return context instanceof WebGL2RenderingContext;\n    }\n    return false;\n  }\n\n  static getFeatures() {\n    const gl = this.testContext;\n    return Object.freeze({\n      isFloatRead: this.getIsFloatRead(),\n      isIntegerDivisionAccurate: this.getIsIntegerDivisionAccurate(),\n      isSpeedTacticSupported: this.getIsSpeedTacticSupported(),\n      kernelMap: true,\n      isTextureFloat: true,\n      isDrawBuffers: true,\n      channelCount: this.getChannelCount(),\n      maxTextureSize: this.getMaxTextureSize(),\n      lowIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT),\n      lowFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\n      mediumIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT),\n      mediumFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\n      highIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT),\n      highFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\n    });\n  }\n\n  static getIsTextureFloat() {\n    return true;\n  }\n\n  static getChannelCount() {\n    return testContext.getParameter(testContext.MAX_DRAW_BUFFERS);\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static lookupKernelValueType(type, dynamic, precision, value) {\n    return lookupKernelValueType(type, dynamic, precision, value);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  static get fragmentShader() {\n    return fragmentShader;\n  }\n  static get vertexShader() {\n    return vertexShader;\n  }\n\n  initContext() {\n    const settings = {\n      alpha: false,\n      depth: false,\n      antialias: false\n    };\n    return this.canvas.getContext('webgl2', settings);\n  }\n\n  initExtensions() {\n    this.extensions = {\n      EXT_color_buffer_float: this.context.getExtension('EXT_color_buffer_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n    };\n  }\n\n  validateSettings(args) {\n    if (!this.validate) {\n      this.texSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, this.output);\n      return;\n    }\n\n    const { features } = this.constructor;\n    if (this.precision === 'single' && !features.isFloatRead) {\n      throw new Error('Float texture outputs are not supported');\n    } else if (!this.graphical && this.precision === null) {\n      this.precision = features.isFloatRead ? 'single' : 'unsigned';\n    }\n\n    if (this.fixIntegerDivisionAccuracy === null) {\n      this.fixIntegerDivisionAccuracy = !features.isIntegerDivisionAccurate;\n    } else if (this.fixIntegerDivisionAccuracy && features.isIntegerDivisionAccurate) {\n      this.fixIntegerDivisionAccuracy = false;\n    }\n\n    this.checkOutput();\n\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      switch (argType) {\n        case 'Array':\n          this.output = utils.getDimensions(argType);\n          break;\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n          this.output = args[0].output;\n          break;\n        default:\n          throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n\n      if (this.precision === 'single') {\n        console.warn('Cannot use graphical mode and single precision at the same time');\n        this.precision = 'unsigned';\n      }\n\n      this.texSize = utils.clone(this.output);\n      return;\n    } else if (!this.graphical && this.precision === null && features.isTextureFloat) {\n      this.precision = 'single';\n    }\n\n    this.texSize = utils.getKernelTextureSize({\n      optimizeFloatMemory: this.optimizeFloatMemory,\n      precision: this.precision,\n    }, this.output);\n\n    this.checkTextureSize();\n  }\n\n  translateSource() {\n    const functionBuilder = FunctionBuilder.fromKernel(this, WebGL2FunctionNode, {\n      fixIntegerDivisionAccuracy: this.fixIntegerDivisionAccuracy\n    });\n    this.translatedSource = functionBuilder.getPrototypeString('kernel');\n    this.setupReturnTypes(functionBuilder);\n  }\n\n  drawBuffers() {\n    this.context.drawBuffers(this.drawBuffersMap);\n  }\n\n  getTextureFormat() {\n    const { context: gl } = this;\n    switch (this.getInternalFormat()) {\n      case gl.R32F:\n        return gl.RED;\n      case gl.RG32F:\n        return gl.RG;\n      case gl.RGBA32F:\n        return gl.RGBA;\n      case gl.RGBA:\n        return gl.RGBA;\n      default:\n        throw new Error('Unknown internal format');\n    }\n  }\n  getInternalFormat() {\n    const { context: gl } = this;\n\n    if (this.precision === 'single') {\n      if (this.pipeline) {\n        switch (this.returnType) {\n          case 'Number':\n          case 'Float':\n          case 'Integer':\n            if (this.optimizeFloatMemory) {\n              return gl.RGBA32F;\n            } else {\n              return gl.R32F;\n            }\n            case 'Array(2)':\n              return gl.RG32F;\n            case 'Array(3)': \n            case 'Array(4)':\n              return gl.RGBA32F;\n            default:\n              throw new Error('Unhandled return type');\n        }\n      }\n      return gl.RGBA32F;\n    }\n    return gl.RGBA;\n  }\n\n  _setupOutputTexture() {\n    const gl = this.context;\n    if (this.texture) {\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      return;\n    }\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n    const texture = gl.createTexture();\n    const texSize = this.texSize;\n    gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const format = this.getInternalFormat();\n    if (this.precision === 'single') {\n      gl.texStorage2D(gl.TEXTURE_2D, 1, format, texSize[0], texSize[1]);\n    } else {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, format, gl.UNSIGNED_BYTE, null);\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    this.texture = new this.TextureConstructor({\n      texture,\n      size: texSize,\n      dimensions: this.threadDim,\n      output: this.output,\n      context: this.context,\n      internalFormat: this.getInternalFormat(),\n      textureFormat: this.getTextureFormat(),\n      kernel: this,\n    });\n  }\n\n  _setupSubOutputTextures() {\n    const gl = this.context;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, this.mappedTextures[i].texture, 0);\n      }\n      return;\n    }\n    const texSize = this.texSize;\n    this.drawBuffersMap = [gl.COLOR_ATTACHMENT0];\n    this.mappedTextures = [];\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const texture = this.createTexture();\n      this.drawBuffersMap.push(gl.COLOR_ATTACHMENT0 + i + 1);\n      gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount + i);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      const format = this.getInternalFormat();\n      if (this.precision === 'single') {\n        gl.texStorage2D(gl.TEXTURE_2D, 1, format, texSize[0], texSize[1]);\n      } else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      }\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, texture, 0);\n\n      this.mappedTextures.push(new this.TextureConstructor({\n        texture,\n        size: texSize,\n        dimensions: this.threadDim,\n        output: this.output,\n        context: this.context,\n        internalFormat: this.getInternalFormat(),\n        textureFormat: this.getTextureFormat(),\n        kernel: this,\n      }));\n    }\n  }\n\n  _getHeaderString() {\n    return '';\n  }\n\n  _getTextureCoordinate() {\n    const subKernels = this.subKernels;\n    const variablePrecision = this.getVariablePrecisionString(this.texSize, this.tactic);\n    if (subKernels === null || subKernels.length < 1) {\n      return `in ${ variablePrecision } vec2 vTexCoord;\\n`;\n    } else {\n      return `out ${ variablePrecision } vec2 vTexCoord;\\n`;\n    }\n  }\n\n  _getMainArgumentsString(args) {\n    const result = [];\n    const argumentNames = this.argumentNames;\n    for (let i = 0; i < argumentNames.length; i++) {\n      result.push(this.kernelArguments[i].getSource(args[i]));\n    }\n    return result.join('');\n  }\n\n  getKernelString() {\n    const result = [this.getKernelResultDeclaration()];\n    const subKernels = this.subKernels;\n    if (subKernels !== null) {\n      result.push(\n        'layout(location = 0) out vec4 data0'\n      );\n      switch (this.returnType) {\n        case 'Number':\n        case 'Float':\n        case 'Integer':\n          for (let i = 0; i < subKernels.length; i++) {\n            const subKernel = subKernels[i];\n            result.push(\n              subKernel.returnType === 'Integer' ?\n              `int subKernelResult_${ subKernel.name } = 0` :\n              `float subKernelResult_${ subKernel.name } = 0.0`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(2)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec2 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(3)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec3 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(4)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec4 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n      }\n    } else {\n      result.push(\n        'out vec4 data0'\n      );\n    }\n\n    return utils.linesToString(result) + this.translatedSource;\n  }\n\n  getMainResultGraphical() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0 = actualColor',\n    ]);\n  }\n\n  getMainResultPackedPixels() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return this.getMainResultKernelPackedPixels() +\n          this.getMainResultSubKernelPackedPixels();\n      default:\n        throw new Error(`packed output only usable with Numbers, \"${this.returnType}\" specified`);\n    }\n  }\n\n  getMainResultKernelPackedPixels() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  data0 = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(kernelResult)`\n    ]);\n  }\n\n  getMainResultSubKernelPackedPixels() {\n    const result = [];\n    if (!this.subKernels) return '';\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1} = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(float(subKernelResult_${this.subKernels[i].name}))`\n        );\n      } else {\n        result.push(\n          `  data${i + 1} = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(subKernelResult_${this.subKernels[i].name})`\n        );\n      }\n    }\n    return utils.linesToString(result);\n  }\n\n  getMainResultKernelMemoryOptimizedFloats(result, channel) {\n    result.push(\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  data0.${channel} = kernelResult`,\n    );\n  }\n\n  getMainResultSubKernelMemoryOptimizedFloats(result, channel) {\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1}.${channel} = float(subKernelResult_${subKernel.name})`,\n        );\n      } else {\n        result.push(\n          `  data${i + 1}.${channel} = subKernelResult_${subKernel.name}`,\n        );\n      }\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelNumberTexture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1}[0] = float(subKernelResult_${subKernel.name})`,\n        );\n      } else {\n        result.push(\n          `  data${i + 1}[0] = subKernelResult_${subKernel.name}`,\n        );\n      }\n    }\n    return result;\n  }\n\n  getMainResultKernelArray2Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult[0]',\n      '  data0[1] = kernelResult[1]',\n    ];\n  }\n\n  getMainResultSubKernelArray2Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      result.push(\n        `  data${i + 1}[0] = subKernelResult_${subKernel.name}[0]`,\n        `  data${i + 1}[1] = subKernelResult_${subKernel.name}[1]`,\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray3Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult[0]',\n      '  data0[1] = kernelResult[1]',\n      '  data0[2] = kernelResult[2]',\n    ];\n  }\n\n  getMainResultSubKernelArray3Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      result.push(\n        `  data${i + 1}[0] = subKernelResult_${subKernel.name}[0]`,\n        `  data${i + 1}[1] = subKernelResult_${subKernel.name}[1]`,\n        `  data${i + 1}[2] = subKernelResult_${subKernel.name}[2]`,\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray4Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0 = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelArray4Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  data${i + 1} = subKernelResult_${this.subKernels[i].name}`,\n      );\n    }\n    return result;\n  }\n\n  destroyExtensions() {\n    this.extensions.EXT_color_buffer_float = null;\n    this.extensions.OES_texture_float_linear = null;\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, WebGL2FunctionNode).toJSON();\n    json.settings.threadDim = this.threadDim;\n    return json;\n  }\n}\n\nmodule.exports = {\n  WebGL2Kernel\n};\n},{\"../../utils\":114,\"../function-builder\":9,\"../web-gl/kernel\":70,\"./fragment-shader\":72,\"./function-node\":73,\"./kernel-value-maps\":74,\"./vertex-shader\":106}],106:[function(require,module,exports){\nconst vertexShader = `#version 300 es\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nin vec2 aPos;\nin vec2 aTexCoord;\n\nout vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}`;\n\nmodule.exports = {\n  vertexShader\n};\n},{}],107:[function(require,module,exports){\nconst lib = require('./index');\nconst GPU = lib.GPU;\nfor (const p in lib) {\n  if (!lib.hasOwnProperty(p)) continue;\n  if (p === 'GPU') continue; \n  GPU[p] = lib[p];\n}\n\nif (typeof window !== 'undefined') {\n  bindTo(window);\n}\nif (typeof self !== 'undefined') {\n  bindTo(self);\n}\n\nfunction bindTo(target) {\n  if (target.GPU) return;\n  Object.defineProperty(target, 'GPU', {\n    get() {\n      return GPU;\n    }\n  });\n}\n\nmodule.exports = lib;\n},{\"./index\":109}],108:[function(require,module,exports){\nconst { gpuMock } = require('gpu-mock.js');\nconst { utils } = require('./utils');\nconst { Kernel } = require('./backend/kernel');\nconst { CPUKernel } = require('./backend/cpu/kernel');\nconst { HeadlessGLKernel } = require('./backend/headless-gl/kernel');\nconst { WebGL2Kernel } = require('./backend/web-gl2/kernel');\nconst { WebGLKernel } = require('./backend/web-gl/kernel');\nconst { kernelRunShortcut } = require('./kernel-run-shortcut');\n\n\nconst kernelOrder = [HeadlessGLKernel, WebGL2Kernel, WebGLKernel];\n\nconst kernelTypes = ['gpu', 'cpu'];\n\nconst internalKernels = {\n  'headlessgl': HeadlessGLKernel,\n  'webgl2': WebGL2Kernel,\n  'webgl': WebGLKernel,\n};\n\nlet validate = true;\n\nclass GPU {\n  static disableValidation() {\n    validate = false;\n  }\n\n  static enableValidation() {\n    validate = true;\n  }\n\n  static get isGPUSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported);\n  }\n\n  static get isKernelMapSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported && Kernel.features.kernelMap);\n  }\n\n  static get isOffscreenCanvasSupported() {\n    return (typeof Worker !== 'undefined' && typeof OffscreenCanvas !== 'undefined') || typeof importScripts !== 'undefined';\n  }\n\n  static get isWebGLSupported() {\n    return WebGLKernel.isSupported;\n  }\n\n  static get isWebGL2Supported() {\n    return WebGL2Kernel.isSupported;\n  }\n\n  static get isHeadlessGLSupported() {\n    return HeadlessGLKernel.isSupported;\n  }\n\n  static get isCanvasSupported() {\n    return typeof HTMLCanvasElement !== 'undefined';\n  }\n\n  static get isGPUHTMLImageArraySupported() {\n    return WebGL2Kernel.isSupported;\n  }\n\n  static get isSinglePrecisionSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported && Kernel.features.isFloatRead && Kernel.features.isTextureFloat);\n  }\n\n  constructor(settings) {\n    settings = settings || {};\n    this.canvas = settings.canvas || null;\n    this.context = settings.context || null;\n    this.mode = settings.mode;\n    this.Kernel = null;\n    this.kernels = [];\n    this.functions = [];\n    this.nativeFunctions = [];\n    this.injectedNative = null;\n    this.onIstanbulCoverageVariable = settings.onIstanbulCoverageVariable || null;\n    this.removeIstanbulCoverage = settings.hasOwnProperty('removeIstanbulCoverage') ? settings.removeIstanbulCoverage : null;\n    if (this.mode === 'dev') return;\n    this.chooseKernel();\n    if (settings.functions) {\n      for (let i = 0; i < settings.functions.length; i++) {\n        this.addFunction(settings.functions[i]);\n      }\n    }\n\n    if (settings.nativeFunctions) {\n      for (const p in settings.nativeFunctions) {\n        if (!settings.nativeFunctions.hasOwnProperty(p)) continue;\n        const s = settings.nativeFunctions[p];\n        const { name, source } = s;\n        this.addNativeFunction(name, source, s);\n      }\n    }\n  }\n\n  chooseKernel() {\n    if (this.Kernel) return;\n\n    let Kernel = null;\n\n    if (this.context) {\n      for (let i = 0; i < kernelOrder.length; i++) {\n        const ExternalKernel = kernelOrder[i];\n        if (ExternalKernel.isContextMatch(this.context)) {\n          if (!ExternalKernel.isSupported) {\n            throw new Error(`Kernel type ${ExternalKernel.name} not supported`);\n          }\n          Kernel = ExternalKernel;\n          break;\n        }\n      }\n      if (Kernel === null) {\n        throw new Error('unknown Context');\n      }\n    } else if (this.mode) {\n      if (this.mode in internalKernels) {\n        if (!validate || internalKernels[this.mode].isSupported) {\n          Kernel = internalKernels[this.mode];\n        }\n      } else if (this.mode === 'gpu') {\n        for (let i = 0; i < kernelOrder.length; i++) {\n          if (kernelOrder[i].isSupported) {\n            Kernel = kernelOrder[i];\n            break;\n          }\n        }\n      } else if (this.mode === 'cpu') {\n        Kernel = CPUKernel;\n      }\n      if (!Kernel) {\n        throw new Error(`A requested mode of \"${this.mode}\" and is not supported`);\n      }\n    } else {\n      for (let i = 0; i < kernelOrder.length; i++) {\n        if (kernelOrder[i].isSupported) {\n          Kernel = kernelOrder[i];\n          break;\n        }\n      }\n      if (!Kernel) {\n        Kernel = CPUKernel;\n      }\n    }\n\n    if (!this.mode) {\n      this.mode = Kernel.mode;\n    }\n    this.Kernel = Kernel;\n  }\n\n  createKernel(source, settings) {\n    if (typeof source === 'undefined') {\n      throw new Error('Missing source parameter');\n    }\n    if (typeof source !== 'object' && !utils.isFunction(source) && typeof source !== 'string') {\n      throw new Error('source parameter not a function');\n    }\n\n    const kernels = this.kernels;\n    if (this.mode === 'dev') {\n      const devKernel = gpuMock(source, upgradeDeprecatedCreateKernelSettings(settings));\n      kernels.push(devKernel);\n      return devKernel;\n    }\n\n    source = typeof source === 'function' ? source.toString() : source;\n    const switchableKernels = {};\n    const settingsCopy = upgradeDeprecatedCreateKernelSettings(settings) || {};\n    if (settings && typeof settings.argumentTypes === 'object') {\n      settingsCopy.argumentTypes = Object.keys(settings.argumentTypes).map(argumentName => settings.argumentTypes[argumentName]);\n    }\n\n    function onRequestFallback(args) {\n      console.warn('Falling back to CPU');\n      const fallbackKernel = new CPUKernel(source, {\n        argumentTypes: kernelRun.argumentTypes,\n        constantTypes: kernelRun.constantTypes,\n        graphical: kernelRun.graphical,\n        loopMaxIterations: kernelRun.loopMaxIterations,\n        constants: kernelRun.constants,\n        dynamicOutput: kernelRun.dynamicOutput,\n        dynamicArgument: kernelRun.dynamicArguments,\n        output: kernelRun.output,\n        precision: kernelRun.precision,\n        pipeline: kernelRun.pipeline,\n        immutable: kernelRun.immutable,\n        optimizeFloatMemory: kernelRun.optimizeFloatMemory,\n        fixIntegerDivisionAccuracy: kernelRun.fixIntegerDivisionAccuracy,\n        functions: kernelRun.functions,\n        nativeFunctions: kernelRun.nativeFunctions,\n        injectedNative: kernelRun.injectedNative,\n        subKernels: kernelRun.subKernels,\n        strictIntegers: kernelRun.strictIntegers,\n        debug: kernelRun.debug,\n      });\n      fallbackKernel.build.apply(fallbackKernel, args);\n      const result = fallbackKernel.run.apply(fallbackKernel, args);\n      kernelRun.replaceKernel(fallbackKernel);\n      return result;\n    }\n\n    function onRequestSwitchKernel(reasons, args, _kernel) {\n      if (_kernel.debug) {\n        console.warn('Switching kernels');\n      }\n      let newOutput = null;\n      if (_kernel.signature && !switchableKernels[_kernel.signature]) {\n        switchableKernels[_kernel.signature] = _kernel;\n      }\n      if (_kernel.dynamicOutput) {\n        for (let i = reasons.length - 1; i >= 0; i--) {\n          const reason = reasons[i];\n          if (reason.type === 'outputPrecisionMismatch') {\n            newOutput = reason.needed;\n          }\n        }\n      }\n\n      const Constructor = _kernel.constructor;\n      const argumentTypes = Constructor.getArgumentTypes(_kernel, args);\n      const signature = Constructor.getSignature(_kernel, argumentTypes);\n      const existingKernel = switchableKernels[signature];\n      if (existingKernel) {\n        existingKernel.onActivate(_kernel);\n        return existingKernel;\n      }\n\n      const newKernel = switchableKernels[signature] = new Constructor(source, {\n        argumentTypes,\n        constantTypes: _kernel.constantTypes,\n        graphical: _kernel.graphical,\n        loopMaxIterations: _kernel.loopMaxIterations,\n        constants: _kernel.constants,\n        dynamicOutput: _kernel.dynamicOutput,\n        dynamicArgument: _kernel.dynamicArguments,\n        context: _kernel.context,\n        canvas: _kernel.canvas,\n        output: newOutput || _kernel.output,\n        precision: _kernel.precision,\n        pipeline: _kernel.pipeline,\n        immutable: _kernel.immutable,\n        optimizeFloatMemory: _kernel.optimizeFloatMemory,\n        fixIntegerDivisionAccuracy: _kernel.fixIntegerDivisionAccuracy,\n        functions: _kernel.functions,\n        nativeFunctions: _kernel.nativeFunctions,\n        injectedNative: _kernel.injectedNative,\n        subKernels: _kernel.subKernels,\n        strictIntegers: _kernel.strictIntegers,\n        debug: _kernel.debug,\n        gpu: _kernel.gpu,\n        validate,\n        returnType: _kernel.returnType,\n        onIstanbulCoverageVariable: _kernel.onIstanbulCoverageVariable,\n        removeIstanbulCoverage: _kernel.removeIstanbulCoverage,\n        tactic: _kernel.tactic,\n        onRequestFallback,\n        onRequestSwitchKernel,\n        texture: _kernel.texture,\n        mappedTextures: _kernel.mappedTextures,\n        drawBuffersMap: _kernel.drawBuffersMap,\n      });\n      newKernel.build.apply(newKernel, args);\n      kernelRun.replaceKernel(newKernel);\n      kernels.push(newKernel);\n      return newKernel;\n    }\n    const mergedSettings = Object.assign({\n      context: this.context,\n      canvas: this.canvas,\n      functions: this.functions,\n      nativeFunctions: this.nativeFunctions,\n      injectedNative: this.injectedNative,\n      onIstanbulCoverageVariable: this.onIstanbulCoverageVariable,\n      removeIstanbulCoverage: this.removeIstanbulCoverage,\n      gpu: this,\n      validate,\n      onRequestFallback,\n      onRequestSwitchKernel\n    }, settingsCopy);\n\n    const kernel = new this.Kernel(source, mergedSettings);\n    const kernelRun = kernelRunShortcut(kernel);\n\n    if (!this.canvas) {\n      this.canvas = kernel.canvas;\n    }\n\n    if (!this.context) {\n      this.context = kernel.context;\n    }\n\n    kernels.push(kernel);\n\n    return kernelRun;\n  }\n\n  createKernelMap() {\n    let fn;\n    let settings;\n    const argument2Type = typeof arguments[arguments.length - 2];\n    if (argument2Type === 'function' || argument2Type === 'string') {\n      fn = arguments[arguments.length - 2];\n      settings = arguments[arguments.length - 1];\n    } else {\n      fn = arguments[arguments.length - 1];\n    }\n\n    if (this.mode !== 'dev') {\n      if (!this.Kernel.isSupported || !this.Kernel.features.kernelMap) {\n        if (this.mode && kernelTypes.indexOf(this.mode) < 0) {\n          throw new Error(`kernelMap not supported on ${this.Kernel.name}`);\n        }\n      }\n    }\n\n    const settingsCopy = upgradeDeprecatedCreateKernelSettings(settings);\n    if (settings && typeof settings.argumentTypes === 'object') {\n      settingsCopy.argumentTypes = Object.keys(settings.argumentTypes).map(argumentName => settings.argumentTypes[argumentName]);\n    }\n\n    if (Array.isArray(arguments[0])) {\n      settingsCopy.subKernels = [];\n      const functions = arguments[0];\n      for (let i = 0; i < functions.length; i++) {\n        const source = functions[i].toString();\n        const name = utils.getFunctionNameFromString(source);\n        settingsCopy.subKernels.push({\n          name,\n          source,\n          property: i,\n        });\n      }\n    } else {\n      settingsCopy.subKernels = [];\n      const functions = arguments[0];\n      for (let p in functions) {\n        if (!functions.hasOwnProperty(p)) continue;\n        const source = functions[p].toString();\n        const name = utils.getFunctionNameFromString(source);\n        settingsCopy.subKernels.push({\n          name: name || p,\n          source,\n          property: p,\n        });\n      }\n    }\n    return this.createKernel(fn, settingsCopy);\n  }\n\n  combineKernels() {\n    const firstKernel = arguments[0];\n    const combinedKernel = arguments[arguments.length - 1];\n    if (firstKernel.kernel.constructor.mode === 'cpu') return combinedKernel;\n    const canvas = arguments[0].canvas;\n    const context = arguments[0].context;\n    const max = arguments.length - 1;\n    for (let i = 0; i < max; i++) {\n      arguments[i]\n        .setCanvas(canvas)\n        .setContext(context)\n        .setPipeline(true);\n    }\n\n    return function() {\n      const texture = combinedKernel.apply(this, arguments);\n      if (texture.toArray) {\n        return texture.toArray();\n      }\n      return texture;\n    };\n  }\n\n  setFunctions(functions) {\n    this.functions = functions;\n    return this;\n  }\n\n  setNativeFunctions(nativeFunctions) {\n    this.nativeFunctions = nativeFunctions;\n    return this;\n  }\n\n  addFunction(source, settings) {\n    this.functions.push({ source, settings });\n    return this;\n  }\n\n  addNativeFunction(name, source, settings) {\n    if (this.kernels.length > 0) {\n      throw new Error('Cannot call \"addNativeFunction\" after \"createKernels\" has been called.');\n    }\n    this.nativeFunctions.push(Object.assign({ name, source }, settings));\n    return this;\n  }\n\n  injectNative(source) {\n    this.injectedNative = source;\n    return this;\n  }\n\n  destroy() {\n    return new Promise((resolve, reject) => {\n      if (!this.kernels) {\n        resolve();\n      }\n      setTimeout(() => {\n        try {\n          for (let i = 0; i < this.kernels.length; i++) {\n            this.kernels[i].destroy(true); \n          }\n          let firstKernel = this.kernels[0];\n          if (firstKernel) {\n            if (firstKernel.kernel) {\n              firstKernel = firstKernel.kernel;\n            }\n            if (firstKernel.constructor.destroyContext) {\n              firstKernel.constructor.destroyContext(this.context);\n            }\n          }\n        } catch (e) {\n          reject(e);\n        }\n        resolve();\n      }, 0);\n    });\n  }\n}\n\n\nfunction upgradeDeprecatedCreateKernelSettings(settings) {\n  if (!settings) {\n    return {};\n  }\n  const upgradedSettings = Object.assign({}, settings);\n\n  if (settings.hasOwnProperty('floatOutput')) {\n    utils.warnDeprecated('setting', 'floatOutput', 'precision');\n    upgradedSettings.precision = settings.floatOutput ? 'single' : 'unsigned';\n  }\n  if (settings.hasOwnProperty('outputToTexture')) {\n    utils.warnDeprecated('setting', 'outputToTexture', 'pipeline');\n    upgradedSettings.pipeline = Boolean(settings.outputToTexture);\n  }\n  if (settings.hasOwnProperty('outputImmutable')) {\n    utils.warnDeprecated('setting', 'outputImmutable', 'immutable');\n    upgradedSettings.immutable = Boolean(settings.outputImmutable);\n  }\n  if (settings.hasOwnProperty('floatTextures')) {\n    utils.warnDeprecated('setting', 'floatTextures', 'optimizeFloatMemory');\n    upgradedSettings.optimizeFloatMemory = Boolean(settings.floatTextures);\n  }\n  return upgradedSettings;\n}\n\nmodule.exports = {\n  GPU,\n  kernelOrder,\n  kernelTypes\n};\n},{\"./backend/cpu/kernel\":8,\"./backend/headless-gl/kernel\":34,\"./backend/kernel\":36,\"./backend/web-gl/kernel\":70,\"./backend/web-gl2/kernel\":105,\"./kernel-run-shortcut\":111,\"./utils\":114,\"gpu-mock.js\":4}],109:[function(require,module,exports){\nconst { GPU } = require('./gpu');\nconst { alias } = require('./alias');\nconst { utils } = require('./utils');\nconst { Input, input } = require('./input');\nconst { Texture } = require('./texture');\nconst { FunctionBuilder } = require('./backend/function-builder');\nconst { FunctionNode } = require('./backend/function-node');\nconst { CPUFunctionNode } = require('./backend/cpu/function-node');\nconst { CPUKernel } = require('./backend/cpu/kernel');\n\nconst { HeadlessGLKernel } = require('./backend/headless-gl/kernel');\n\nconst { WebGLFunctionNode } = require('./backend/web-gl/function-node');\nconst { WebGLKernel } = require('./backend/web-gl/kernel');\nconst { kernelValueMaps: webGLKernelValueMaps } = require('./backend/web-gl/kernel-value-maps');\n\nconst { WebGL2FunctionNode } = require('./backend/web-gl2/function-node');\nconst { WebGL2Kernel } = require('./backend/web-gl2/kernel');\nconst { kernelValueMaps: webGL2KernelValueMaps } = require('./backend/web-gl2/kernel-value-maps');\n\nconst { GLKernel } = require('./backend/gl/kernel');\n\nconst { Kernel } = require('./backend/kernel');\n\nconst { FunctionTracer } = require('./backend/function-tracer');\n\nconst mathRandom = require('./plugins/math-random-uniformly-distributed');\n\nmodule.exports = {\n  alias,\n  CPUFunctionNode,\n  CPUKernel,\n  GPU,\n  FunctionBuilder,\n  FunctionNode,\n  HeadlessGLKernel,\n  Input,\n  input,\n  Texture,\n  utils,\n\n  WebGL2FunctionNode,\n  WebGL2Kernel,\n  webGL2KernelValueMaps,\n\n  WebGLFunctionNode,\n  WebGLKernel,\n  webGLKernelValueMaps,\n\n  GLKernel,\n  Kernel,\n  FunctionTracer,\n\n  plugins: {\n    mathRandom\n  }\n};\n},{\"./alias\":5,\"./backend/cpu/function-node\":6,\"./backend/cpu/kernel\":8,\"./backend/function-builder\":9,\"./backend/function-node\":10,\"./backend/function-tracer\":11,\"./backend/gl/kernel\":13,\"./backend/headless-gl/kernel\":34,\"./backend/kernel\":36,\"./backend/web-gl/function-node\":38,\"./backend/web-gl/kernel\":70,\"./backend/web-gl/kernel-value-maps\":39,\"./backend/web-gl2/function-node\":73,\"./backend/web-gl2/kernel\":105,\"./backend/web-gl2/kernel-value-maps\":74,\"./gpu\":108,\"./input\":110,\"./plugins/math-random-uniformly-distributed\":112,\"./texture\":113,\"./utils\":114}],110:[function(require,module,exports){\nclass Input {\n  constructor(value, size) {\n    this.value = value;\n    if (Array.isArray(size)) {\n      this.size = size;\n    } else {\n      this.size = new Int32Array(3);\n      if (size.z) {\n        this.size = new Int32Array([size.x, size.y, size.z]);\n      } else if (size.y) {\n        this.size = new Int32Array([size.x, size.y]);\n      } else {\n        this.size = new Int32Array([size.x]);\n      }\n    }\n\n    const [w, h, d] = this.size;\n    if (d) {\n      if (this.value.length !== (w * h * d)) {\n        throw new Error(`Input size ${this.value.length} does not match ${w} * ${h} * ${d} = ${(h * w * d)}`);\n      }\n    } else if (h) {\n      if (this.value.length !== (w * h)) {\n        throw new Error(`Input size ${this.value.length} does not match ${w} * ${h} = ${(h * w)}`);\n      }\n    } else {\n      if (this.value.length !== w) {\n        throw new Error(`Input size ${this.value.length} does not match ${w}`);\n      }\n    }\n\n  }\n\n  toArray() {\n    const { utils } = require('./utils');\n    const [w, h, d] = this.size;\n    if (d) {\n      return utils.erectMemoryOptimized3DFloat(this.value.subarray ? this.value : new Float32Array(this.value), w, h, d);\n    } else if (h) {\n      return utils.erectMemoryOptimized2DFloat(this.value.subarray ? this.value : new Float32Array(this.value), w, h);\n    } else {\n      return this.value;\n    }\n  }\n}\n\nfunction input(value, size) {\n  return new Input(value, size);\n}\n\nmodule.exports = {\n  Input,\n  input\n};\n},{\"./utils\":114}],111:[function(require,module,exports){\nconst { utils } = require('./utils');\n\nfunction kernelRunShortcut(kernel) {\n  let run = function() {\n    kernel.build.apply(kernel, arguments);\n    run = function() {\n      let result = kernel.run.apply(kernel, arguments);\n      if (kernel.switchingKernels) {\n        const reasons = kernel.resetSwitchingKernels();\n        const newKernel = kernel.onRequestSwitchKernel(reasons, arguments, kernel);\n        shortcut.kernel = kernel = newKernel;\n        result = newKernel.run.apply(newKernel, arguments);\n      }\n      if (kernel.renderKernels) {\n        return kernel.renderKernels();\n      } else if (kernel.renderOutput) {\n        return kernel.renderOutput();\n      } else {\n        return result;\n      }\n    };\n    return run.apply(kernel, arguments);\n  };\n  const shortcut = function() {\n    return run.apply(kernel, arguments);\n  };\n  shortcut.exec = function() {\n    return new Promise((accept, reject) => {\n      try {\n        accept(run.apply(this, arguments));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n  shortcut.replaceKernel = function(replacementKernel) {\n    kernel = replacementKernel;\n    bindKernelToShortcut(kernel, shortcut);\n  };\n\n  bindKernelToShortcut(kernel, shortcut);\n  return shortcut;\n}\n\nfunction bindKernelToShortcut(kernel, shortcut) {\n  if (shortcut.kernel) {\n    shortcut.kernel = kernel;\n    return;\n  }\n  const properties = utils.allPropertiesOf(kernel);\n  for (let i = 0; i < properties.length; i++) {\n    const property = properties[i];\n    if (property[0] === '_' && property[1] === '_') continue;\n    if (typeof kernel[property] === 'function') {\n      if (property.substring(0, 3) === 'add' || property.substring(0, 3) === 'set') {\n        shortcut[property] = function() {\n          shortcut.kernel[property].apply(shortcut.kernel, arguments);\n          return shortcut;\n        };\n      } else {\n        shortcut[property] = function() {\n          return shortcut.kernel[property].apply(shortcut.kernel, arguments);\n        };\n      }\n    } else {\n      shortcut.__defineGetter__(property, () => shortcut.kernel[property]);\n      shortcut.__defineSetter__(property, (value) => {\n        shortcut.kernel[property] = value;\n      });\n    }\n  }\n  shortcut.kernel = kernel;\n}\nmodule.exports = {\n  kernelRunShortcut\n};\n},{\"./utils\":114}],112:[function(require,module,exports){\nconst source = `// https://www.shadertoy.com/view/4t2SDh\n//note: uniformly distributed, normalized rand, [0,1]\nhighp float randomSeedShift = 1.0;\nhighp float slide = 1.0;\nuniform highp float randomSeed1;\nuniform highp float randomSeed2;\n\nhighp float nrand(highp vec2 n) {\n  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);\n  randomSeedShift = result;\n  if (randomSeedShift > 0.5) {\n    slide += 0.00009; \n  } else {\n    slide += 0.0009;\n  }\n  return result;\n}`;\n\nconst name = 'math-random-uniformly-distributed';\n\nconst functionMatch = `Math.random()`;\n\nconst functionReplace = `nrand(vTexCoord)`;\n\nconst functionReturnType = 'Number';\nconst onBeforeRun = (kernel) => {\n  kernel.setUniform1f('randomSeed1', Math.random());\n  kernel.setUniform1f('randomSeed2', Math.random());\n};\n\nconst plugin = {\n  name,\n  onBeforeRun,\n  functionMatch,\n  functionReplace,\n  functionReturnType,\n  source\n};\n\nmodule.exports = plugin;\n},{}],113:[function(require,module,exports){\nclass Texture {\n  constructor(settings) {\n    const {\n      texture,\n      size,\n      dimensions,\n      output,\n      context,\n      type = 'NumberTexture',\n      kernel,\n      internalFormat,\n      textureFormat\n    } = settings;\n    if (!output) throw new Error('settings property \"output\" required.');\n    if (!context) throw new Error('settings property \"context\" required.');\n    if (!texture) throw new Error('settings property \"texture\" required.');\n    if (!kernel) throw new Error('settings property \"kernel\" required.');\n    this.texture = texture;\n    if (texture._refs) {\n      texture._refs++;\n    } else {\n      texture._refs = 1;\n    }\n    this.size = size;\n    this.dimensions = dimensions;\n    this.output = output;\n    this.context = context;\n    this.kernel = kernel;\n    this.type = type;\n    this._deleted = false;\n    this.internalFormat = internalFormat;\n    this.textureFormat = textureFormat;\n  }\n\n  toArray() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  clone() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  delete() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  clear() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n}\n\nmodule.exports = {\n  Texture\n};\n},{}],114:[function(require,module,exports){\nconst acorn = require('acorn');\nconst { Input } = require('./input');\nconst { Texture } = require('./texture');\n\nconst FUNCTION_NAME = /function ([^(]*)/;\nconst STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nconst ARGUMENT_NAMES = /([^\\s,]+)/g;\n\nconst utils = {\n  systemEndianness() {\n    return _systemEndianness;\n  },\n  getSystemEndianness() {\n    const b = new ArrayBuffer(4);\n    const a = new Uint32Array(b);\n    const c = new Uint8Array(b);\n    a[0] = 0xdeadbeef;\n    if (c[0] === 0xef) return 'LE';\n    if (c[0] === 0xde) return 'BE';\n    throw new Error('unknown endianness');\n  },\n\n  isFunction(funcObj) {\n    return typeof(funcObj) === 'function';\n  },\n\n  isFunctionString(fn) {\n    if (typeof fn === 'string') {\n      return (fn\n        .slice(0, 'function'.length)\n        .toLowerCase() === 'function');\n    }\n    return false;\n  },\n\n  getFunctionNameFromString(funcStr) {\n    const result = FUNCTION_NAME.exec(funcStr);\n    if (!result || result.length === 0) return null;\n    return result[1].trim();\n  },\n\n  getFunctionBodyFromString(funcStr) {\n    return funcStr.substring(funcStr.indexOf('{') + 1, funcStr.lastIndexOf('}'));\n  },\n\n  getArgumentNamesFromString(fn) {\n    const fnStr = fn.replace(STRIP_COMMENTS, '');\n    let result = fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')')).match(ARGUMENT_NAMES);\n    if (result === null) {\n      result = [];\n    }\n    return result;\n  },\n\n  clone(obj) {\n    if (obj === null || typeof obj !== 'object' || obj.hasOwnProperty('isActiveClone')) return obj;\n\n    const temp = obj.constructor(); \n\n    for (let key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        obj.isActiveClone = null;\n        temp[key] = utils.clone(obj[key]);\n        delete obj.isActiveClone;\n      }\n    }\n\n    return temp;\n  },\n\n  isArray(array) {\n    return !isNaN(array.length);\n  },\n\n  getVariableType(value, strictIntegers) {\n    if (utils.isArray(value)) {\n      if (value.length > 0 && value[0].nodeName === 'IMG') {\n        return 'HTMLImageArray';\n      }\n      return 'Array';\n    }\n\n    switch (value.constructor) {\n      case Boolean:\n        return 'Boolean';\n      case Number:\n        if (strictIntegers && Number.isInteger(value)) {\n          return 'Integer';\n        }\n        return 'Float';\n      case Texture:\n        return value.type;\n      case Input:\n        return 'Input';\n    }\n    switch (value.nodeName) {\n      case 'IMG':\n        return 'HTMLImage';\n      case 'CANVAS':\n        return 'HTMLImage';\n      case 'VIDEO':\n        return 'HTMLVideo';\n    }\n    if (value.hasOwnProperty('type')) {\n      return value.type;\n    }\n    return 'Unknown';\n  },\n\n  getKernelTextureSize(settings, dimensions) {\n    let [w, h, d] = dimensions;\n    let texelCount = (w || 1) * (h || 1) * (d || 1);\n\n    if (settings.optimizeFloatMemory && settings.precision === 'single') {\n      w = texelCount = Math.ceil(texelCount / 4);\n    }\n    if (h > 1 && w * h === texelCount) {\n      return new Int32Array([w, h]);\n    }\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  closestSquareDimensions(length) {\n    const sqrt = Math.sqrt(length);\n    let high = Math.ceil(sqrt);\n    let low = Math.floor(sqrt);\n    while (high * low < length) {\n      high--;\n      low = Math.ceil(length / high);\n    }\n    return new Int32Array([low, Math.ceil(length / low)]);\n  },\n\n  getMemoryOptimizedFloatTextureSize(dimensions, bitRatio) {\n    const totalArea = utils.roundTo((dimensions[0] || 1) * (dimensions[1] || 1) * (dimensions[2] || 1) * (dimensions[3] || 1), 4);\n    const texelCount = totalArea / bitRatio;\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  getMemoryOptimizedPackedTextureSize(dimensions, bitRatio) {\n    const [w, h, d] = dimensions;\n    const totalArea = utils.roundTo((w || 1) * (h || 1) * (d || 1), 4);\n    const texelCount = totalArea / (4 / bitRatio);\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  roundTo(n, d) {\n    return Math.floor((n + d - 1) / d) * d;\n  },\n  getDimensions(x, pad) {\n    let ret;\n    if (utils.isArray(x)) {\n      const dim = [];\n      let temp = x;\n      while (utils.isArray(temp)) {\n        dim.push(temp.length);\n        temp = temp[0];\n      }\n      ret = dim.reverse();\n    } else if (x instanceof Texture) {\n      ret = x.output;\n    } else if (x instanceof Input) {\n      ret = x.size;\n    } else {\n      throw new Error(`Unknown dimensions of ${x}`);\n    }\n\n    if (pad) {\n      ret = Array.from(ret);\n      while (ret.length < 3) {\n        ret.push(1);\n      }\n    }\n\n    return new Int32Array(ret);\n  },\n\n  flatten2dArrayTo(array, target) {\n    let offset = 0;\n    for (let y = 0; y < array.length; y++) {\n      target.set(array[y], offset);\n      offset += array[y].length;\n    }\n  },\n\n  flatten3dArrayTo(array, target) {\n    let offset = 0;\n    for (let z = 0; z < array.length; z++) {\n      for (let y = 0; y < array[z].length; y++) {\n        target.set(array[z][y], offset);\n        offset += array[z][y].length;\n      }\n    }\n  },\n\n  flatten4dArrayTo(array, target) {\n    let offset = 0;\n    for (let l = 0; l < array.length; l++) {\n      for (let z = 0; z < array[l].length; z++) {\n        for (let y = 0; y < array[l][z].length; y++) {\n          target.set(array[l][z][y], offset);\n          offset += array[l][z][y].length;\n        }\n      }\n    }\n  },\n\n  flattenTo(array, target) {\n    if (utils.isArray(array[0])) {\n      if (utils.isArray(array[0][0])) {\n        if (utils.isArray(array[0][0][0])) {\n          utils.flatten4dArrayTo(array, target);\n        } else {\n          utils.flatten3dArrayTo(array, target);\n        }\n      } else {\n        utils.flatten2dArrayTo(array, target);\n      }\n    } else {\n      target.set(array);\n    }\n  },\n\n  splitArray(array, part) {\n    const result = [];\n    for (let i = 0; i < array.length; i += part) {\n      result.push(new array.constructor(array.buffer, i * 4 + array.byteOffset, part));\n    }\n    return result;\n  },\n\n  getAstString(source, ast) {\n    const lines = Array.isArray(source) ? source : source.split(/\\r?\\n/g);\n    const start = ast.loc.start;\n    const end = ast.loc.end;\n    const result = [];\n    if (start.line === end.line) {\n      result.push(lines[start.line - 1].substring(start.column, end.column));\n    } else {\n      result.push(lines[start.line - 1].slice(start.column));\n      for (let i = start.line; i < end.line; i++) {\n        result.push(lines[i]);\n      }\n      result.push(lines[end.line - 1].slice(0, end.column));\n    }\n    return result.join('\\n');\n  },\n\n  allPropertiesOf(obj) {\n    const props = [];\n\n    do {\n      props.push.apply(props, Object.getOwnPropertyNames(obj));\n    } while (obj = Object.getPrototypeOf(obj));\n\n    return props;\n  },\n\n  linesToString(lines) {\n    if (lines.length > 0) {\n      return lines.join(';\\n') + ';\\n';\n    } else {\n      return '\\n';\n    }\n  },\n  warnDeprecated(type, oldName, newName) {\n    if (newName) {\n      console.warn(`You are using a deprecated ${ type } \"${ oldName }\". It has been replaced with \"${ newName }\". Fixing, but please upgrade as it will soon be removed.`);\n    } else {\n      console.warn(`You are using a deprecated ${ type } \"${ oldName }\". It has been removed. Fixing, but please upgrade as it will soon be removed.`);\n    }\n  },\n  flipPixels: (pixels, width, height) => {\n    const halfHeight = height / 2 | 0; \n    const bytesPerRow = width * 4;\n    const temp = new Uint8ClampedArray(width * 4);\n    const result = pixels.slice(0);\n    for (let y = 0; y < halfHeight; ++y) {\n      const topOffset = y * bytesPerRow;\n      const bottomOffset = (height - y - 1) * bytesPerRow;\n\n      temp.set(result.subarray(topOffset, topOffset + bytesPerRow));\n\n      result.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n\n      result.set(temp, bottomOffset);\n    }\n    return result;\n  },\n  erectPackedFloat: (array, width) => {\n    return array.subarray(0, width);\n  },\n  erect2DPackedFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xStart = y * width;\n      const xEnd = xStart + width;\n      yResults[y] = array.subarray(xStart, xEnd);\n    }\n    return yResults;\n  },\n  erect3DPackedFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xStart = (z * height * width) + y * width;\n        const xEnd = xStart + width;\n        yResults[y] = array.subarray(xStart, xEnd);\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectMemoryOptimizedFloat: (array, width) => {\n    return array.subarray(0, width);\n  },\n  erectMemoryOptimized2DFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const offset = y * width;\n      yResults[y] = array.subarray(offset, offset + width);\n    }\n    return yResults;\n  },\n  erectMemoryOptimized3DFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const offset = (z * height * width) + (y * width);\n        yResults[y] = array.subarray(offset, offset + width);\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectFloat: (array, width) => {\n    const xResults = new Float32Array(width);\n    let i = 0;\n    for (let x = 0; x < width; x++) {\n      xResults[x] = array[i];\n      i += 4;\n    }\n    return xResults;\n  },\n  erect2DFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    let i = 0;\n    for (let y = 0; y < height; y++) {\n      const xResults = new Float32Array(width);\n      for (let x = 0; x < width; x++) {\n        xResults[x] = array[i];\n        i += 4;\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    let i = 0;\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Float32Array(width);\n        for (let x = 0; x < width; x++) {\n          xResults[x] = array[i];\n          i += 4;\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray2: (array, width) => {\n    const xResults = new Array(width);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 2);\n    }\n    return xResults;\n  },\n  erect2DArray2: (array, width, height) => {\n    const yResults = new Array(height);\n    const XResultsMax = width * 4;\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * XResultsMax;\n      let i = 0;\n      for (let x = 0; x < XResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 2);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray2: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 2);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray3: (array, width) => {\n    const xResults = new Array(width);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 3);\n    }\n    return xResults;\n  },\n  erect2DArray3: (array, width, height) => {\n    const xResultsMax = width * 4;\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * xResultsMax;\n      let i = 0;\n      for (let x = 0; x < xResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 3);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray3: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 3);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray4: (array, width) => {\n    const xResults = new Array(array);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 4);\n    }\n    return xResults;\n  },\n  erect2DArray4: (array, width, height) => {\n    const xResultsMax = width * 4;\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * xResultsMax;\n      let i = 0;\n      for (let x = 0; x < xResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 4);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray4: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 4);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n\n  flattenFunctionToString: (source, settings) => {\n    const { findDependency, thisLookup, doNotDefine } = settings;\n    let flattened = settings.flattened;\n    if (!flattened) {\n      flattened = settings.flattened = {};\n    }\n    const ast = acorn.parse(source);\n    const functionDependencies = [];\n    let indent = 0;\n\n    function flatten(ast) {\n      if (Array.isArray(ast)) {\n        const results = [];\n        for (let i = 0; i < ast.length; i++) {\n          results.push(flatten(ast[i]));\n        }\n        return results.join('');\n      }\n      switch (ast.type) {\n        case 'Program':\n          return flatten(ast.body) + (ast.body[0].type === 'VariableDeclaration' ? ';' : '');\n        case 'FunctionDeclaration':\n          return `function ${ast.id.name}(${ast.params.map(flatten).join(', ')}) ${ flatten(ast.body) }`;\n        case 'BlockStatement': {\n          const result = [];\n          indent += 2;\n          for (let i = 0; i < ast.body.length; i++) {\n            const flat = flatten(ast.body[i]);\n            if (flat) {\n              result.push(' '.repeat(indent) + flat, ';\\n');\n            }\n          }\n          indent -= 2;\n          return `{\\n${result.join('')}}`;\n        }\n        case 'VariableDeclaration':\n          const declarations = utils.normalizeDeclarations(ast)\n            .map(flatten)\n            .filter(r => r !== null);\n          if (declarations.length < 1) {\n            return '';\n          } else {\n            return `${ast.kind} ${declarations.join(',')}`;\n          }\n          case 'VariableDeclarator':\n            if (ast.init.object && ast.init.object.type === 'ThisExpression') {\n              const lookup = thisLookup(ast.init.property.name, true);\n              if (lookup) {\n                return `${ast.id.name} = ${flatten(ast.init)}`;\n              } else {\n                return null;\n              }\n            } else {\n              return `${ast.id.name} = ${flatten(ast.init)}`;\n            }\n            case 'CallExpression': {\n              if (ast.callee.property.name === 'subarray') {\n                return `${flatten(ast.callee.object)}.${flatten(ast.callee.property)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              }\n              if (ast.callee.object.name === 'gl' || ast.callee.object.name === 'context') {\n                return `${flatten(ast.callee.object)}.${flatten(ast.callee.property)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              }\n              if (ast.callee.object.type === 'ThisExpression') {\n                functionDependencies.push(findDependency('this', ast.callee.property.name));\n                return `${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              } else if (ast.callee.object.name) {\n                const foundSource = findDependency(ast.callee.object.name, ast.callee.property.name);\n                if (foundSource === null) {\n                  return `${ast.callee.object.name}.${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n                } else {\n                  functionDependencies.push(foundSource);\n                  return `${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n                }\n              } else if (ast.callee.object.type === 'MemberExpression') {\n                return `${flatten(ast.callee.object)}.${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              } else {\n                throw new Error('unknown ast.callee');\n              }\n            }\n            case 'ReturnStatement':\n              return `return ${flatten(ast.argument)}`;\n            case 'BinaryExpression':\n              return `(${flatten(ast.left)}${ast.operator}${flatten(ast.right)})`;\n            case 'UnaryExpression':\n              if (ast.prefix) {\n                return `${ast.operator} ${flatten(ast.argument)}`;\n              } else {\n                return `${flatten(ast.argument)} ${ast.operator}`;\n              }\n              case 'ExpressionStatement':\n                return `${flatten(ast.expression)}`;\n              case 'SequenceExpression':\n                return `(${flatten(ast.expressions)})`;\n              case 'ArrowFunctionExpression':\n                return `(${ast.params.map(flatten).join(', ')}) => ${flatten(ast.body)}`;\n              case 'Literal':\n                return ast.raw;\n              case 'Identifier':\n                return ast.name;\n              case 'MemberExpression':\n                if (ast.object.type === 'ThisExpression') {\n                  return thisLookup(ast.property.name);\n                }\n                if (ast.computed) {\n                  return `${flatten(ast.object)}[${flatten(ast.property)}]`;\n                }\n                return flatten(ast.object) + '.' + flatten(ast.property);\n              case 'ThisExpression':\n                return 'this';\n              case 'NewExpression':\n                return `new ${flatten(ast.callee)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              case 'ForStatement':\n                return `for (${flatten(ast.init)};${flatten(ast.test)};${flatten(ast.update)}) ${flatten(ast.body)}`;\n              case 'AssignmentExpression':\n                return `${flatten(ast.left)}${ast.operator}${flatten(ast.right)}`;\n              case 'UpdateExpression':\n                return `${flatten(ast.argument)}${ast.operator}`;\n              case 'IfStatement':\n                return `if (${flatten(ast.test)}) ${flatten(ast.consequent)}`;\n              case 'ThrowStatement':\n                return `throw ${flatten(ast.argument)}`;\n              case 'ObjectPattern':\n                return ast.properties.map(flatten).join(', ');\n              case 'ArrayPattern':\n                return ast.elements.map(flatten).join(', ');\n              case 'DebuggerStatement':\n                return 'debugger;';\n              case 'ConditionalExpression':\n                return `${flatten(ast.test)}?${flatten(ast.consequent)}:${flatten(ast.alternate)}`;\n              case 'Property':\n                if (ast.kind === 'init') {\n                  return flatten(ast.key);\n                }\n      }\n      throw new Error(`unhandled ast.type of ${ ast.type }`);\n    }\n    const result = flatten(ast);\n    if (functionDependencies.length > 0) {\n      const flattenedFunctionDependencies = [];\n      for (let i = 0; i < functionDependencies.length; i++) {\n        const functionDependency = functionDependencies[i];\n        if (!flattened[functionDependency]) {\n          flattened[functionDependency] = true;\n        }\n        flattenedFunctionDependencies.push(utils.flattenFunctionToString(functionDependency, settings) + '\\n');\n      }\n      return flattenedFunctionDependencies.join('') + result;\n    }\n    return result;\n  },\n\n  normalizeDeclarations: (ast) => {\n    if (ast.type !== 'VariableDeclaration') throw new Error('Ast is not of type \"VariableDeclaration\"');\n    const normalizedDeclarations = [];\n    for (let declarationIndex = 0; declarationIndex < ast.declarations.length; declarationIndex++) {\n      const declaration = ast.declarations[declarationIndex];\n      if (declaration.id && declaration.id.type === 'ObjectPattern' && declaration.id.properties) {\n        const { properties } = declaration.id;\n        for (let propertyIndex = 0; propertyIndex < properties.length; propertyIndex++) {\n          const property = properties[propertyIndex];\n          if (property.value.type === 'ObjectPattern' && property.value.properties) {\n            for (let subPropertyIndex = 0; subPropertyIndex < property.value.properties.length; subPropertyIndex++) {\n              const subProperty = property.value.properties[subPropertyIndex];\n              if (subProperty.type === 'Property') {\n                normalizedDeclarations.push({\n                  type: 'VariableDeclarator',\n                  id: {\n                    type: 'Identifier',\n                    name: subProperty.key.name\n                  },\n                  init: {\n                    type: 'MemberExpression',\n                    object: {\n                      type: 'MemberExpression',\n                      object: declaration.init,\n                      property: {\n                        type: 'Identifier',\n                        name: property.key.name\n                      },\n                      computed: false\n                    },\n                    property: {\n                      type: 'Identifier',\n                      name: subProperty.key.name\n                    },\n                    computed: false\n                  }\n                });\n              } else {\n                throw new Error('unexpected state');\n              }\n            }\n          } else if (property.value.type === 'Identifier') {\n            normalizedDeclarations.push({\n              type: 'VariableDeclarator',\n              id: {\n                type: 'Identifier',\n                name: property.value && property.value.name ? property.value.name : property.key.name\n              },\n              init: {\n                type: 'MemberExpression',\n                object: declaration.init,\n                property: {\n                  type: 'Identifier',\n                  name: property.key.name\n                },\n                computed: false\n              }\n            });\n          } else {\n            throw new Error('unexpected state');\n          }\n        }\n      } else if (declaration.id && declaration.id.type === 'ArrayPattern' && declaration.id.elements) {\n        const { elements } = declaration.id;\n        for (let elementIndex = 0; elementIndex < elements.length; elementIndex++) {\n          const element = elements[elementIndex];\n          if (element.type === 'Identifier') {\n            normalizedDeclarations.push({\n              type: 'VariableDeclarator',\n              id: {\n                type: 'Identifier',\n                name: element.name\n              },\n              init: {\n                type: 'MemberExpression',\n                object: declaration.init,\n                property: {\n                  type: 'Literal',\n                  value: elementIndex,\n                  raw: elementIndex.toString(),\n                  start: element.start,\n                  end: element.end\n                },\n                computed: true\n              }\n            });\n          } else {\n            throw new Error('unexpected state');\n          }\n        }\n      } else {\n        normalizedDeclarations.push(declaration);\n      }\n    }\n    return normalizedDeclarations;\n  },\n\n  splitHTMLImageToRGB: (gpu, image) => {\n    const rKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.r * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const gKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.g * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const bKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.b * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const aKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.a * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const result = [\n      rKernel(image),\n      gKernel(image),\n      bKernel(image),\n      aKernel(image),\n    ];\n    result.rKernel = rKernel;\n    result.gKernel = gKernel;\n    result.bKernel = bKernel;\n    result.aKernel = aKernel;\n    result.gpu = gpu;\n    return result;\n  },\n\n  splitRGBAToCanvases: (gpu, rgba, width, height) => {\n    const visualKernelR = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(pixel.r / 255, 0, 0, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelR(rgba);\n\n    const visualKernelG = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(0, pixel.g / 255, 0, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelG(rgba);\n\n    const visualKernelB = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(0, 0, pixel.b / 255, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelB(rgba);\n\n    const visualKernelA = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(255, 255, 255, pixel.a / 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelA(rgba);\n    return [\n      visualKernelR.canvas,\n      visualKernelG.canvas,\n      visualKernelB.canvas,\n      visualKernelA.canvas,\n    ];\n  },\n\n  getMinifySafeName: (fn) => {\n    try {\n      const ast = acorn.parse(`const value = ${fn.toString()}`);\n      const { init } = ast.body[0].declarations[0];\n      return init.body.name || init.body.body[0].argument.name;\n    } catch (e) {\n      throw new Error('Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }');\n    }\n  },\n  sanitizeName: function(name) {\n    if (dollarSign.test(name)) {\n      name = name.replace(dollarSign, 'S_S');\n    }\n    if (doubleUnderscore.test(name)) {\n      name = name.replace(doubleUnderscore, 'U_U');\n    } else if (singleUnderscore.test(name)) {\n      name = name.replace(singleUnderscore, 'u_u');\n    }\n    return name;\n  }\n};\n\nconst dollarSign = /\\$/;\nconst doubleUnderscore = /__/;\nconst singleUnderscore = /_/;\n\nconst _systemEndianness = utils.getSystemEndianness();\n\nmodule.exports = {\n  utils\n};\n},{\"./input\":110,\"./texture\":113,\"acorn\":1}]},{},[107])(107)\n});\n","const { GPU, input } = require('gpu.js');\n\nlet gpuInstance = null;\n\nfunction setup(value) {\n  gpuInstance = value;\n}\n\nfunction teardown() {\n  if (gpuInstance) {\n    gpuInstance.destroy();\n  }\n  gpuInstance = null;\n}\n\nfunction makeKernel(fn, settings) {\n  if (gpuInstance === null) {\n    setup(new GPU({ mode: 'gpu' }));\n  }\n  if (settings.hasOwnProperty('map')) {\n    return gpuInstance\n      .createKernelMap(settings.map, fn, settings)\n      .setPipeline(true);\n  }\n  return gpuInstance\n    .createKernel(fn, settings)\n    .setPipeline(true);\n}\n\nfunction makeDevKernel(fn, settings) {\n  if (settings && settings.map) {\n    throw new Error('map kernels are not supported by dev kernels');\n  }\n  const gpu = new GPU({ mode: 'dev' });\n  return gpu.createKernel(fn, settings);\n}\n\nfunction kernelInput(value, size) {\n  return input(value, size);\n}\n\nfunction release(texture) {\n  if (texture && texture.delete) {\n    texture.delete();\n  }\n}\n\nfunction clear(texture) {\n  if (texture.clear) {\n    texture.clear();\n    return;\n  }\n  if (texture instanceof Float32Array) {\n    texture.fill(0);\n  } else if (texture[0] instanceof Float32Array) {\n    for (let x = 0; x < texture.length; x++) {\n      texture[x].fill(0);\n    }\n  } else if (texture[0][0] instanceof Float32Array) {\n    for (let y = 0; y < texture.length; y++) {\n      const row = texture[y];\n      for (let x = 0; x < row.length; x++) {\n        row[x].fill(0);\n      }\n    }\n  }\n}\n\nfunction clone(texture) {\n  if (texture.clone) {\n    return texture.clone();\n  }\n  if (texture instanceof Float32Array) {\n    return texture.slice(0);\n  } else if (texture[0] instanceof Float32Array) {\n    const matrix = new Array(texture.length);\n    for (let x = 0; x < texture.length; x++) {\n      matrix[x] = texture[x].slice(0);\n    }\n    return matrix;\n  } else if (texture[0][0] instanceof Float32Array) {\n    const cube = new Array(texture.length);\n    for (let y = 0; y < texture.length; y++) {\n      const row = texture[y];\n      const matrix = new Array(row.length);\n      for (let x = 0; x < row.length; x++) {\n        matrix[x] = row[x].slice(0);\n      }\n    }\n    return cube;\n  }\n}\n\nmodule.exports = { setup, teardown, makeKernel, makeDevKernel, kernelInput, release, clone, clear };\n","module.exports = function zeros(size) {\n  return new Float32Array(size);\n};\n","const zeros = require('./zeros');\n\nmodule.exports = function zeros2D(width, height) {\n  const result = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = zeros(width);\n  }\n  return result;\n};\n","/**\n *\n * @param {Base} layer1\n * @param {Base} layer2\n */\nfunction checkSameSize(layer1, layer2) {\n  if (layer1.width !== layer2.width) {\n    throw new Error(\n      `Layer width mismatch of ${layer1.width} and ${\n        layer2.width\n      }`\n    );\n  }\n\n  if (layer1.height !== layer2.height) {\n    throw new Error(\n      `Layer height mismatch of ${layer1.height} and ${\n        layer2.height\n      }`\n    );\n  }\n}\n\nmodule.exports = {\n  checkSameSize\n};\n","const { release, clone, makeKernel, clear } = require('../utilities/kernel');\n\nclass Base {\n  static get defaults() {\n    return {\n      width: 1,\n      height: 1,\n      depth: null,\n      weights: null,\n      deltas: null,\n      name: null,\n      praxisOpts: null,\n    };\n  }\n\n  constructor(settings) {\n    // size\n    this.width = null;\n    this.height = null;\n    this.depth = null;\n\n    // what matters :P\n    this.deltas = null;\n    this.weights = null;\n\n    this.praxis = null;\n    this.praxisOpts = null;\n\n    if (this.constructor !== Base) {\n      Object.assign(this, Base.defaults, settings);\n    }\n    Object.assign(this, this.constructor.defaults, settings);\n\n    // special settings\n    this.setupPraxis(settings);\n  }\n\n  setupPraxis(settings) {\n    if (!settings) return;\n    if (settings.hasOwnProperty('praxis')) {\n      if (typeof settings.praxis === 'function') {\n        this.praxis = settings.praxis(this, settings.praxisOpts);\n      } else {\n        this.praxis = settings.praxis;\n      }\n    }\n  }\n\n  /*\n  get weights() {\n    return this._weights;\n  }\n\n  set weights(value) {\n    if (value) {\n      if (value.dimensions) {\n        if (value.dimensions[0] !== this.width) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value width`);\n        }\n        if (value.dimensions[1] !== this.height) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value height`);\n        }\n      } else {\n        if (value[0].length !== this.width) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value width`);\n        }\n        if (value.length !== this.height) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value height`);\n        }\n      }\n    }\n    this._weights = value;\n  }\n\n  get deltas() {\n    return this._deltas;\n  }\n\n  set deltas(value) {\n    if (value) {\n      if (value.dimensions) {\n        if (value.dimensions[0] !== this.width) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value width`);\n        }\n        if (value.dimensions[1] !== this.height) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value height`);\n        }\n      } else {\n        if (value[0].length !== this.width) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value width`);\n        }\n        if (value.length !== this.height) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value height`);\n        }\n      }\n    }\n    this._deltas = value;\n  } */\n\n  validate() {\n    if (Number.isNaN(this.height)) {\n      throw new Error(`${this.constructor.name} layer height is not a number`);\n    }\n    if (Number.isNaN(this.width)) {\n      throw new Error(`${this.constructor.name} layer width is not a number`);\n    }\n    if (this.height < 1) {\n      throw new Error(`${this.constructor.name} layer height is less than 1`);\n    }\n    if (this.width < 1) {\n      throw new Error(`${this.constructor.name} layer width is less than 1`);\n    }\n  }\n\n  setupKernels() {\n    // console.log(`${this.constructor.name}-setupKernels is not yet implemented`)\n  }\n\n  reuseKernels(layer) {\n    if (layer.width !== this.width) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${layer.width} is not ${\n          this.width\n        }`\n      );\n    }\n    if (layer.height !== this.height) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${\n          layer.height\n        } is not ${this.height}`\n      );\n    }\n    if (layer.hasOwnProperty('predictKernel')) {\n      if (!layer.predictKernel.immutable) {\n        throw new Error(`${layer.constructor.name}.predictKernel is not reusable, set kernel.immutable = true`);\n      }\n      this.predictKernel = layer.predictKernel;\n    }\n    if (layer.hasOwnProperty('compareKernel')) {\n      if (!layer.compareKernel.immutable) {\n        throw new Error(`${layer.constructor.name}.compareKernel is not reusable, set kernel.immutable = true`);\n      }\n      this.compareKernel = layer.compareKernel;\n    }\n    this.praxis = layer.praxis;\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  // eslint-disable-next-line\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn(previousLayer, nextLayer, learningRate) {\n    //TODO: do we need to release here?\n    const { weights: oldWeights } = this;\n    this.weights = this.praxis.run(this, previousLayer, nextLayer, learningRate);\n    release(oldWeights);\n    clear(this.deltas);\n  }\n\n  toArray() {\n    return this.weights.toArray();\n  }\n\n  toJSON() {\n    const jsonLayer = {};\n    const { defaults, name } = this.constructor;\n    if (this.constructor !== Base) {\n      Object.assign(defaults, Base.defaults, defaults);\n    }\n    const keys = Object.keys(defaults);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      if (key === 'deltas') continue;\n      if (key === 'name' && this[key] === null) continue;\n      jsonLayer[key] = this[key];\n    }\n    jsonLayer.type = name;\n    return jsonLayer;\n  }\n}\n\nmodule.exports = {\n  Base\n};\n","const zeros2D = require('./zeros-2d');\n\nmodule.exports = function zeros3D(width, height, depth) {\n  const result = new Array(depth);\n  for (let z = 0; z < depth; z++) {\n    result[z] = zeros2D(width, height);\n  }\n  return result;\n};\n","const { Base } = require('./base');\nconst zeros2D = require('../utilities/zeros-2d');\nconst zeros3D = require('../utilities/zeros-3d');\n\nclass Activation extends Base {\n  constructor(inputLayer, settings) {\n    super();\n    this.inputLayer = inputLayer;\n\n    const { width, height, depth } = inputLayer;\n    this.predictKernel = null;\n    this.compareKernel = null;\n    this.width = width;\n    this.height = height;\n    this.validate();\n    if (depth > 0) {\n      this.depth = depth;\n      this.weights = zeros3D(width, height, depth);\n      this.deltas = zeros3D(width, height, depth);\n    } else {\n      this.weights = zeros2D(width, height);\n      this.deltas = zeros2D(width, height);\n    }\n    this.setupPraxis(settings);\n  }\n}\n\nmodule.exports = { Activation };\n","const { Base } = require('./base');\nconst { Activation } = require('./activation');\n\nclass Internal {}\nclass InternalModel {}\nclass EntryPoint extends Base {}\nclass Filter extends Base {}\nclass Model extends Base {}\nclass Modifier extends Base {}\nclass Operator extends Base {}\n\nmodule.exports = { Activation, Internal, InternalModel, EntryPoint, Filter, Model, Modifier, Operator };\n","const { makeKernel, release, clone, clear } = require('../utilities/kernel');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { checkSameSize } = require('../utilities/layer-size');\nconst { Operator } = require('./types');\n\nfunction predict(inputWeights1, inputWeights2) {\n  return inputWeights1[this.thread.y][this.thread.x] + inputWeights2[this.thread.y][this.thread.x];\n}\n\nclass Add extends Operator {\n  constructor(inputLayer1, inputLayer2, settings) {\n    super();\n    this.inputLayer1 = inputLayer1;\n    this.inputLayer2 = inputLayer2;\n    this.width = this.inputLayer1.width;\n    this.height = this.inputLayer1.height;\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n    this.setupPraxis(settings);\n  }\n\n  validate() {\n    super.validate();\n    checkSameSize(this.inputLayer1, this.inputLayer2);\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(\n      this.inputLayer1.weights,\n      this.inputLayer2.weights\n    );\n    clear(this.deltas);\n  }\n\n  compare() {\n    //TODO: Do we need release and clone here?\n    release(this.inputLayer1.deltas);\n    release(this.inputLayer2.deltas);\n    this.inputLayer1.deltas = clone(this.deltas);\n    this.inputLayer2.deltas = clone(this.deltas);\n  }\n\n  /**\n   * @abstract\n   */\n  learn() {}\n}\n\nfunction add(inputLayer1, inputLayer2, settings) {\n  return new Add(inputLayer1, inputLayer2, settings);\n}\n\nmodule.exports = { Add, add, predict };\n","class Base {\n  static get defaults() {\n    return {};\n  }\n\n  constructor(layerTemplate, settings = {}) {\n    this.layerTemplate = layerTemplate;\n    this.width = layerTemplate.width || null;\n    this.height = layerTemplate.height || null;\n    this.depth = layerTemplate.depth || null;\n    Object.assign(this, this.constructor.defaults, settings);\n  }\n\n  setupKernels() {}\n\n  reuseKernels(praxis) {\n    if (praxis.width !== this.width) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${praxis.width} is not ${\n          this.width\n        }`\n      );\n    }\n    if (praxis.height !== this.height) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${\n          praxis.height\n        } is not ${this.height}`\n      );\n    }\n    if (praxis.hasOwnProperty('kernel')) {\n      this.kernel = praxis.kernel;\n    }\n  }\n\n  run() {}\n}\n\nmodule.exports = {\n  Base\n};\n","const { makeKernel } = require('../utilities/kernel');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { Base } = require('./base');\n\nfunction updateChange(value) {\n  return value;\n}\n\nfunction update(changes, weights, incomingWeights, inputDeltas) {\n  const lastChange = changes[this.thread.y][this.thread.x];\n  const inputDelta = inputDeltas[this.thread.y][0];\n  const weight = weights[this.thread.y][this.thread.x];\n  const incoming = incomingWeights[this.thread.x][0];\n\n  const change = this.constants.learningRate * inputDelta * incoming + this.constants.momentum * lastChange;\n  updateChange(change);\n  return weight + change;\n}\n\nclass ArthurDeviationWeights extends Base {\n  static get defaults() {\n    return {\n      learningRate: 0.3,\n      momentum: 0.1\n    };\n  }\n\n  constructor(layer, settings) {\n    super(layer, settings);\n    this.weightsLayer = null;\n    this.incomingLayer = null;\n    this.deltaLayer = null;\n\n    if (settings) {\n      if (settings.weightsLayer) {\n        this.weightsLayer = settings.weightsLayer\n      }\n      if (settings.incomingLayer) {\n        this.incomingLayer = settings.incomingLayer;\n      }\n      if (settings.deltaLayer) {\n        this.deltaLayer = settings.deltaLayer;\n      }\n    }\n\n    this.changes = zeros2D(layer.width, layer.height);\n  }\n\n  run(layer, previousLayer, nextLayer, learningRate) {\n    const output = this.kernel(\n      this.changes,\n      this.weightsLayer.weights,\n      this.incomingLayer.weights,\n      this.deltaLayer.deltas\n    );\n    this.changes = output.changes;\n    return output.result;\n  }\n\n  setupKernels() {\n    this.kernel = makeKernel(update, {\n      map: {\n        changes: updateChange\n      },\n      output: [this.width, this.height],\n      constants: {\n        learningRate: this.learningRate,\n        momentum: this.momentum\n      }\n    });\n  }\n}\n\nfunction arthurDeviationWeights(layer, settings) {\n  return new ArthurDeviationWeights(layer, settings);\n}\n\nmodule.exports = {\n  ArthurDeviationWeights,\n  arthurDeviationWeights,\n  update,\n  updateChange,\n};\n","const { makeKernel } = require('../utilities/kernel');\nconst { Base } = require('./base');\n\nfunction update(weights, deltas) {\n  return weights[this.thread.y][this.thread.x] + this.constants.learningRate * deltas[this.thread.y][this.thread.x];\n}\n\nclass ArthurDeviationBiases extends Base {\n  static get defaults() {\n    return {\n      learningRate: 0.3\n    };\n  }\n\n  constructor(layer, settings) {\n    super(layer, settings);\n    this.kernel = null;\n  }\n\n  run(layer, previousLayer, nextLayer, learningRate) {\n    const output = this.kernel(layer.weights, layer.deltas);\n    return output;\n  }\n\n  setupKernels() {\n    this.kernel = makeKernel(update, {\n      output: [this.width, this.height],\n      constants: {\n        learningRate: this.learningRate\n      }\n    });\n  }\n}\n\nfunction arthurDeviationBiases(layer, settings) {\n  return new ArthurDeviationBiases(layer, settings);\n}\n\nmodule.exports = {\n  ArthurDeviationBiases,\n  arthurDeviationBiases,\n  update,\n};\n","module.exports = function randomWeight() {\n  return Math.random() * 0.4 - 0.2;\n};\n","function randomFloat(a, b) {\n  return Math.random() * (b - a) + a;\n}\n\n// Random numbers utils\nfunction gaussRandom() {\n  if (gaussRandom.returnV) {\n    gaussRandom.returnV = false;\n    return gaussRandom.vVal;\n  }\n  const u = 2 * Math.random() - 1;\n  const v = 2 * Math.random() - 1;\n  const r = u * u + v * v;\n  if (r === 0 || r > 1) {\n    return gaussRandom();\n  }\n  const c = Math.sqrt((-2 * Math.log(r)) / r);\n  gaussRandom.vVal = v * c; // cache this\n  gaussRandom.returnV = true;\n  return u * c;\n}\n\nfunction randomInteger(a, b) {\n  return Math.floor(Math.random() * (b - a) + a);\n}\n\nfunction randomN(mu, std) {\n  return mu + gaussRandom() * std;\n}\n\ngaussRandom.returnV = false;\ngaussRandom.vVal = 0;\n\nmodule.exports = { randomFloat, randomInteger, randomN };\n","const randomWeight = require('./random-weight');\nconst { randomFloat } = require('./random');\n\nmodule.exports = function randos(size, std) {\n  const array = new Float32Array(size);\n  if (std) {\n    for (let i = 0; i < size; i++) {\n      array[i] = randomFloat(-std, std);\n    }\n  } else {\n    for (let i = 0; i < size; i++) {\n      array[i] = randomWeight();\n    }\n  }\n  return array;\n};\n","const randos = require('./randos');\n\nmodule.exports = function randos2D(width, height, std = null) {\n  const result = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = randos(width, std);\n  }\n  return result;\n};\n","const { Model } = require('./types');\nconst randos2D = require('../utilities/randos-2d');\nconst zeros2D = require('../utilities/zeros-2d');\n\nclass Random extends Model {\n  static get defaults() {\n    return {\n      std: null, // standard deviation\n    };\n  }\n\n  constructor(settings) {\n    super(settings);\n    this.validate();\n\n    if (!this.weights) {\n      this.weights = settings.std\n        ? randos2D(this.width, this.height, settings.std)\n        : randos2D(this.width, this.height);\n    }\n    if (!this.deltas) {\n      this.deltas = zeros2D(this.width, this.height);\n    }\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n}\n\nfunction random(settings) {\n  return new Random(settings);\n}\n\nmodule.exports = {\n  Random,\n  random\n};\n","const { makeKernel, release, clear } = require('../utilities/kernel');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { Operator } = require('./types');\n\nfunction predict(weights1, weights2) {\n  let sum = 0;\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += weights1[this.thread.y][i] * weights2[i][this.thread.x];\n  }\n  return sum;\n}\n\nfunction compareFromX(deltas, inputDeltas, inputWeights) {\n  let sum = inputDeltas[this.thread.y][this.thread.x];\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += deltas[this.thread.y][i] * inputWeights[this.thread.x][i];\n  }\n  return sum;\n}\n\nfunction compareFromY(deltas, inputDeltas, inputWeights) {\n  let sum = inputDeltas[this.thread.y][this.thread.x];\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += deltas[i][this.thread.x] * inputWeights[i][this.thread.y];\n  }\n  return sum;\n}\n\nclass Multiply extends Operator {\n  constructor(inputLayer1, inputLayer2, settings = {}) {\n    super();\n    this.inputLayer1 = inputLayer1;\n    this.inputLayer2 = inputLayer2;\n    this.compareKernel1 = null;\n    this.compareKernel2 = null;\n\n    this.width = inputLayer2.width;\n    this.height = inputLayer1.height;\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n\n    if (settings && settings.name) {\n      this.name = settings.name;\n    }\n    this.setupPraxis(settings);\n  }\n\n  validate() {\n    super.validate();\n    if (this.inputLayer1.width !== this.inputLayer2.height) {\n      throw new Error(\n        `Layer width mismatch of ${this.inputLayer1.width} and ${\n          this.inputLayer2.height\n        }`\n      );\n    }\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      constants: {\n        size: this.inputLayer2.height,\n      },\n      immutable: true,\n    });\n    this.compareKernel1 = makeKernel(compareFromX, {\n      output: [this.inputLayer1.width, this.inputLayer1.height],\n      constants: {\n        size: this.inputLayer2.width,\n      },\n      immutable: true,\n    });\n    this.compareKernel2 = makeKernel(compareFromY, {\n      output: [this.inputLayer2.width, this.inputLayer2.height],\n      constants: {\n        size: this.inputLayer1.height,\n      },\n      immutable: true,\n    });\n  }\n\n  reuseKernels(layer) {\n    super.reuseKernels(layer);\n    this.compareKernel1 = layer.compareKernel1;\n    this.compareKernel2 = layer.compareKernel2;\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(\n      this.inputLayer1.weights,\n      this.inputLayer2.weights\n    );\n    clear(this.deltas);\n  }\n\n  compare() {\n    const inputLayer1Deltas = this.inputLayer1.deltas;\n    const inputLayer2Deltas = this.inputLayer2.deltas;\n\n    const newDeltas1 = this.compareKernel1(\n      this.deltas,\n      this.inputLayer1.deltas,\n      this.inputLayer2.weights\n    );\n    const newDeltas2 = this.compareKernel2(\n      this.deltas,\n      this.inputLayer2.deltas,\n      this.inputLayer1.weights\n    );\n\n    this.inputLayer2.deltas = newDeltas2;\n    this.inputLayer1.deltas = newDeltas1;\n\n    release(inputLayer1Deltas);\n    release(inputLayer2Deltas);\n  }\n\n  learn() {}\n}\n\nfunction multiply(inputLayer1, inputLayer2, settings) {\n  return new Multiply(inputLayer1, inputLayer2, settings);\n}\n\nmodule.exports = { Multiply, multiply, predict, compareFromX, compareFromY };\n","const { Activation } = require('./types');\nconst { makeKernel, release, clear } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/sigmoid');\n\nfunction predict2D(inputs) {\n  return 1 / (1 + Math.exp(-inputs[this.thread.y][this.thread.x]));\n}\n\nfunction predict3D(inputs) {\n  return 1 / (1 + Math.exp(-inputs[this.thread.z][this.thread.y][this.thread.x]));\n}\n\nfunction compare2D(weights, deltas) {\n  const weight = weights[this.thread.y][this.thread.x];\n  const delta = deltas[this.thread.y][this.thread.x];\n  return weight * (1 - weight) * delta;\n}\n\nfunction compare3D(weights, deltas) {\n  const weight = weights[this.thread.z][this.thread.y][this.thread.x];\n  const delta = deltas[this.thread.z][this.thread.y][this.thread.x];\n  return weight * (1 - weight) * delta;\n}\n\nclass Sigmoid extends Activation {\n  setupKernels() {\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [this.width, this.height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [this.width, this.height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = this.compareKernel(this.weights, this.deltas);\n  }\n}\n\nfunction sigmoid(inputLayer, settings) {\n  return new Sigmoid(inputLayer, settings);\n}\n\nmodule.exports = { Sigmoid, sigmoid, predict2D, predict3D, compare2D, compare3D };\n","const { arthurDeviationWeights } = require('../praxis/arthur-deviation-weights');\nconst { arthurDeviationBiases } = require('../praxis/arthur-deviation-biases');\nconst { add } = require('./add');\nconst { random } = require('./random');\nconst { multiply } = require('./multiply');\nconst { sigmoid } = require('./sigmoid');\n\nfunction arthurFeedForward(settings, inputLayer) {\n  const { height } = settings;\n  function weightsPraxis(layer, settings) {\n    const praxis = arthurDeviationWeights(layer, settings);\n    praxis.setupKernels();\n    return praxis;\n  }\n  function biasesPraxis(layer, settings) {\n    const praxis = arthurDeviationBiases(layer, settings);\n    praxis.setupKernels();\n    return praxis;\n  }\n  const weightsLayer = random({\n    name: 'weights',\n    height,\n    width: inputLayer.height,\n    praxis: weightsPraxis,\n  });\n\n  const biasesLayer = random({\n    name: 'biases',\n    height,\n    praxis: biasesPraxis,\n  });\n\n  const multiplyLayer = multiply(weightsLayer, inputLayer);\n  const addLayer = add(multiplyLayer, biasesLayer);\n  const sigmoidLayer = sigmoid(addLayer);\n\n  weightsLayer.praxis.weightsLayer = weightsLayer;\n  weightsLayer.praxis.incomingLayer = inputLayer;\n  weightsLayer.praxis.deltaLayer = sigmoidLayer;\n  return sigmoidLayer;\n}\n\nmodule.exports = {\n  arthurFeedForward\n};\n","function setStride(layer, settings) {\n  const { defaults } = layer.constructor;\n\n  if (settings.hasOwnProperty('stride')) {\n    layer.strideX = settings.stride;\n    layer.strideY = settings.stride;\n  } else {\n    if (settings.hasOwnProperty('strideX')) {\n      layer.strideX = settings.strideX;\n    } else {\n      layer.strideX = defaults.stride;\n    }\n\n    if (settings.hasOwnProperty('strideY')) {\n      layer.strideY = settings.strideY;\n    } else {\n      layer.strideY = defaults.stride;\n    }\n  }\n}\n\nfunction setPadding(layer, settings) {\n  const { defaults } = layer.constructor;\n\n  if (settings.hasOwnProperty('padding')) {\n    layer.paddingX = settings.padding;\n    layer.paddingY = settings.padding;\n  } else {\n    if (settings.hasOwnProperty('paddingX')) {\n      layer.paddingX = settings.paddingX;\n    } else {\n      layer.paddingX = defaults.padding;\n    }\n\n    if (settings.hasOwnProperty('paddingY')) {\n      layer.paddingY = settings.paddingY;\n    } else {\n      layer.paddingY = defaults.padding;\n    }\n  }\n}\n\nmodule.exports = { setStride, setPadding };\n","const rondos2D = require('./randos-2d');\n\nmodule.exports = function randos3D(width, height, depth) {\n  const result = new Array(depth);\n  for (let z = 0; z < depth; z++) {\n    result[z] = rondos2D(width, height);\n  }\n  return result;\n}\n","module.exports = function values(size, value) {\n  return new Float32Array(size).fill(value);\n}","const { makeKernel, release, clone, clear } = require('../utilities/kernel');\nconst { setStride, setPadding } = require('../utilities/layer-setup');\nconst { Filter } = require('./types');\nconst randos = require('../utilities/randos');\nconst randos3D = require('../utilities/randos-3d');\nconst zeros3D = require('../utilities/zeros-3d');\nconst values = require('../utilities/values');\n\nfunction predict(inputs, filters, biases) {\n  const startFilterX = this.constants.paddingX - (this.thread.x * this.constants.strideX);\n  const startInputX = (this.thread.x * this.constants.strideX) - this.constants.paddingX;\n  const endFilterX = Math.min(this.constants.filterWidth, startFilterX + this.constants.inputWidth);\n\n  const startFilterY = this.constants.paddingY - (this.thread.y * this.constants.strideY);\n  const startInputY = (this.thread.y * this.constants.strideY) - this.constants.paddingY;\n  const endFilterY = Math.min(this.constants.filterHeight, startFilterY + this.constants.inputHeight);\n\n  let sum = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let filterY = Math.max(0, startFilterY), inputY = Math.max(0, startInputY); filterY < endFilterY; filterY++, inputY++) {\n      for (let filterX = Math.max(0, startFilterX), inputX = Math.max(0, startInputX); filterX < endFilterX; filterX++, inputX++) {\n        sum += filters[z][filterY][filterX] * inputs[z][inputY][inputX];\n      }\n    }\n  }\n  return sum + biases[this.thread.z];\n}\n\nfunction compareFilterDeltas(filterDeltas, inputs, deltas) {\n  const startDeltaX = Math.max(0, Math.ceil((this.constants.paddingX - this.thread.x) / this.constants.strideX));\n  const startInputX = startDeltaX * this.constants.strideX + this.thread.x - this.constants.paddingX;\n  const endDeltaX = Math.min(this.constants.deltaWidth, Math.floor(((this.constants.inputWidth - 1) - this.thread.x + this.constants.paddingX) / this.constants.strideX) + 1);\n\n  const startDeltaY = Math.max(0, Math.ceil((this.constants.paddingY - this.thread.y) / this.constants.strideY));\n  const startInputY = startDeltaY * this.constants.strideY + this.thread.y - this.constants.paddingY;\n  const endDeltaY = Math.min(this.constants.deltaHeight, Math.floor(((this.constants.inputHeight - 1) - this.thread.y + this.constants.paddingY) / this.constants.strideY) + 1);\n\n  let sum = filterDeltas[this.thread.z][this.thread.y][this.thread.x];\n  for (let deltaY = startDeltaY, inputY = startInputY; deltaY < endDeltaY; deltaY++, inputY += this.constants.strideY) {\n    for (let deltaX = startDeltaX, inputX = startInputX; deltaX < endDeltaX; deltaX++, inputX += this.constants.strideX) {\n      sum += inputs[this.thread.z][inputY][inputX] * deltas[this.constants.deltaZ][deltaY][deltaX];\n    }\n  }\n  return sum;\n}\n\nfunction compareInputDeltas(inputDeltas, filters, deltas) {\n  const x = this.thread.x + this.constants.paddingX;\n  const startDeltaX = x < this.constants.filterWidth ? 0 : Math.floor((x - this.constants.filterWidth + this.constants.strideX) / this.constants.strideX);\n  const startFilterX = x - startDeltaX * this.constants.strideX;\n  const endDeltaX = Math.min(startDeltaX + Math.floor(startFilterX / this.constants.strideX) + 1, this.constants.deltaWidth);\n\n  const y = this.thread.y + this.constants.paddingY;\n  const startDeltaY = y < this.constants.filterHeight ? 0 : Math.floor((y - this.constants.filterHeight + this.constants.strideY) / this.constants.strideY);\n  const startFilterY = y - startDeltaY * this.constants.strideY;\n  const endDeltaY = Math.min(startDeltaY + Math.floor(startFilterY / this.constants.strideY) + 1, this.constants.deltaHeight);\n\n  let sum = inputDeltas[this.thread.z][this.thread.y][this.thread.x];\n  let deltaY = startDeltaY;\n  for (let filterY = startFilterY; deltaY < endDeltaY; filterY -= this.constants.strideY, deltaY++) {\n    let deltaX = startDeltaX;\n    for (let filterX = startFilterX; deltaX < endDeltaX; filterX -= this.constants.strideX, deltaX++) {\n      sum += filters[this.thread.z][filterY][filterX] * deltas[this.constants.deltaZ][deltaY][deltaX];\n    }\n  }\n  return sum;\n}\n\nfunction compareBiases(biasDeltas, deltas) {\n  let sum = 0;\n  for (let y = 0; y < this.constants.deltaHeight; y++) {\n    for (let x = 0; x < this.constants.deltaWidth; x++) {\n      sum += deltas[this.thread.z][y][x];\n    }\n  }\n  return biasDeltas[this.thread.z][this.thread.y][this.thread.x] + sum;\n}\n\nclass Convolution extends Filter {\n  static get defaults() {\n    return {\n      stride: 0,\n      padding: 0,\n      bias: 0.1,\n      filterCount: 1,\n      filterWidth: 0,\n      filterHeight: 0,\n    };\n  }\n\n  constructor(settings, inputLayer) {\n    super(settings);\n\n    this.stride = null;\n    this.strideX = null;\n    this.strideY = null;\n    setStride(this, settings);\n\n    this.padding = null;\n    this.paddingX = null;\n    this.paddingY = null;\n    setPadding(this, settings);\n\n    this.filterCount = settings.filterCount;\n    this.filterWidth = settings.filterWidth;\n    this.filterHeight = settings.filterHeight;\n\n    this.width = Math.floor(\n      (inputLayer.width + this.paddingX * 2 - this.filterWidth) / this.strideX +\n        1\n    );\n    this.height = Math.floor(\n      (inputLayer.height + this.paddingY * 2 - this.filterHeight) /\n        this.strideY +\n        1\n    );\n    this.depth = this.filterCount;\n    this.weights = randos3D(this.width, this.height, this.depth);\n    this.deltas = zeros3D(this.width, this.height, this.depth);\n\n    this.biases = values(this.depth, this.bias);\n    this.biasDeltas = randos(this.depth);\n\n    this.filters = randos3D(this.filterWidth, this.filterHeight, this.filterCount);\n    this.filterDeltas = zeros3D(this.filterWidth, this.filterHeight, this.filterCount);\n\n    this.learnFilters = null;\n    this.learnInputs = null;\n    this.inputLayer = inputLayer;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      constants: {\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        inputDepth: this.inputLayer.depth,\n        strideX: this.strideX,\n        strideY: this.strideY,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterWidth: this.filterWidth,\n        filterHeight: this.filterHeight,\n      },\n      output: [this.width, this.height, this.depth],\n      immutable: true,\n    });\n\n    this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas, {\n      constants: {\n        deltasWidth: this.width,\n        deltasHeight: this.height,\n        deltasDepth: this.depth,\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        inputDepth: this.inputLayer.depth,\n        strideX: this.strideX,\n        strideY: this.strideY,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterWidth: this.filterWidth,\n        filterHeight: this.filterHeight,\n      },\n      output: [this.width, this.height, this.depth],\n      immutable: true,\n    });\n\n    this.compareInputDeltasKernel = makeKernel(compareInputDeltas, {\n      constants: {\n        filterCount: this.filterCount,\n      },\n      output: [\n        this.inputLayer.width,\n        this.inputLayer.height,\n        this.inputLayer.depth,\n      ],\n      immutable: true,\n    });\n\n    this.compareBiasesKernel = makeKernel(compareBiases, {\n      output: [1, 1, this.depth],\n      constants: {\n        deltaWidth: this.width,\n        deltaHeight: this.height,\n      },\n      immutable: true,\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(\n      this.inputLayer.weights,\n      this.filters,\n      this.biases\n    );\n  }\n\n  compare() {\n    const { filterDeltas, biasDeltas } = this;\n    this.filterDeltas = this.compareFilterDeltasKernel(\n      filterDeltas,\n      this.inputLayer.weights,\n      this.deltas\n    );\n    release(filterDeltas);\n    this.biasDeltas = this.compareBiasesKernel(biasDeltas, this.deltas);\n    release(biasDeltas);\n    release(this.deltas);\n    this.deltas = this.compareInputDeltasKernel(this.filters, this.inputLayer.deltas);\n\n    release(this.inputLayer.deltas);\n    //TODO: do we need to clone here?\n    this.inputLayer.deltas = clone(this.deltas);\n  }\n\n  learn(previousLayer, nextLayer, learningRate) {\n    // TODO: handle filters\n    // TODO: do we need to release here?\n    const { weights: oldWeights } = this;\n    this.weights = this.praxis.run(this, previousLayer, nextLayer, learningRate);\n    release(oldWeights);\n    clear(this.deltas);\n  }\n}\n\nfunction convolution(settings, inputLayer) {\n  return new Convolution(settings, inputLayer);\n}\n\nmodule.exports = {\n  Convolution,\n  convolution,\n  predict,\n  compareFilterDeltas,\n  compareInputDeltas,\n  compareBiases\n};\n","const { Filter } = require('./types');\nconst { makeKernel, release } = require('../utilities/kernel');\n\nfunction setDropout(dropout) {\n  return dropout;\n}\nfunction trainingPredict(inputs) {\n  if (setDropout(Math.random()) < this.constants.probability) {\n    return 0;\n  }\n  return inputs[this.thread.y][this.thread.x];\n}\n\nfunction predict(inputs) {\n  return inputs[this.thread.y][this.thread.x] * this.constants.probability;\n}\n\nfunction compare(dropouts, deltas) {\n  if (dropouts[this.thread.y][this.thread.x] === 0) {\n    return 0;\n  }\n  return deltas[this.thread.y][this.thread.x];\n}\n\nclass Dropout extends Filter {\n  static get defaults() {\n    return {\n      width: 1,\n      height: 1,\n      depth: null,\n      probability: 0.5\n    };\n  }\n\n  constructor(inputLayer, settings) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.height = inputLayer.height;\n    this.width = inputLayer.width;\n    this.dropouts = null;\n    this.validate();\n  }\n\n  setupKernels(isTraining) {\n    const output = [this.width, this.height];\n\n    if (isTraining) {\n      this.predictKernel = makeKernel(trainingPredict, {\n        output,\n        map: { dropouts: setDropout },\n        immutable: true,\n      });\n      this.compareKernel = makeKernel(compare, { output, immutable: true, });\n    } else {\n      this.predictKernel = makeKernel(predict, { output, immutable: true, });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    release(this.dropouts);\n    const { result, dropouts } = this.predictKernel(this.inputLayer.weights);\n    this.weights = result;\n    this.dropouts = dropouts;\n  }\n\n  compare() {\n    release(this.deltas);\n    this.deltas = this.compareKernel(this.dropouts, this.inputLayer.deltas);\n  }\n}\n\nfunction dropout(settings, inputLayer) {\n  return new Dropout(settings, inputLayer);\n}\n\nmodule.exports = { Dropout, dropout, setDropout, trainingPredict, predict, compare };\n","const { random } = require('./random');\nconst { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { sigmoid } = require('./sigmoid');\n\nfunction feedForward(settings, input) {\n  const { height, praxisOpts } = settings;\n  const weights = random({ name: 'weights', height, width: input.height, praxisOpts });\n  const biases = random({ name: 'biases', height, praxisOpts });\n  return sigmoid(add(multiply(weights, input, { praxisOpts }), biases, { praxisOpts }), { praxisOpts });\n}\n\nmodule.exports = {\n  feedForward\n};\n","const { Filter } = require('./types');\nconst { makeKernel, release } = require('../utilities/kernel');\nconst values = require('../utilities/values');\nconst randos2D = require('../utilities/randos-2d');\nconst randos3D = require('../utilities/randos-3d');\nconst zeros = require('../utilities/zeros');\nconst zeros2D = require('../utilities/zeros-2d');\nconst zeros3D = require('../utilities/zeros-3d');\n\nfunction predict(inputs, filters, biases) {\n  let output = 0;\n  let i = 0;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      output += inputs[y][x] * filters[this.thread.x][i];\n      i++;\n    }\n  }\n  return output + biases[this.thread.x];\n}\n\nfunction predict3D(inputs, filters, biases) {\n  let output = 0;\n  let i = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        output += inputs[z][y][x] * filters[this.thread.x][i];\n        i++;\n      }\n    }\n  }\n  return output + biases[this.thread.x];\n}\n\nfunction compareInputDeltas(inputDeltas, deltas, filters) {\n  let sum = 0;\n  const filterX = this.thread.x + (this.thread.y * this.output.x);\n  for (let filterY = 0; filterY < this.constants.filterCount; filterY++) {\n    sum += filters[filterY][filterX] * deltas[0][filterY];\n  }\n  return sum + inputDeltas[this.thread.y][this.thread.x];\n}\n\nfunction compareInputDeltas3D(inputDeltas, deltas, filters) {\n  let sum = 0;\n  const filterX = this.thread.x + (this.thread.y * this.output.x);\n  for (let filterY = 0; filterY < this.constants.filterCount; filterY++) {\n    sum += filters[filterY][filterX] * deltas[0][filterY];\n  }\n  return sum + inputDeltas[this.thread.z][this.thread.y][this.thread.x];\n}\n\nfunction compareBiases(biases, deltas) {\n  return biases[this.thread.x] + deltas[this.thread.y][this.thread.x];\n}\n\nfunction compareFilterDeltas(filterDeltas, inputWeights, deltas) {\n  return filterDeltas[this.thread.y][this.thread.x] + (inputWeights[this.thread.y][this.thread.x] * deltas[this.constants.deltaY][this.constants.deltaX]);\n}\n\nfunction compareFilterDeltas3D(filterDeltas, inputWeights, deltas) {\n  const inputZ = Math.floor(this.thread.x / (this.constants.inputWidth * this.constants.inputHeight));\n  const inputY = Math.floor((this.thread.x - inputZ * this.constants.inputWidth * this.constants.inputHeight) / this.constants.inputWidth);\n  const inputX = this.thread.x - this.constants.inputWidth * (inputY + this.constants.inputHeight * inputZ);\n  return filterDeltas[this.thread.y][this.thread.x] + (inputWeights[inputZ][inputY][inputX] * deltas[0][this.thread.y]);\n}\n\nclass FullyConnected extends Filter {\n  static get defaults() {\n    return {\n      bias: 0.1,\n    };\n  }\n\n  constructor(settings, inputLayer) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.validate();\n    this.compareFilterDeltasKernel = null;\n    this.compareInputDeltasKernel = null;\n    this.compareBiasesKernel = null;\n\n    const connectionCount = inputLayer.width * inputLayer.height * inputLayer.depth;\n\n    this.biases = values(this.height, this.bias);\n    this.biasDeltas = zeros(this.height);\n\n    this.filters = randos2D(connectionCount, this.height);\n    this.filterDeltas = zeros2D(connectionCount, this.height);\n\n    if (this.depth > 0) {\n      this.weights = randos3D(this.width, this.height);\n      this.deltas = zeros3D(this.width, this.height);\n    } else if (this.height > 0) {\n      this.weights = randos2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n    }\n  }\n\n  validate() {\n    super.validate();\n    if (this.depth > 0) throw new Error('depth not supported');\n  }\n\n  setupKernels() {\n    const { inputLayer } = this;\n    const connectionCount = inputLayer.width * inputLayer.height * inputLayer.depth;\n    if (inputLayer.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height],\n        constants: {\n          inputHeight: inputLayer.height,\n          inputWidth: inputLayer.width,\n          inputDepth: inputLayer.depth,\n        },\n      });\n\n      this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas3D, {\n        output: [connectionCount, this.height],\n        constants: {\n          inputWidth: inputLayer.width,\n          inputHeight: inputLayer.height,\n        },\n        immutable: true,\n      });\n\n      this.compareInputDeltasKernel = makeKernel(compareInputDeltas3D, {\n        output: [inputLayer.width, inputLayer.height, inputLayer.depth],\n        constants: {\n          filterCount: this.height,\n        },\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict, {\n        output: [this.width, this.height],\n        constants: {\n          inputHeight: inputLayer.height,\n          inputWidth: inputLayer.width,\n        },\n      });\n\n      this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas, {\n        output: [connectionCount, this.height],\n        constants: {\n          inputWidth: inputLayer.width,\n        },\n      });\n\n      this.compareInputDeltasKernel = makeKernel(compareInputDeltas, {\n        output: [inputLayer.width, inputLayer.height],\n        constants: {\n          filterCount: this.height,\n        },\n      });\n    }\n\n    this.compareBiasesKernel = makeKernel(compareBiases, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(\n      this.inputLayer.weights,\n      this.filters,\n      this.biases\n    );\n  }\n\n  compare() {\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = this.compareInputDeltasKernel(\n      inputLayerDeltas,\n      this.deltas,\n      this.filters\n    );\n    release(inputLayerDeltas);\n\n    const { biasDeltas, filterDeltas } = this;\n    // TODO: handle biasDeltas learn\n    this.biasDeltas = this.compareBiasesKernel(this.biases, this.deltas);\n\n    // TODO: handle filterDeltas learn\n    this.filterDeltas = this.compareFilterDeltasKernel(\n      filterDeltas,\n      this.inputLayer.weights,\n      this.deltas\n    );\n    release(biasDeltas);\n    release(filterDeltas);\n  }\n}\n\nfunction fullyConnected(settings, inputLayer) {\n  return new FullyConnected(settings, inputLayer);\n}\n\nmodule.exports = { FullyConnected, fullyConnected, predict, predict3D, compareInputDeltas, compareInputDeltas3D, compareBiases, compareFilterDeltas, compareFilterDeltas3D };\n","const { makeKernel, release } = require('../utilities/kernel');\nconst { Modifier } = require('./types');\n\nfunction predict(weights) {\n  return -weights[this.thread.y][this.thread.x];\n}\n\nclass Negative extends Modifier {\n  constructor(settings, inputLayer) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(this.inputLayer.weights);\n  }\n}\n\nfunction negative(settings, inputLayer) {\n  return new Negative(settings, inputLayer);\n}\n\nmodule.exports = { Negative, negative, predict };\n","const { makeKernel, release, clear } = require('../utilities/kernel');\nconst { Operator } = require('./types');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { checkSameSize } = require('../utilities/layer-size');\n\nfunction predict(inputLayerWeights1, inputLayerWeights2) {\n  return (\n    inputLayerWeights1[this.thread.y][this.thread.x] *\n    inputLayerWeights2[this.thread.y][this.thread.x]\n  );\n}\n\nfunction compare(weights, deltas) {\n  return (\n    weights[this.thread.y][this.thread.x] * deltas[this.thread.y][this.thread.x]\n  );\n}\n\nclass MultiplyElement extends Operator {\n  constructor(inputLayer1, inputLayer2) {\n    super();\n    this.inputLayer1 = inputLayer1;\n    this.inputLayer2 = inputLayer2;\n\n    this.width = inputLayer1.width;\n    this.height = inputLayer1.height;\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n  }\n\n  validate() {\n    super.validate();\n    checkSameSize(this.inputLayer1, this.inputLayer2);\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n\n    this.compareKernel = makeKernel(compare, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer1.weights, this.inputLayer2.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer1.deltas);\n    release(this.inputLayer2.deltas);\n    this.inputLayer1.deltas = this.compareKernel(this.inputLayer2.weights, this.deltas);\n    this.inputLayer2.deltas = this.compareKernel(this.inputLayer1.weights, this.deltas);\n  }\n}\n\nfunction multiplyElement(inputLayer1, inputLayer2) {\n  return new MultiplyElement(inputLayer1, inputLayer2);\n}\n\nmodule.exports = { MultiplyElement, multiplyElement, predict, compare };\n","module.exports = function ones(size) {\n  return new Float32Array(size).fill(1);\n}\n","const ones = require('./ones');\n\nmodule.exports = function ones2D(width, height) {\n  const result = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = ones(width);\n  }\n  return result;\n}\n","const ones2D = require('../utilities/ones-2d');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { Model } = require('./types');\n\nclass Ones extends Model {\n  constructor(settings) {\n    super(settings);\n    this.validate();\n    this.weights = ones2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n  }\n}\n\nfunction ones(settings) {\n  return new Ones(settings);\n}\n\nmodule.exports = {\n  Ones,\n  ones\n};\n","const { Activation } = require('./activation');\nconst { makeKernel } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/tanh');\nconst { release, clear } = require('../utilities/kernel');\n\nfunction predict2D(inputs) {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nfunction predict3D(inputs) {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nfunction compare2D(weights, errors) {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    errors[this.thread.y][this.thread.x]\n  );\n}\n\nfunction compare3D(weights, errors) {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    errors[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nclass Tanh extends Activation {\n  setupKernels() {\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [this.width, this.height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [this.width, this.height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = this.compareKernel(this.weights, this.deltas);\n  }\n}\n\nfunction tanh(inputLayer, settings) {\n  return new Tanh(inputLayer, settings);\n}\n\nmodule.exports = { Tanh, tanh, predict2D, predict3D, compare2D, compare3D };\n","const zeros2D = require('../utilities/zeros-2d');\nconst { Model } = require('./types');\n\nclass Zeros extends Model {\n  constructor(settings) {\n    super(settings);\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n}\n\nfunction zeros(settings) {\n  return new Zeros(settings);\n}\n\nmodule.exports = {\n  Zeros,\n  zeros\n};\n","const { add } = require('./add');\nconst { negative } = require('./negative');\nconst { multiply } = require('./multiply');\nconst { multiplyElement } = require('./multiply-element');\nconst { ones } = require('./ones');\nconst { sigmoid } = require('./sigmoid');\nconst { random } = require('./random');\nconst { tanh } = require('./tanh');\nconst { zeros } = require('./zeros');\n\nfunction gru(settings, recurrentInput, input) {\n  const { height } = settings;\n  const updateGateWeights = random({ height, width: input.height });\n  const updateGatePeepholes = random({ width: height, height });\n  const updateGateBias = zeros({ height });\n  const updateGate = sigmoid(\n    add(\n      add(\n        multiply(updateGateWeights, input),\n        multiply(updateGatePeepholes, recurrentInput)\n      ),\n      updateGateBias\n    )\n  );\n\n  const resetGateWeights = random({ height, width: input.height });\n  const resetGatePeepholes = random({ width: height, height });\n  const resetGateBias = zeros({ height });\n  const resetGate = sigmoid(\n    add(\n      add(\n        multiply(resetGateWeights, input),\n        multiply(resetGatePeepholes, recurrentInput)\n      ),\n      resetGateBias\n    )\n  );\n\n  const cellWeights = random({ height, width: input.height });\n  const cellPeepholes = random({ width: height, height });\n  const cellBias = zeros({ height });\n  const cell = tanh(\n    add(\n      add(\n        multiply(cellWeights, input),\n        multiply(cellPeepholes, multiplyElement(resetGate, recurrentInput))\n      ),\n      cellBias\n    )\n  );\n\n  // compute hidden state as gated, saturated cell activations\n  // negate updateGate\n  return add(\n    multiplyElement(\n      add(ones(updateGate.rows, updateGate.columns), negative(updateGate)),\n      cell\n    ),\n    multiplyElement(recurrentInput, updateGate)\n  );\n}\n\nmodule.exports = {\n  gru\n};\n","const { EntryPoint } = require('./types');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { makeKernel, release, kernelInput, clear } = require('../utilities/kernel');\n\nclass Input extends EntryPoint {\n  constructor(settings) {\n    super(settings);\n    this.validate();\n    this.weights = null;\n    this.reshapeInput = null;\n    this.deltas = zeros2D(this.width, this.height);\n  }\n\n  setupKernels() {\n    if (this.width === 1) {\n      this.predict = this.predict1D;\n      this.reshapeInput = makeKernel(function(value) {\n        return value[this.thread.y];\n      }, {\n        output: [1, this.height],\n        immutable: true,\n      });\n    } else {\n      this.reshapeInput = (inputs) => inputs;\n    }\n  }\n\n  reuseKernels(layer) {\n    super.reuseKernels(layer);\n    this.reshapeInput = layer.reshapeInput;\n  }\n\n  predict(inputs) {\n    if (typeof inputs[0] !== 'object' && inputs.length === this.height * this.width) {\n      release(this.weights);\n      this.weights = kernelInput(inputs, [this.width, this.height]);\n    } else if (\n      inputs.length === this.height &&\n      inputs[0].length === this.width\n    ) {\n      this.weights = clone(inputs);\n    } else {\n      throw new Error('Inputs are not of sized correctly');\n    }\n    clear(this.deltas);\n  }\n\n  predict1D(inputs) {\n    if (this.weights) release(this.weights);\n    this.weights = this.reshapeInput(inputs);\n    clear(this.deltas);\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  toJSON() {\n    const jsonLayer = {};\n    const { defaults, name } = this.constructor;\n    const keys = Object.keys(defaults);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n\n      if (key === 'deltas' || key === 'weights') continue;\n      jsonLayer[key] = this[key];\n    }\n    jsonLayer.type = name;\n    return jsonLayer;\n  }\n}\n\nfunction input(settings) {\n  return new Input(settings);\n}\n\nmodule.exports = {\n  Input,\n  input\n};\n","const { Activation } = require('./types');\nconst { makeKernel, release, clear } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/leaky-relu');\n\nfunction predict2D(inputs) {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nfunction predict3D(inputs) {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nfunction compare2D(weights, deltas) {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    deltas[this.thread.y][this.thread.x]\n  );\n}\n\nfunction compare3D(weights, deltas) {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    deltas[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nclass LeakyRelu extends Activation {\n  setupKernels() {\n    const { width, height, depth } = this.inputLayer;\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    const { deltas } = this;\n    this.deltas = this.compareKernel(this.weights, deltas);\n    release(deltas);\n  }\n}\n\nfunction leakyRelu(inputLayer, settings) {\n  return new LeakyRelu(inputLayer, settings);\n}\n\nmodule.exports = { LeakyRelu, leakyRelu, predict2D, predict3D, compare2D, compare3D };\n","const { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { multiplyElement } = require('./multiply-element');\nconst { random } = require('./random');\nconst { sigmoid } = require('./sigmoid');\nconst { tanh } = require('./tanh');\nconst { zeros } = require('./zeros');\n\nfunction lstmCell(settings, input, recurrentInput) {\n  const { height } = settings;\n\n  if (recurrentInput.setDimensions) recurrentInput.setDimensions(1, height);\n\n  const inputGateWeights = random({ height, width: input.height, std: 0.08 });\n  const inputGatePeepholes = random({ width: height, height, std: 0.08 });\n  const inputGateBias = zeros({ height });\n  const inputGate = sigmoid(\n    add(\n      add(\n        multiply(inputGateWeights, input),\n        multiply(inputGatePeepholes, recurrentInput)\n      ),\n      inputGateBias\n    )\n  );\n\n  const forgetGateWeights = random({ height, width: input.height, std: 0.08 });\n  const forgetGatePeepholes = random({ width: height, height, std: 0.08 });\n  const forgetGateBias = zeros({ height });\n  const forgetGate = sigmoid(\n    add(\n      add(\n        multiply(forgetGateWeights, input),\n        multiply(forgetGatePeepholes, recurrentInput)\n      ),\n      forgetGateBias\n    )\n  );\n\n  const outputGateWeights = random({ height, width: input.height, std: 0.08 });\n  const outputGatePeepholes = random({ width: height, height, std: 0.08 });\n  const outputGateBias = zeros({ height });\n  const outputGate = sigmoid(\n    add(\n      add(\n        multiply(outputGateWeights, input),\n        multiply(outputGatePeepholes, recurrentInput)\n      ),\n      outputGateBias\n    )\n  );\n\n  const memoryWeights = random({ height, width: input.height, std: 0.08 });\n  const memoryPeepholes = random({ width: height, height, std: 0.08 });\n  const memoryBias = zeros({ height });\n  const memory = tanh(\n    add(\n      add(\n        multiply(memoryWeights, input),\n        multiply(memoryPeepholes, recurrentInput)\n      ),\n      memoryBias\n    )\n  );\n\n  // compute new cell activation\n  const retainCell = multiplyElement(forgetGate, recurrentInput); // what do we keep from cell\n  const writeCell = multiplyElement(inputGate, memory); // what do we write to cell\n  const cell = add(retainCell, writeCell); // new cell contents\n\n  // compute hidden state as gated, saturated cell activations\n  return multiplyElement(outputGate, tanh(cell));\n}\n\nmodule.exports = {\n  lstmCell\n};\n","const { makeKernel, release, clone, clear } = require('../utilities/kernel');\nconst zeros = require('../utilities/zeros');\nconst zeros2D = require('../utilities/zeros-2d');\nconst zeros3D = require('../utilities/zeros-3d');\nconst { Filter } = require('./types');\n\nfunction compare1D(weights, targetValues) {\n  // return targetValues[this.thread.x] - weights[this.thread.y][this.thread.x];\n  return weights[this.thread.y][this.thread.x] - targetValues[this.thread.x];\n}\n\nfunction compare2D(weights, targetValues) {\n  // return targetValues[this.thread.y][this.thread.x] - weights[this.thread.y][this.thread.x];\n  return weights[this.thread.y][this.thread.x] - targetValues[this.thread.y][this.thread.x];\n}\n\nclass Target extends Filter {\n  constructor(settings, inputLayer) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.width = inputLayer.width;\n    this.height = inputLayer.height;\n    this.depth = inputLayer.depth;\n    this.validate();\n    if (this.depth) {\n      throw new Error('Target layer not implemented for depth');\n    } else if (this.height) {\n      this.weights = zeros2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n      this.errors = zeros2D(this.width, this.height);\n    } else {\n      this.weights = zeros(this.width);\n      this.deltas = zeros(this.width);\n      this.errors = zeros(this.width);\n    }\n  }\n\n  setupKernels() {\n    const compareFn = this.width === 1 ? compare1D : compare2D;\n    this.compareKernel = makeKernel(compareFn, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n  }\n\n  predict() {\n    //TODO: should we clone here?\n    // NOTE: this looks like it shouldn't be, but the weights are immutable, and this is where they are reused.\n    release(this.weights);\n    this.weights = clone(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare(targetValues) {\n    // this is where weights attach to deltas\n    // deltas will be zero on learn, so save it in error for comparing to mse later\n    release(this.deltas);\n    release(this.errors);\n    release(this.inputLayer.deltas);\n    this.deltas = this.compareKernel(this.weights, targetValues);\n    this.inputLayer.deltas = clone(this.deltas);\n    this.errors = clone(this.deltas);\n  }\n\n  setupPraxis() {}\n}\n\nfunction target(settings, inputLayer) {\n  return new Target(settings, inputLayer);\n}\n\nmodule.exports = {\n  Target,\n  target\n};\n","const { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { random } = require('./random');\nconst { target } = require('./target');\n\nfunction output(settings, inputLayer) {\n  const { height } = settings;\n  const outputGate = random({ height, width: inputLayer.height, name: 'outputGate', std: 0.08 });\n  const output = random({ height, name: 'output', std: 0.08 });\n  const outputGateConnector = multiply(outputGate, inputLayer, { name: 'outputGateConnected' });\n  return target({ name: 'target', ...settings }, add(outputGateConnector, output));\n}\n\nmodule.exports = {\n  output\n};\n","const { Filter } = require('./types');\nconst { makeKernel, release } = require('../utilities/kernel');\nconst { setPadding, setStride } = require('../utilities/layer-setup');\nconst zeros3D = require('../utilities/zeros-3d');\nconst randos3D = require('../utilities/randos-3d');\n\nfunction setSwitchY(value) {\n  return value;\n}\n\nfunction setSwitchX(value) {\n  return value;\n}\n\nfunction predict(inputs) {\n  const x = Math.floor(\n    (this.thread.x / this.output.x) * this.constants.inputWidth -\n      this.constants.paddingX\n  );\n  const y = Math.floor(\n    (this.thread.y / this.output.y) * this.constants.inputHeight -\n      this.constants.paddingY\n  );\n  let largestValue = -Infinity;\n  let largestX = -1;\n  let largestY = -1;\n\n  // convolve centered at this particular location\n  for (let filterY = 0; filterY < this.constants.filterHeight; filterY++) {\n    // coordinates in the original input array coordinates\n    const inputY = filterY + y;\n    for (let filterX = 0; filterX < this.constants.filterWidth; filterX++) {\n      const inputX = filterX + x;\n      if (\n        inputY >= 0 &&\n        inputY < this.constants.inputHeight &&\n        inputX >= 0 &&\n        inputX < this.constants.inputWidth\n      ) {\n        const input = inputs[this.thread.z][inputY][inputX];\n        if (input > largestValue) {\n          largestValue = input;\n          largestY = inputY;\n          largestX = inputX;\n        }\n      }\n    }\n  }\n  setSwitchY(largestY);\n  setSwitchX(largestX);\n  return largestValue;\n}\n\nfunction compare(deltas, switchY, switchX) {\n  const x = Math.floor(\n    (this.thread.x / this.output.x) * this.constants.outputWidth\n  );\n  const y = Math.floor(\n    (this.thread.y / this.output.y) * this.constants.outputHeight\n  );\n\n  let value = 0;\n\n  for (let deltasY = 0; deltasY < this.constants.inputHeight; deltasY++) {\n    for (let deltasX = 0; deltasX < this.constants.inputWidth; deltasX++) {\n      const switchXValue = switchX[deltasY][deltasX];\n      const switchYValue = switchY[deltasY][deltasX];\n      if (switchXValue === x && switchYValue === y) {\n        value += deltas[deltasY][deltasX];\n      }\n    }\n  }\n\n  return value;\n}\n\nfunction compare3D(deltas, switchY, switchX) {\n  const x = Math.floor(\n    (this.thread.x / this.output.x) * this.constants.outputWidth\n  );\n  const y = Math.floor(\n    (this.thread.y / this.output.y) * this.constants.outputHeight\n  );\n\n  let value = 0;\n\n  for (let deltasY = 0; deltasY < this.constants.inputHeight; deltasY++) {\n    for (let deltasX = 0; deltasX < this.constants.inputWidth; deltasX++) {\n      const switchXValue = switchX[this.thread.z][deltasY][deltasX];\n      const switchYValue = switchY[this.thread.z][deltasY][deltasX];\n      if (switchXValue === x && switchYValue === y) {\n        value += deltas[this.thread.z][deltasY][deltasX];\n      }\n    }\n  }\n\n  return value;\n}\n\nclass Pool extends Filter {\n  static get defaults() {\n    return {\n      padding: 0,\n      bias: 0,\n      filterWidth: 0,\n      filterHeight: 0,\n      filterCount: 0,\n    };\n  }\n\n  constructor(settings, inputLayer) {\n    super(settings);\n\n    this.stride = null;\n    this.strideX = null;\n    this.strideY = null;\n    setStride(this, settings);\n\n    this.padding = null;\n    this.paddingX = null;\n    this.paddingY = null;\n    setPadding(this, settings);\n\n    this.filterCount = settings.filterCount;\n    this.filterWidth = settings.filterWidth;\n    this.filterHeight = settings.filterHeight;\n\n    this.width = Math.floor(\n      (inputLayer.width + this.paddingX * 2 - this.filterWidth) / this.strideX +\n        1\n    );\n    this.height = Math.floor(\n      (inputLayer.height + this.paddingY * 2 - this.filterHeight) /\n        this.strideY +\n        1\n    );\n    // TODO: handle 1 depth?\n    this.depth = this.filterCount;\n\n    this.weights = randos3D(this.width, this.height, this.depth);\n    this.deltas = zeros3D(this.width, this.height, this.depth);\n\n    this.filters = randos3D(this.filterWidth, this.filterHeight, this.filterCount);\n    this.filterDeltas = zeros3D(this.filterWidth, this.filterHeight, this.filterCount);\n\n    this.learnFilters = null;\n    this.learnInputs = null;\n    this.inputLayer = inputLayer;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height, this.depth],\n      map: {\n        switchX: setSwitchX,\n        switchY: setSwitchY,\n      },\n      constants: {\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterHeight: this.filterHeight,\n        filterWidth: this.filterWidth,\n      },\n    });\n\n    this.compareKernel = makeKernel(compare, {\n      output: [this.inputLayer.width, this.inputLayer.height, this.inputLayer.depth],\n      constants: {\n        outputWidth: this.width,\n        outputHeight: this.height,\n        outputDepth: this.depth,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n      },\n    });\n  }\n\n  predict() {\n    const { result: weights, switchX, switchY } = this.predictKernel(this.inputLayer.weights);\n    this.switchX = switchX;\n    this.switchY = switchY;\n    this.weights = weights;\n    return this.weights;\n  }\n\n  compare() {\n    debugger;\n    const depth = this.inputLayer.deltas.length;\n    const height = this.inputLayer.deltas[0].length;\n    const width = this.inputLayer.deltas[0][0].length;\n    const type = typeof this.inputLayer.deltas[0][0][0];\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = this.compareKernel(\n      this.deltas,\n      this.switchX,\n      this.switchY\n    );\n    release(inputLayerDeltas);\n    debugger;\n    if (depth !== this.inputLayer.deltas.length) debugger;\n    if (height !== this.inputLayer.deltas[0].length) debugger;\n    if (width !== this.inputLayer.deltas[0][0].length) debugger;\n    if (type !== typeof this.inputLayer.deltas[0][0][0]) debugger;\n  }\n}\n\nfunction pool(settings, inputLayer) {\n  return new Pool(settings, inputLayer);\n}\n\nmodule.exports = { Pool, pool, predict, compare, compare3D };\n","const { Activation } = require('./types');\nconst { makeKernel, release, clear } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/relu');\nconst zeros2D = require('../utilities/zeros-2d');\n\nfunction predict2D(inputs) {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nfunction compare2D(weights, deltas) {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    deltas[this.thread.y][this.thread.x]\n  );\n}\n\nfunction predict3D(inputs) {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nfunction compare3D(weights, deltas) {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    deltas[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nclass Relu extends Activation {\n  setupKernels() {\n    const { width, height, depth } = this.inputLayer;\n    if (depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = this.compareKernel(this.weights, this.deltas);\n  }\n}\n\nfunction relu(inputLayer, settings) {\n  return new Relu(inputLayer, settings);\n}\n\nmodule.exports = { Relu, relu, predict2D, compare2D, predict3D, compare3D };\n","const { relu } = require('./relu');\nconst { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { random } = require('./random');\nconst { zeros } = require('./zeros');\n\nfunction rnnCell(settings, input, recurrentInput) {\n  const { height } = settings;\n\n  if (recurrentInput.setDimensions) recurrentInput.setDimensions(1, height);\n\n  // wxh\n  const weight = random({ name: 'weight', height, width: input.height, std: 0.08 });\n  // whh\n  const transition = random({ name: 'transition', height, width: height, std: 0.08 });\n  // bhh\n  const bias = zeros({ name: 'bias', height });\n\n  return relu(\n    add(\n      add(multiply(weight, input), multiply(transition, recurrentInput)),\n      bias\n    )\n  );\n}\n\nmodule.exports = {\n  rnnCell\n};\n","const { Base } = require('./base');\n\nclass Regression extends Base {\n  constructor(settings) {\n    super(settings);\n    this.validate();\n  }\n\n  predict() {\n    this.weights = this.inputs;\n  }\n\n  learn() {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n}\n\nfunction learn(inputs, targets) {\n  return inputs[this.thread.x] - targets[this.thread.x];\n}\n\n// TODO: handle `loss += 0.5*dy*dy;` total and sum in learn\nfunction regression(settings, inputLayer) {\n  return new Regression(settings, inputLayer);\n}\n\nmodule.exports = {\n  Regression,\n  regression,\n  learn\n};\n","const { makeKernel, release, clone } = require('../utilities/kernel');\nconst { Filter } = require('./types');\nconst randos = require('../utilities/randos');\nconst randos2D = require('../utilities/randos-2d');\nconst randos3D = require('../utilities/randos-3d');\nconst zeros = require('../utilities/zeros');\nconst zeros2D = require('../utilities/zeros-2d');\nconst zeros3D = require('../utilities/zeros-3d');\n\nfunction getMaxValue(inputs) {\n  let maxInput = -Infinity;\n  for (let x = 0; x < this.constants.inputWidth; x++) {\n    const input = inputs[x];\n    if (input > maxInput) {\n      maxInput = input;\n    }\n  }\n  return maxInput;\n}\n\nfunction getMaxValue2D(inputs) {\n  let maxInput = -Infinity;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      const input = inputs[y][x];\n      if (input > maxInput) {\n        maxInput = input;\n      }\n    }\n  }\n  return maxInput;\n}\n\nfunction getMaxValue3D(inputs) {\n  let maxInput = -Infinity;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        const input = inputs[z][y][x];\n        if (input > maxInput) {\n          maxInput = input;\n        }\n      }\n    }\n  }\n  return maxInput;\n}\n\nfunction getSum(inputs) {\n  let sum = 0;\n  for (let x = 0; x < this.constants.inputWidth; x++) {\n    sum += inputs[x];\n  }\n  return sum;\n}\n\nfunction getSum2D(inputs) {\n  let sum = 0;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      sum += inputs[y][x];\n    }\n  }\n  return sum;\n}\n\nfunction getSum3D(inputs) {\n  let sum = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        sum += inputs[z][y][x];\n      }\n    }\n  }\n  return sum;\n}\n\nfunction getExponentials(inputs, maxInput) {\n  return Math.exp(\n    inputs[this.thread.x] - maxInput[0]\n  );\n}\n\nfunction getExponentials2D(inputs, maxInput) {\n  return Math.exp(\n    inputs[this.thread.y][this.thread.x] - maxInput[0]\n  );\n}\n\nfunction getExponentials3D(inputs, maxInput) {\n  return Math.exp(\n    inputs[this.thread.z][this.thread.y][this.thread.x] - maxInput[0]\n  );\n}\n\nfunction predict(exponentials, exponentialsSum) {\n  return (\n    exponentials[this.thread.x] / exponentialsSum[0]\n  );\n}\n\nfunction predict2D(exponentials, exponentialsSum) {\n  return (\n    exponentials[this.thread.y][this.thread.x] /\n    exponentialsSum[0]\n  );\n}\n\nfunction predict3D(exponentials, exponentialsSum) {\n  return (\n    exponentials[this.thread.z][this.thread.y][this.thread.x] /\n    exponentialsSum[0]\n  );\n}\n\nfunction compare(target, exponentials) {\n  let indicator = 0;\n  if (this.thread.x === target) {\n    indicator = 1;\n  }\n  return -(indicator - exponentials[this.thread.x]);\n}\n\nfunction compare2D(target, exponentials) {\n  let indicator = 0;\n  const index = this.thread.x + (this.thread.y * this.output.x);\n  if (index === target) {\n    indicator = 1;\n  }\n  return -(indicator - exponentials[this.thread.y][this.thread.x]);\n}\n\nfunction compare3D(target, exponentials) {\n  let indicator = 0;\n  const index = this.thread.x\n    + (this.thread.y * this.output.x)\n    + (this.thread.z * this.output.x * this.output.y);\n  if (index === target) {\n    indicator = 1;\n  }\n  return -(indicator - exponentials[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nfunction loss(exponentials) {\n  return -Math.log();\n}\n\n// TODO: handle: `return -Math.log(this.es[y]);` in learn\n\nclass SoftMax extends Filter {\n  constructor(inputLayer) {\n    super();\n    this.width = inputLayer.width;\n    this.height = inputLayer.height;\n    this.depth = inputLayer.depth;\n    this.getExponentialsKernel = null;\n    this.getMaxValueKernel = null;\n    this.getSumKernel = null;\n    this.inputLayer = inputLayer;\n    this.validate();\n\n    if (this.depth > 0) {\n      this.weights = randos3D(this.width, this.height, this.depth);\n      this.deltas = zeros3D(this.width, this.height, this.depth);\n    } else if (this.height > 0) {\n      this.weights = randos2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n    } else {\n      this.weights = randos(this.width);\n      this.deltas = zeros(this.width);\n    }\n  }\n\n  setupKernels() {\n    const { width, height, depth } = this;\n    if (depth > 0) {\n      this.getExponentialsKernel = makeKernel(getExponentials3D, {\n        output: [width, height, depth],\n      });\n      this.getMaxValueKernel = makeKernel(getMaxValue3D, {\n        output: [1, 1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n          inputDepth: depth,\n        },\n      });\n      this.getSumKernel = makeKernel(getSum3D, {\n        output: [1, 1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n          inputDepth: depth,\n        },\n      });\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n      });\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        immutable: true,\n      });\n    } else {\n      this.getExponentialsKernel = makeKernel(getExponentials, {\n        output: [width, height],\n      });\n      this.getMaxValueKernel = makeKernel(getMaxValue2D, {\n        output: [1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n        },\n      });\n      this.getSumKernel = makeKernel(getSum2D, {\n        output: [1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n        },\n      });\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n      });\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    const maxValue = this.getMaxValueKernel(this.inputLayer.weights);\n    const exponentials = this.getExponentialsKernel(\n      this.inputLayer.weights,\n      maxValue\n    );\n    const exponentialsSum = this.getSumKernel(exponentials);\n    this.weights = this.predictKernel(exponentials, exponentialsSum);\n  }\n\n  compare(targetValues) {\n    const { deltas, errors } = this;\n    this.errors = this.compareKernel(targetValues[0], deltas);\n    this.deltas = clone(this.errors);\n    release(deltas);\n    release(errors);\n\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = clone(this.deltas);\n    release(inputLayerDeltas);\n  }\n}\n\nfunction softMax(settings, inputLayer) {\n  return new SoftMax(settings, inputLayer);\n}\n\nmodule.exports = {\n  SoftMax, softMax,\n  getMaxValue, getMaxValue2D, getMaxValue3D,\n  getSum, getSum2D, getSum3D,\n  getExponentials, getExponentials2D, getExponentials3D,\n  predict, predict2D, predict3D,\n  compare, compare2D, compare3D,\n  loss\n};\n","const { Base } = require('./base');\n\nclass SVM extends Base {\n  predict() {\n    this.weights = this.inputs;\n    this.validate();\n  }\n\n  learn() {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n}\n\nfunction learn(target) {\n  // if(y === i) { continue; }\n  // var ydiff = -yscore + x.w[i] + margin;\n  // if(ydiff > 0) {\n  //   // violating dimension, apply loss\n  //   x.dw[i] += 1;\n  //   x.dw[y] -= 1;\n  //   loss += ydiff;\n  // }\n}\n\nfunction svm(settings, inputLayer) {\n  return new SVM(settings, inputLayer);\n}\n\nmodule.exports = {\n  SVM,\n  svm\n};\n","const { Modifier } = require('./types');\nconst { makeKernel, release, clear } = require('../utilities/kernel');\n\nfunction predict(array) {\n  return array[this.thread.x][this.thread.y];\n}\n\nconst compare = predict;\n\nclass Transpose extends Modifier {\n  constructor(inputLayer) {\n    super();\n    this.inputLayer = inputLayer;\n    this.width = this.inputLayer.height;\n    this.height = this.inputLayer.width;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.height, this.width],\n    });\n    this.compareKernel = makeKernel(compare, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    // TODO: needs switched to this.compareKernel?\n    this.inputLayer.deltas = this.predictKernel(this.deltas);\n  }\n}\n\nfunction transpose(inputLayer) {\n  return new Transpose(inputLayer);\n}\n\nmodule.exports = {\n  Transpose,\n  transpose,\n};\n","const { Add, add } = require('./add');\nconst { arthurFeedForward } = require('./arthur-feed-forward');\nconst { Base } = require('./base');\nconst { Convolution, convolution } = require('./convolution');\nconst { Dropout, dropout } = require('./dropout');\nconst { feedForward } = require('./feed-forward');\nconst { FullyConnected, fullyConnected } = require('./fully-connected');\nconst { gru } = require('./gru');\nconst { Input, input } = require('./input');\nconst { LeakyRelu, leakyRelu } = require('./leaky-relu');\nconst { lstmCell } = require('./lstm-cell');\nconst { Multiply, multiply } = require('./multiply');\nconst { MultiplyElement, multiplyElement } = require('./multiply-element');\nconst { Negative, negative } = require('./negative');\nconst { Ones, ones } = require('./ones');\nconst { output } = require('./output');\nconst { Pool, pool } = require('./pool');\nconst { Random, random } = require('./random');\nconst { rnnCell } = require('./rnn-cell');\nconst { Regression, regression } = require('./regression');\nconst { Relu, relu } = require('./relu');\nconst { Sigmoid, sigmoid } = require('./sigmoid');\nconst { SoftMax, softMax } = require('./soft-max');\nconst { SVM, svm } = require('./svm');\nconst { Tanh, tanh } = require('./tanh');\nconst { Target, target } = require('./target');\nconst { Transpose, transpose } = require('./transpose');\nconst { Zeros, zeros } = require('./zeros');\nconst types = require('./types');\n\n/**\n * @description Layer API, to make it easier to use layers for the world\n */\nmodule.exports = {\n  Add,\n  add,\n  arthurFeedForward,\n  Base,\n  Convolution,\n  convolution,\n  Dropout,\n  dropout,\n  feedForward,\n  FullyConnected,\n  fullyConnected,\n  gru,\n  Input,\n  input,\n  LeakyRelu,\n  leakyRelu,\n  lstmCell,\n  Multiply,\n  multiply,\n  MultiplyElement,\n  multiplyElement,\n  Negative,\n  negative,\n  Ones,\n  ones,\n  output,\n  Pool,\n  pool,\n  Random,\n  random,\n  Regression,\n  regression,\n  Relu,\n  relu,\n  rnnCell,\n  Sigmoid,\n  sigmoid,\n  SoftMax,\n  softMax,\n  SVM,\n  svm,\n  Tanh,\n  tanh,\n  Target,\n  target,\n  Transpose,\n  transpose,\n  Zeros,\n  zeros,\n\n  types,\n};\n","/**\n *\n * @param {*} input\n * @param {brain.NeuralNetwork} net\n * @returns {*}\n */\nmodule.exports = function likely(input, net) {\n  if (!net) {\n    throw new TypeError(\n      `Required parameter 'net' is of type ${typeof net}. Must be of type 'brain.NeuralNetwork'`\n    );\n  }\n\n  const output = net.run(input);\n  let maxProp = null;\n  let maxValue = -1;\n\n  Object.keys(output).forEach((key) => {\n    const value = output[key];\n    if (value > maxValue) {\n      maxProp = key;\n      maxValue = value;\n    }\n  });\n\n  return maxProp;\n};\n","/* Functions for turning sparse hashes into arrays and vice versa */\nclass lookup {\n  /**\n   * Performs `[{a: 1}, {b: 6, c: 7}] -> {a: 0, b: 1, c: 2}`\n   * @param {Object} hashes\n   * @returns {Object}\n   */\n  static toTable(hashes) {\n    const hash = hashes.reduce((memo, hash) => {\n      return Object.assign(memo, hash);\n    }, {});\n\n    return lookup.toHash(hash);\n  }\n\n  /**\n   * Performs `[{a: 1}, {b: 6, c: 7}] -> {a: 0, b: 1, c: 2}`\n   * @param {Object} objects2D\n   * @returns {Object}\n   */\n  static toTable2D(objects2D) {\n    const table = {};\n    let valueIndex = 0;\n    for (let i = 0; i < objects2D.length; i++) {\n      const objects = objects2D[i];\n      for (let j = 0; j < objects.length; j++) {\n        const object = objects[j];\n        for (const p in object) {\n          if (object.hasOwnProperty(p) && !table.hasOwnProperty(p)) {\n            table[p] = valueIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  }\n\n  static toInputTable(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      for (let p in data[dataIndex].input) {\n        if (!table.hasOwnProperty(p)) {\n          table[p] = tableIndex++;\n        }\n      }\n    }\n    return table;\n  }\n\n  static toInputTable2D(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      const input = data[dataIndex].input;\n      for (let i = 0; i < input.length; i++) {\n        const object = input[i];\n        for (let p in object) {\n          if (!table.hasOwnProperty(p)) {\n            table[p] = tableIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  }\n\n  static toOutputTable(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      for (let p in data[dataIndex].output) {\n        if (!table.hasOwnProperty(p)) {\n          table[p] = tableIndex++;\n        }\n      }\n    }\n    return table;\n  }\n\n  static toOutputTable2D(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      const output = data[dataIndex].output;\n      for (let i = 0; i < output.length; i++) {\n        const object = output[i];\n        for (let p in object) {\n          if (!table.hasOwnProperty(p)) {\n            table[p] = tableIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  }\n\n  /**\n   * performs `{a: 6, b: 7} -> {a: 0, b: 1}`\n   * @param {Object} hash\n   * @returns {Object}\n   */\n  static toHash(hash) {\n    let lookup = {};\n    let index = 0;\n    for (let i in hash) {\n      lookup[i] = index++;\n    }\n    return lookup;\n  }\n\n  /**\n   * performs `{a: 0, b: 1}, {a: 6} -> [6, 0]`\n   * @param {*} lookup\n   * @param {*} object\n   * @param {*} arrayLength\n   * @returns {Float32Array}\n   */\n  static toArray(lookup, object, arrayLength) {\n    const result = new Float32Array(arrayLength);\n    for (let p in lookup) {\n      result[lookup[p]] = object.hasOwnProperty(p) ? object[p] : 0;\n    }\n    return result;\n  }\n\n  static toArrayShort(lookup, object) {\n    const result = [];\n    for (let p in lookup) {\n      if (!object.hasOwnProperty(p)) break;\n      result[lookup[p]] = object[p];\n    }\n    return Float32Array.from(result);\n  }\n\n  static toArrays(lookup, objects, arrayLength) {\n    const result = [];\n    for (let i = 0; i < objects.length; i++) {\n      result.push(this.toArray(lookup, objects[i], arrayLength));\n    }\n    return result;\n  }\n\n  /**\n   * performs `{a: 0, b: 1}, [6, 7] -> {a: 6, b: 7}`\n   * @param {Object} lookup\n   * @param {Array} array\n   * @returns {Object}\n   */\n  static toObject(lookup, array) {\n    const object = {};\n    for (let p in lookup) {\n      object[p] = array[lookup[p]];\n    }\n    return object;\n  }\n\n  static toObjectPartial(lookup, array, offset = 0, limit = 0) {\n    const object = {};\n    let i = 0;\n    for (let p in lookup) {\n      if (offset > 0) {\n        if (i++ < offset) continue;\n      }\n      if (limit > 0) {\n        if (i++ >= limit) continue;\n      }\n      object[p] = array[lookup[p] - offset];\n    }\n    return object;\n  }\n\n  /**\n   *\n   * @param {Array} array\n   * @returns {*}\n   */\n  static lookupFromArray(array) {\n    let lookup = {};\n    let z = 0;\n    let i = array.length;\n    while (i-- > 0) {\n      lookup[array[i]] = z++;\n    }\n    return lookup;\n  }\n\n  static dataShape(data) {\n    const shape = [];\n\n    if (data.input) {\n      shape.push('datum');\n      data = data.input;\n    } else if (Array.isArray(data)) {\n      if (data[0].input) {\n        shape.push('array', 'datum');\n        data = data[0].input;\n      } else {\n        shape.push('array');\n        data = data[0];\n      }\n    }\n\n    let p;\n    while (data) {\n      for (p in data) { break; }\n      if (!data.hasOwnProperty(p)) break;\n      if (Array.isArray(data) || data.buffer instanceof ArrayBuffer) {\n        shape.push('array');\n        data = data[p];\n      } else if (typeof data === 'object') {\n        shape.push('object');\n        data = data[p];\n      } else {\n        throw new Error('unhandled signature');\n      }\n    }\n    shape.push(typeof data);\n    return shape;\n  }\n\n  static addKeys(value, table) {\n    if (Array.isArray(value)) return;\n    table = table || {};\n    let i = Object.keys(table).length;\n    for (const p in value) {\n      if (!value.hasOwnProperty(p)) continue;\n      if (table.hasOwnProperty(p)) continue;\n      table[p] = i++;\n    }\n    return table;\n  }\n}\n\nmodule.exports = lookup;\n","// TODO: implement and test\nclass Adam {}\n\nfunction adam() {\n  // gradient = grad_fun(theta)\n  //\n  //           # Update moment estimates\n  // moment1 = beta1 * moment1 + (1 - beta1) * gradient\n  // moment2 = beta2 * moment2 + (1 - beta2) * np.square(gradient)\n  //\n  //           # Yield adapted gradient\n  // theta = ( theta - alpha * (1 - beta2**t)**0.5 / (1 - beta1**t) *\n  //   moment1 / (epsilon + np.sqrt(moment2)) )\n  // yield theta\n  // t += 1\n  // adam update\n  // gsumi[j] = gsumi[j] * this.beta1 + (1- this.beta1) * gij; // update biased first moment estimate\n  // xsumi[j] = xsumi[j] * this.beta2 + (1-this.beta2) * gij * gij; // update biased second moment estimate\n  // var biasCorr1 = gsumi[j] * (1 - Math.pow(this.beta1, this.k)); // correct bias first moment estimate\n  // var biasCorr2 = xsumi[j] * (1 - Math.pow(this.beta2, this.k)); // correct bias second moment estimate\n  // var dx =  - this.learning_rate * biasCorr1 / (Math.sqrt(biasCorr2) + this.eps);\n  // p[j] += dx;\n}\n\nmodule.exports = {\n  Adam, adam\n};\n","const { makeKernel, release } = require('../utilities/kernel');\nconst zeros2D = require('../utilities/zeros-2d');\n\nconst { Base } = require('./base');\n\nfunction getMomentum(delta, decay, previousMomentum) {\n  return previousMomentum * decay + (1 - decay) * delta * delta;\n}\n\nfunction clipByValue(value, max, min) {\n  if (value > max) {\n    return max;\n  }\n  if (value < min) {\n    return min;\n  }\n  return value;\n}\n\n/**\n * @description Momentum Root Mean Square Propagation Function\n * @returns {number}\n */\nfunction update(\n  weights,\n  deltas,\n  previousMomenta\n) {\n  const delta = deltas[this.thread.y][this.thread.x];\n  const clippedDelta = clipByValue(\n    delta,\n    this.constants.clipValue,\n    -this.constants.clipValue\n  );\n  const weight = weights[this.thread.y][this.thread.x];\n  const previousMomentum = previousMomenta[this.thread.y][this.thread.x];\n  const momentum = getMomentum(\n    delta,\n    this.constants.decayRate,\n    previousMomentum\n  );\n  return (\n    weight +\n    (-this.constants.learningRate * clippedDelta) /\n      Math.sqrt(momentum + this.constants.smoothEps) -\n    this.constants.regularizationStrength * weight\n  );\n}\n\nfunction isClippedByValue(value, max, min) {\n  if (value > max) {\n    return 1;\n  }\n  if (value < min) {\n    return 1;\n  }\n  return 0;\n}\n\nclass MomentumRootMeanSquaredPropagation extends Base {\n  static get defaults() {\n    return {\n      decayRate: 0.999,\n      regularizationStrength: 0.0001,\n      learningRate: 0.01,\n      smoothEps: 1e-8,\n      clipValue: 5\n    };\n  }\n\n  constructor(layerTemplate, settings = {}) {\n    super(layerTemplate, settings);\n    this.momenta = zeros2D(layerTemplate.width, layerTemplate.height);\n  }\n\n  run(layer, previousLayer, nextLayer, learningRate) {\n    const { momenta, result } = this.kernel(layer.weights, layer.deltas, this.momenta);\n    release(this.momenta);\n    this.momenta = momenta;\n    return result;\n  }\n\n  setupKernels() {\n    this.kernel = makeKernel(update, {\n      output: [this.width, this.height],\n      constants: {\n        clipValue: this.clipValue,\n        decayRate: this.decayRate,\n        learningRate: this.learningRate,\n        regularizationStrength: this.regularizationStrength,\n        smoothEps: this.smoothEps,\n      },\n      functions: [clipByValue],\n      map: {\n        momenta: getMomentum,\n      },\n      immutable: true,\n    });\n  }\n}\n\nfunction momentumRootMeanSquaredPropagation(layer, settings) {\n  return new MomentumRootMeanSquaredPropagation(layer, settings);\n}\n\n/**\n * @description Mathematician friendly name of MomentumRootMeanSquaredPropagation class. For those that are not mere mortals\n * @type {MomentumRootMeanSquaredPropagation}\n */\nconst MRmsProp = MomentumRootMeanSquaredPropagation;\nconst mRmsProp = momentumRootMeanSquaredPropagation;\n\nmodule.exports = {\n  MomentumRootMeanSquaredPropagation, momentumRootMeanSquaredPropagation,\n  MRmsProp, mRmsProp,\n  getMomentum, clipByValue, isClippedByValue\n};\n","const { Adam, adam } = require('./adam');\nconst { ArthurDeviationBiases, arthurDeviationBiases } = require('./arthur-deviation-biases');\nconst { ArthurDeviationWeights, arthurDeviationWeights } = require('./arthur-deviation-weights');\nconst {\n  MomentumRootMeanSquaredPropagation, momentumRootMeanSquaredPropagation,\n  MRmsProp, mRmsProp\n} = require('./momentum-root-mean-squared-propagation');\n\nmodule.exports = {\n  Adam, adam,\n  ArthurDeviationBiases, arthurDeviationBiases,\n  ArthurDeviationWeights, arthurDeviationWeights,\n  MomentumRootMeanSquaredPropagation, momentumRootMeanSquaredPropagation,\n  MRmsProp, mRmsProp,\n};\n","const layer = require('../layer');\n\nmodule.exports = function layerFromJSON(jsonLayer) {\n  if (!layer.hasOwnProperty(jsonLayer.type)) return null;\n  const Layer = layer[jsonLayer.type];\n\n  // eslint-disable-next-line\n  const realLayer = Reflect.construct(Layer, arguments)\n\n  Object.keys(jsonLayer).forEach(p => {\n    if (p !== 'type') {\n      realLayer[p] = jsonLayer[p];\n    }\n  });\n\n  return realLayer;\n}\n","module.exports = function traverseLayersFrom(layer, cb) {\n  if (layer.hasOwnProperty('inputLayer')) {\n    traverseLayersFrom(layer.inputLayer, cb);\n  } else {\n    if (layer.hasOwnProperty('inputLayer1')) {\n      traverseLayersFrom(layer.inputLayer1, cb);\n    }\n    if (layer.hasOwnProperty('inputLayer2')) {\n      traverseLayersFrom(layer.inputLayer2, cb);\n    }\n  }\n  cb(layer);\n};\n","const traverseLayersFrom = require('./traverse-layers-from');\n\nmodule.exports = function flattenLayers(layers) {\n  const result = layers.slice(0);\n  for (let i = 0; i < result.length; i++) {\n    let offset = 0;\n    traverseLayersFrom(result[i], layer => {\n      if (result.indexOf(layer) === -1) {\n        result.splice(i + offset, 0, layer);\n        offset++;\n      }\n    });\n  }\n  return result;\n};\n","const { makeKernel } = require('../utilities/kernel');\n\nfunction mse2d(errors) {\n  // mean squared error 2d\n  let sum = 0;\n  for (let y = 0; y < this.constants.height; y++) {\n    for (let x = 0; x < this.constants.width; x++) {\n      sum += errors[y][x] ** 2;\n    }\n  }\n  return sum / this.constants.length;\n}\n\nclass MeanSquaredError {\n  constructor({ width, height }) {\n    this.calculate = makeKernel(mse2d, {\n      output: [1],\n      constants: {\n        width,\n        height,\n        length: width * height,\n      },\n      immutable: true,\n    });\n    this.addAbsolute = makeKernel(function(value1, value2) {\n      return value1[0] + Math.abs(value2[0][0]);\n    }, {\n      output: [1],\n      immutable: true,\n    });\n    this.add = makeKernel(function(value1, value2) {\n      return value1[0] + value2[0];\n    }, {\n      output: [1],\n      immutable: true,\n    });\n    this.divide = makeKernel(function(length, mseSum) {\n      const value = mseSum[0];\n      if (value > 0) {\n        return value / length;\n      }\n      return 0;\n    }, {\n      output: [1],\n      immutable: true,\n    });\n  }\n}\n\nmodule.exports = { MeanSquaredError };\n","const lookup = require('./lookup');\nconst layerFromJSON = require('./utilities/layer-from-json');\nconst praxis = require('./praxis');\nconst flattenLayers = require('./utilities/flatten-layers');\nconst { makeKernel, release } = require('./utilities/kernel');\nconst { MeanSquaredError } = require('./estimator/mean-squared-error');\nconst { Model } = require('./layer/types');\n\nclass FeedForward {\n  static get trainDefaults() {\n    return {\n      iterations: 20000,\n      errorThresh: 0.005,\n      log: false,\n      logPeriod: 10,\n      learningRate: 0.3,\n      callback: null,\n      callbackPeriod: 10,\n      errorCheckInterval: 100,\n      reinforce: false,\n    };\n  }\n\n  static get defaults() {\n    return {\n      learningRate: 0.3,\n      binaryThresh: 0.5,\n      hiddenLayers: null,\n      inputLayer: null,\n      outputLayer: null,\n      praxisOpts: null,\n      praxis: (layer, settings) =>\n        praxis.momentumRootMeanSquaredPropagation(\n          { ...layer },\n          layer.praxisOpts || settings\n        ),\n    };\n  }\n\n  /**\n   *\n   * @param options\n   * @private\n   */\n  static _validateTrainingOptions(options) {\n    const validations = {\n      iterations: (val) => typeof val === 'number' && val > 0,\n      errorThresh: (val) => typeof val === 'number' && val > 0 && val < 1,\n      log: (val) => typeof val === 'function' || typeof val === 'boolean',\n      logPeriod: (val) => typeof val === 'number' && val > 0,\n      learningRate: (val) => typeof val === 'number' && val > 0 && val < 1,\n      callback: (val) => typeof val === 'function' || val === null,\n      callbackPeriod: (val) => typeof val === 'number' && val > 0,\n      timeout: (val) => typeof val === 'number' && val > 0,\n    };\n    Object.keys(FeedForward.trainDefaults).forEach((key) => {\n      if (validations.hasOwnProperty(key) && !validations[key](options[key])) {\n        throw new Error(\n          `[${key}, ${options[key]}] is out of normal training range, your network will probably not train.`\n        );\n      }\n    });\n  }\n\n  /**\n   *\n   * @param log\n   * if a method is passed in method is used\n   * if false passed in nothing is logged\n   * @returns error\n   */\n  _setLogMethod(log) {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      // eslint-disable-next-line\n      this.trainOpts.log = console.log;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  /**\n   *\n   * @param opts\n   *    Supports all `trainDefaults` properties\n   *    also supports:\n   *       learningRate: (number)\n   */\n  _updateTrainingOptions(opts) {\n    Object.keys(this.constructor.trainDefaults).forEach((opt) => {\n      this.trainOpts[opt] = opts.hasOwnProperty(opt)\n        ? opts[opt]\n        : this.trainOpts[opt];\n    });\n    this.constructor._validateTrainingOptions(this.trainOpts);\n    this._setLogMethod(opts.log || this.trainOpts.log);\n    if (\n      this.trainOpts.callback &&\n      this.trainOpts.callbackPeriod !== this.trainOpts.errorCheckInterval\n    ) {\n      console.warn(\n        `options.callbackPeriod with value of ${this.trainOpts.callbackPeriod} does not match options.errorCheckInterval with value of ${this.trainOpts.errorCheckInterval}, if logging error, it will repeat.  These values may need to match`\n      );\n    }\n  }\n\n  static get structure() {\n    return {\n      layers: null,\n      _inputLayer: null,\n      _outputLayer: null,\n      _model: null,\n    };\n  }\n\n  /**\n   *\n   * @param {object} options\n   * @constructor\n   */\n  constructor(options = {}) {\n    this.layers = null;\n    this.inputLayer = null;\n    this.hiddenLayers = null;\n    this.outputLayer = null;\n    this.praxisOpts = null;\n    this.praxis = null;\n    Object.assign(this, this.constructor.defaults, options);\n    this.trainOpts = {};\n    this._updateTrainingOptions({\n      ...this.constructor.trainDefaults,\n      ...options,\n    });\n    Object.assign(this, this.constructor.structure);\n    this._inputLayer = null;\n    this._hiddenLayers = null;\n    this._outputLayer = null;\n  }\n\n  _connectLayers() {\n    const layers = [];\n    this._inputLayer = this.inputLayer();\n    const hiddenLayers = this._connectHiddenLayers(this._inputLayer);\n    this._outputLayer = this.outputLayer(\n      hiddenLayers[hiddenLayers.length - 1],\n      hiddenLayers.length\n    );\n    layers.push(this._inputLayer);\n    layers.push(...hiddenLayers);\n    layers.push(this._outputLayer);\n    this.layers = flattenLayers(layers);\n  }\n\n  _connectHiddenLayers(previousLayer) {\n    this._hiddenLayers = [];\n    const hiddenLayers = [];\n    for (let i = 0; i < this.hiddenLayers.length; i++) {\n      const hiddenLayer = this.hiddenLayers[i](previousLayer, i);\n      hiddenLayers.push(hiddenLayer);\n      this._hiddenLayers.push(hiddenLayer);\n      previousLayer = hiddenLayer;\n    }\n    return hiddenLayers;\n  }\n\n  initialize() {\n    this._connectLayers();\n    this.initializeLayers(this.layers);\n    this._model = this.layers.filter((l) => l instanceof Model);\n  }\n\n  initializeLayers(layers) {\n    for (let i = 0; i < layers.length; i++) {\n      const layer = layers[i];\n      // TODO: optimize for when training or just running\n      layer.setupKernels(true);\n      if (\n        layer instanceof Model &&\n        layer.hasOwnProperty('praxis') &&\n        layer.praxis === null\n      ) {\n        layer.praxis = this.praxis(layer, layer.praxisOpts || this.praxisOpts);\n        layer.praxis.setupKernels();\n      }\n    }\n\n    const lastLayer = layers[layers.length - 1];\n    this.meanSquaredError = new MeanSquaredError({\n      width: lastLayer.width,\n      height: lastLayer.height,\n    });\n    // this._getMSE = makeKernel(mse2d, {\n    //   output: [1],\n    //   constants: {\n    //     width: this._outputLayer.width,\n    //     height: this._outputLayer.height,\n    //     length: this._outputLayer.width * this._outputLayer.height,\n    //   }\n    // });\n    // this._addMSE = makeKernel(function(value1, value2) {\n    //   return value1[0] + value2[0];\n    // }, {\n    //   output: [1]\n    // });\n    // this._divideMSESum = makeKernel(function(length, mseSum) {\n    //   const value = mseSum[0];\n    //   if (value > 0) {\n    //     return value / length;\n    //   }\n    //   return 0;\n    // }, {\n    //   output: [1]\n    // });\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  run(input) {\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input);\n    }\n\n    let output = this.runInput(input);\n\n    if (output.toArray) {\n      output = output.toArray();\n    }\n\n    if (this.outputLookup) {\n      output = lookup.toHash(this.outputLookup, output);\n    }\n    return output;\n  }\n\n  runInput(input) {\n    this.layers[0].predict(input);\n    for (let i = 1; i < this.layers.length; i++) {\n      this.layers[i].predict();\n    }\n    return this.layers[this.layers.length - 1].weights;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @returns {{error: number, iterations: number}}\n   */\n  train(data, options = {}) {\n    let status;\n    let endTime;\n    ({ data, status, endTime } = this._prepTraining(data, options));\n\n    while (this._trainingTick(data, status, endTime));\n    return status;\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} status { iterations: number, error: number }\n   * @param {Number} endTime\n   */\n  _trainingTick(data, status, endTime) {\n    if (\n      status.iterations >= this.trainOpts.iterations ||\n      status.error <= this.trainOpts.errorThresh ||\n      Date.now() >= endTime\n    ) {\n      return false;\n    }\n\n    if (\n      this.trainOpts.log &&\n      status.iterations % this.trainOpts.logPeriod === 0\n    ) {\n      status.error = this._calculateTrainingError(data);\n      this.trainOpts.log(\n        `iterations: ${status.iterations}, training error: ${status.error}`\n      );\n    } else if (status.iterations % this.trainOpts.errorCheckInterval === 0) {\n      status.error = this._calculateTrainingError(data);\n    } else {\n      this._trainPatterns(data);\n    }\n\n    if (\n      this.trainOpts.callback &&\n      status.iterations % this.trainOpts.callbackPeriod === 0\n    ) {\n      this.trainOpts.callback(Object.assign(status));\n    }\n\n    status.iterations++;\n    return true;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return { data, status, endTime }\n   */\n  _prepTraining(data, options) {\n    this._updateTrainingOptions(options);\n\n    const formattedData = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized();\n\n    return {\n      data: this.transferData(formattedData),\n      status,\n      endTime,\n    };\n  }\n\n  verifyIsInitialized() {\n    if (!this._model) {\n      this.initialize();\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {Number} error\n   */\n  _calculateTrainingError(data) {\n    let sum = new Float32Array([0]);\n    for (let i = 0; i < data.length; ++i) {\n      const prevSum = sum;\n      const error = this._trainPattern(data[i].input, data[i].output, true);\n      sum = this.meanSquaredError.add(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = this.meanSquaredError.divide(data.length, sum);\n    release(sum);\n    if (result.toArray) {\n      const resultArray = result.toArray();\n      release(result);\n      return resultArray[0];\n    }\n    return result[0];\n  }\n\n  /**\n   * @param data\n   * @private\n   */\n  _trainPatterns(data) {\n    for (let i = 0; i < data.length; ++i) {\n      this._trainPattern(data[i].input, data[i].output, false);\n    }\n  }\n\n  /**\n   *\n   * @param input\n   * @param target\n   * @param {Boolean} logErrorRate\n   */\n  _trainPattern(input, target, logErrorRate) {\n    // forward propagate\n    this.runInput(input);\n\n    // back propagate\n    this._calculateDeltas(target);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return this.meanSquaredError.calculate(this._outputLayer.errors);\n    }\n    return null;\n  }\n\n  _calculateDeltas(target) {\n    for (let i = this.layers.length - 1; i > -1; i--) {\n      this.layers[i].compare(target);\n    }\n  }\n\n  /**\n   *\n   */\n  adjustWeights() {\n    const { _model } = this;\n    for (let i = 0; i < _model.length; i++) {\n      _model[i].learn(null, null, this.trainOpts.learningRate);\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {*}\n   */\n  formatData(data) {\n    if (!Array.isArray(data)) {\n      // turn stream datum into array\n      const tmp = [];\n      tmp.push(data);\n      data = tmp;\n    }\n\n    // turn sparse hash input into arrays with 0s as filler\n    const inputDatumCheck = data[0].input;\n    if (\n      !Array.isArray(inputDatumCheck) &&\n      !(inputDatumCheck instanceof Float32Array)\n    ) {\n      if (!this.inputLookup) {\n        this.inputLookup = lookup.buildLookup(data.map((value) => value.input));\n      }\n      data = data.map((datumParam) => {\n        const array = lookup.toArray(this.inputLookup, datumParam.input);\n        return { ...datumParam, input: array };\n      }, this);\n    }\n\n    const outputDatumCheck = data[0].output;\n    if (\n      !Array.isArray(outputDatumCheck) &&\n      !(outputDatumCheck instanceof Float32Array)\n    ) {\n      if (!this.outputLookup) {\n        this.outputLookup = lookup.buildLookup(\n          data.map((value) => value.output)\n        );\n      }\n      data = data.map((datumParam) => {\n        const array = lookup.toArray(this.outputLookup, datumParam.output);\n        return { ...datumParam, output: array };\n      }, this);\n    }\n    return data;\n  }\n\n  transferData(formattedData) {\n    const transferredData = new Array(formattedData.length);\n    const transferInput = makeKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [formattedData[0].input.length],\n        immutable: true,\n      }\n    );\n    const transferOutput = makeKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [formattedData[0].output.length],\n        immutable: true,\n      }\n    );\n\n    for (let i = 0; i < formattedData.length; i++) {\n      const formattedDatum = formattedData[i];\n      transferredData[i] = {\n        input: transferInput(formattedDatum.input),\n        output: transferOutput(formattedDatum.output),\n      };\n    }\n    return transferredData;\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {\n   *  {\n   *    error: number,\n   *    misclasses: Array\n   *  }\n   * }\n   */\n  test() {\n    throw new Error(`${this.constructor.name}-test is not yet implemented`);\n  }\n\n  /**\n   *\n   */\n  toJSON() {\n    if (!this.layers) {\n      this.initialize();\n    }\n    const jsonLayers = [];\n    for (let i = 0; i < this.layers.length; i++) {\n      const layer = this.layers[i];\n      const jsonLayer = layer.toJSON();\n      if (layer.hasOwnProperty('inputLayer')) {\n        jsonLayer.inputLayerIndex = this.layers.indexOf(layer.inputLayer);\n      } else if (\n        layer.hasOwnProperty('inputLayer1') &&\n        layer.hasOwnProperty('inputLayer2')\n      ) {\n        jsonLayer.inputLayer1Index = this.layers.indexOf(layer.inputLayer1);\n        jsonLayer.inputLayer2Index = this.layers.indexOf(layer.inputLayer2);\n      }\n      jsonLayers.push(jsonLayer);\n    }\n\n    return {\n      type: this.constructor.name,\n      sizes: [this._inputLayer.height]\n        .concat(this._hiddenLayers.map((l) => l.height))\n        .concat([this._outputLayer.height]),\n      layers: jsonLayers,\n    };\n  }\n\n  /**\n   *\n   * @param json\n   * @param [getLayer]\n   * @returns {FeedForward}\n   */\n  static fromJSON(json, getLayer) {\n    const jsonLayers = json.layers;\n    const layers = [];\n    const inputLayer = layerFromJSON(jsonLayers[0]) || getLayer(jsonLayers[0]);\n    layers.push(inputLayer);\n\n    for (let i = 1; i < jsonLayers.length; i++) {\n      const jsonLayer = jsonLayers[i];\n      if (jsonLayer.hasOwnProperty('inputLayerIndex')) {\n        const inputLayer1 = layers[jsonLayer.inputLayerIndex];\n        layers.push(\n          layerFromJSON(jsonLayer, inputLayer1) ||\n            getLayer(jsonLayer, inputLayer1)\n        );\n      } else {\n        if (!jsonLayer.hasOwnProperty('inputLayer1Index'))\n          throw new Error(\n            'Cannot create network from provided JOSN. inputLayer1Index not defined.'\n          );\n        if (!jsonLayer.hasOwnProperty('inputLayer2Index'))\n          throw new Error(\n            'Cannot create network from provided JOSN. inputLayer2Index not defined.'\n          );\n        const inputLayer1 = layers[jsonLayer.inputLayer1Index];\n        const inputLayer2 = layers[jsonLayer.inputLayer2Index];\n\n        if (inputLayer1 === undefined)\n          throw new Error(\n            `Cannot create network from provided JOSN. layer of index ${jsonLayer.inputLayer1Index} not found.`\n          );\n        if (inputLayer2 === undefined)\n          throw new Error(\n            `Cannot create network from provided JOSN. layer of index ${jsonLayer.inputLayer2Index} not found.`\n          );\n\n        layers.push(\n          layerFromJSON(jsonLayer, inputLayer) ||\n            getLayer(jsonLayer, inputLayer1, inputLayer2)\n        );\n      }\n    }\n\n    const net = new FeedForward(json);\n    net.layers = layers;\n    return net;\n  }\n\n  /**\n   *\n   * @returns {Function}\n   */\n  toFunction() {\n    throw new Error(\n      `${this.constructor.name}-toFunction is not yet implemented`\n    );\n  }\n\n  /**\n   * This will create a TrainStream (WriteStream) for us to send the training data to.\n   * @param opts training options\n   * @returns {TrainStream|*}\n   */\n  createTrainStream() {\n    throw new Error(\n      `${this.constructor.name}-createTrainStream is not yet implemented`\n    );\n  }\n}\n\nmodule.exports = {\n  FeedForward,\n};\n","//private variables\nlet thawing = false;\nlet thaws = [];\n\n/**\n * thaw an array of items\n * @param {Array} items\n * @param {Object} [options]\n * @constructor\n */\nexport default class Thaw {\n  /**\n   *\n   * @type {{each: null, done: null}}\n   */\n  static get defaultSettings() {\n    return {\n      each: null,\n      done: null\n    };\n  }\n\n  /**\n   * returns if Thaw.js is thawing\n   * @returns {boolean}\n   */\n  static get isThawing() {\n    return thawing;\n  }\n\n  /**\n   * Stops all Thaw instances\n   */\n  static stopAll() {\n    for(let i = 0;i< thaws.length; i++) {\n      thaws[i].stop();\n    }\n  }\n\n  constructor(items, options = {}) {\n    const { each, done } = {...this.constructor.defaultSettings, ...options};\n    this.items = items;\n    this.i = 0;\n    this.options = options;\n    const tick = this.tick = () => {\n      if (this.i < 0) return;\n\n      this.timeout = setTimeout(tick, 0);\n\n      if (thawing) return;\n      const item = items[this.i];\n      if (this.i >= items.length) {\n        if (done !== null) {\n          thawing = true;\n          done(item, this.i);\n          thawing = false;\n        }\n\n        this.i = -1;\n        clearTimeout(this.timeout);\n        return;\n      }\n      if (each !== null) {\n        thawing = true;\n        each(item, this.i);\n        thawing = false;\n      } else if (item !== undefined) {\n        item();\n      }\n      this.i++;\n    };\n\n    thaws.push(this);\n    if (!options.delay) {\n      tick();\n    }\n  }\n\n  /**\n   * readies thaw to continue\n   * @returns {boolean} if had to get ready\n   */\n  makeReady() {\n    if (this.i < 0) {\n      this.i = this.items.length;\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Adds an item to the end of this instance of Thaw and readies Thaw to process it\n   * @param item\n   * @returns {Thaw}\n   */\n  add(item) {\n    const doTick = this.makeReady();\n\n    this.items.push(item);\n\n    if (doTick) {\n      this.tick();\n    }\n    return this;\n  }\n\n  /**\n   * Inserts an item just after the current item being processed in Thaw and readies Thaw to process it\n   * @param item\n   * @returns {Thaw}\n   */\n  insert(item) {\n    const doTick = this.makeReady();\n\n    this.items.splice(this.i, 0, item);\n\n    if (doTick) {\n      this.tick();\n    }\n\n    return this;\n  }\n\n  /**\n   * Adds an Array to the end of this instance of Thaw and readies Thaw to process it\n   * @param {Array} items\n   * @returns {Thaw}\n   */\n  addArray(items) {\n    const doTick = this.makeReady();\n\n    this.items = this.items.concat(items);\n\n    if (doTick) {\n      this.tick();\n    }\n\n    return this;\n  }\n\n  /**\n   * Inserts an Array just after the current item being processed in Thaw and readies Thaw to process them\n   * @param {Array} items\n   * @returns {Thaw}\n   */\n  insertArray(items) {\n    const doTick = this.makeReady();\n    const left = this.items;\n    const middle = items;\n    const right = this.items.splice(this.i, (this.items.length - this.i) + 1);\n\n    this.items = left.concat(middle, right);\n\n    if (doTick) {\n      this.tick();\n    }\n    return this;\n  }\n\n  /**\n   * Stops this instance of Thaw\n   * @returns {Thaw}\n   */\n  stop() {\n    this.i = -1;\n    clearTimeout(this.timeout);\n    if (this.options.done) {\n      this.options.done();\n    }\n    return this;\n  }\n}\n\n/**\n * simple thaw\n * @param {Array} items\n * @param {Object} [options]\n * @returns Thaw\n */\nexport function thaw(items, options = {}) {\n  return new Thaw(items, options);\n}","import Thaw from './';\n\n/**\n *\n * @param {Object} [options]\n * @param {Number} [count]\n * @constructor\n */\nexport default class Block {\n  constructor(options, count) {\n    this.index = 0;\n    this.thaws = [];\n    this.count = count || 200;\n    this.options = options;\n  }\n\n  /**\n   * add an item to the end of items\n   * @param item\n   * @returns {Block}\n   */\n  add(item) {\n    const next = this._next();\n    next.add(item);\n\n    return this;\n  }\n\n  /**\n   * add an Array to the end of items\n   * @param items\n   * @returns {Block}\n   */\n  addArray(items) {\n    const next = this._next();\n    next.addArray(items);\n\n    return this;\n  }\n\n  /**\n   * insert an item into items @ current position\n   * @param item\n   * @returns {Block}\n   */\n  insert(item) {\n    const next = this._next();\n    next.insert(item);\n\n    return this;\n  }\n\n  /**\n   * insert and array into items @ current position\n   * @param items\n   * @returns {Block}\n   */\n  insertArray(items) {\n    const next = this._next();\n    next.insertArray(items);\n\n    return this;\n  }\n\n  /**\n   * Stops all thaws in this block\n   * @returns {Block}\n   */\n  stop() {\n    for (let i = 0;i < this.thaws.length;i++) {\n      this.thaws[i].stop();\n    }\n    return this;\n  }\n\n  /**\n   * Get next available in block\n   * @returns {*}\n   * @private\n   */\n  _next() {\n    let thaw = null;\n    const thaws = this.thaws;\n\n    if (thaws.length < this.count) {\n      thaws.push(thaw = new Thaw([], this.options));\n    } else {\n      thaw = thaws[this.index];\n    }\n    this.index++;\n    if (this.index >= this.count) {\n      this.index = 0;\n    }\n\n    return thaw;\n  }\n};","const activation = require('./activation');\nconst CrossValidate = require('./cross-validate');\nconst layer = require('./layer');\nconst layerTypes = require('./layer/types');\nconst likely = require('./likely');\nconst lookup = require('./lookup');\nconst praxis = require('./praxis');\nconst { FeedForward } = require('./feed-forward');\nconst NeuralNetwork = require('./neural-network');\nconst NeuralNetworkGPU = require('./neural-network-gpu');\nconst TrainStream = require('./train-stream');\nconst { Recurrent } = require('./recurrent');\nconst RNNTimeStep = require('./recurrent/rnn-time-step');\nconst LSTMTimeStep = require('./recurrent/lstm-time-step');\nconst GRUTimeStep = require('./recurrent/gru-time-step');\nconst RNN = require('./recurrent/rnn');\nconst LSTM = require('./recurrent/lstm');\nconst GRU = require('./recurrent/gru');\nconst max = require('./utilities/max');\nconst mse = require('./utilities/mse');\nconst ones = require('./utilities/ones');\nconst random = require('./utilities/random');\nconst randomWeight = require('./utilities/random-weight');\nconst randos = require('./utilities/randos');\nconst range = require('./utilities/range');\nconst toArray = require('./utilities/to-array');\nconst DataFormatter = require('./utilities/data-formatter');\nconst zeros = require('./utilities/zeros');\nconst toSVG = require('./utilities/to-svg');\n\nconst brain = {\n  activation,\n  CrossValidate,\n  likely,\n  layer,\n  layerTypes,\n  lookup,\n  praxis,\n  FeedForward,\n  NeuralNetwork,\n  NeuralNetworkGPU,\n  Recurrent,\n  TrainStream,\n  recurrent: {\n    RNNTimeStep,\n    LSTMTimeStep,\n    GRUTimeStep,\n    RNN,\n    LSTM,\n    GRU,\n  },\n  utilities: {\n    max,\n    mse,\n    ones,\n    random,\n    randomWeight,\n    randos,\n    range,\n    toArray,\n    DataFormatter,\n    zeros,\n    toSVG,\n  },\n};\n\nif (typeof window !== 'undefined') {\n  window.brain = brain //eslint-disable-line\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = brain;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","module.exports = require('events').EventEmitter;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","module.exports = require('./lib/_stream_writable.js');\n","module.exports = require('./lib/_stream_duplex.js');\n","module.exports = require('./readable').Transform\n","module.exports = require('./readable').PassThrough\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","const { Writable } = require('stream');\n\n/**\n *\n * @param opts\n * @returns {TrainStream}\n * @constructor\n */\nclass TrainStream extends Writable {\n  constructor(options) {\n    super({\n      objectMode: true,\n    });\n\n    options = options || {};\n\n    // require the neuralNetwork\n    if (!options.neuralNetwork) {\n      throw new Error(\n        'No neural network specified. PLease see lis of available networks types: https://github.com/BrainJS/brain.js#neural-network-types'\n      );\n    }\n\n    const { neuralNetwork } = options;\n    this.neuralNetwork = neuralNetwork;\n    this.dataFormatDetermined = false;\n    this.i = 0; // keep track of internal iterations\n    this.size = 0;\n    this.count = 0;\n    this.sum = 0;\n    this.floodCallback = options.floodCallback;\n    this.doneTrainingCallback = options.doneTrainingCallback;\n\n    // inherit trainOpts settings from neuralNetwork\n    neuralNetwork.updateTrainingOptions(options);\n    const { trainOpts } = neuralNetwork;\n    this.iterations = trainOpts.iterations;\n    this.errorThresh = trainOpts.errorThresh;\n    this.log = trainOpts.log;\n    this.logPeriod = trainOpts.logPeriod;\n    this.callbackPeriod = trainOpts.callbackPeriod;\n    this.callback = trainOpts.callback;\n\n    this.on('finish', this.finishStreamIteration.bind(this));\n  }\n\n  endInputs() {\n    this.write(false);\n  }\n\n  /**\n   * _write expects data to be in the form of a datum. ie. {input: {a: 1 b: 0}, output: {z: 0}}\n   * @param chunk\n   * @param enc\n   * @param next\n   * @returns {*}\n   * @private\n   */\n  _write(chunk, enc, next) {\n    if (!chunk) {\n      // check for the end of one iteration of the stream\n      this.emit('finish');\n      return next();\n    }\n\n    if (!this.dataFormatDetermined) {\n      this.size++;\n      this.neuralNetwork.addFormat(chunk);\n      this.firstDatum = this.firstDatum || chunk;\n      return next();\n    }\n\n    this.count++;\n\n    const data = this.neuralNetwork.formatData(chunk);\n    this.sum += this.neuralNetwork.trainPattern(data[0], true);\n\n    // tell the Readable Stream that we are ready for more data\n    next();\n  }\n\n  /**\n   *\n   * @returns {*}\n   */\n  finishStreamIteration() {\n    if (this.dataFormatDetermined && this.size !== this.count) {\n      this.log(\"This iteration's data length was different from the first.\");\n    }\n\n    if (!this.dataFormatDetermined) {\n      const data = this.neuralNetwork.formatData(this.firstDatum);\n      this.neuralNetwork.verifyIsInitialized(data);\n      this.dataFormatDetermined = true;\n\n      if (typeof this.floodCallback === 'function') {\n        this.floodCallback();\n      }\n      return;\n    }\n\n    const error = this.sum / this.size;\n\n    if (this.log && this.i % this.logPeriod === 0) {\n      this.log(`iterations: ${this.i}, training error: ${error}`);\n    }\n    if (this.callback && this.i % this.callbackPeriod === 0) {\n      this.callback({\n        error,\n        iterations: this.i,\n      });\n    }\n\n    this.sum = 0;\n    this.count = 0;\n    // update the iterations\n    this.i++;\n\n    // do a check here to see if we need the stream again\n    if (this.i < this.iterations && error > this.errorThresh) {\n      if (typeof this.floodCallback === 'function') {\n        return this.floodCallback();\n      }\n    } else {\n      // done training\n      if (typeof this.doneTrainingCallback === 'function') {\n        return this.doneTrainingCallback({\n          error,\n          iterations: this.i,\n        });\n      }\n    }\n  }\n}\n\nmodule.exports = TrainStream;\n","/**\n *\n * @param values\n * @returns {*}\n */\nmodule.exports = function toArray(values) {\n  if (Array.isArray(values)) {\n    return values;\n  }\n  return new Float32Array(Object.values(values));\n};\n","const toArray = require('./to-array');\n/**\n *\n * @param values\n * @returns {number}\n */\nmodule.exports = function max(values) {\n  return Math.max(...toArray(values));\n}\n","module.exports = function mse(errors) {\n  // mean squared error\n  let sum = 0;\n  for (let i = 0; i < errors.length; i++) {\n    sum += errors[i] ** 2;\n  }\n  return sum / errors.length;\n};\n","/**\n *\n * @param start\n * @param end\n * @returns {Array}\n */\nmodule.exports = function range(start, end) {\n  const result = [];\n  for (; start < end; start++) {\n    result.push(start);\n  }\n  return result;\n}\n","function LookupTable(data, prop) {\n  this.length = 0;\n  if (prop) {\n    this.prop = prop;\n    const table = this.table = {};\n    for (let i = 0; i < data.length; i++) {\n      const datum = data[i];\n      const object = datum[prop];\n      for (let p in object) {\n        if (table.hasOwnProperty(p)) continue;\n        table[p] = this.length++;\n      }\n    }\n  } else if (Array.isArray(data[0])) {\n    const table = this.table = {};\n    for (let i = 0; i < data.length; i++) {\n      const array = data[i];\n      for (let j = 0; j < array.length; j++) {\n        const object = array[j];\n        for (let p in object) {\n          if (table.hasOwnProperty(p)) continue;\n          table[p] = this.length++;\n        }\n      }\n    }\n  } else {\n    const table = this.table = {};\n    for (let i = 0; i < data.length; i++) {\n      const object = data[i];\n      for (let p in object) {\n        if (table.hasOwnProperty(p)) continue;\n        table[p] = this.length++;\n      }\n    }\n  }\n}\n\nmodule.exports = LookupTable;\n","function arraysToFloat32Arrays(arrays) {\n  const result = [];\n  for (let i = 0; i < arrays.length; i++) {\n    result.push(Float32Array.from(arrays[i]));\n  }\n  return result;\n}\nfunction arrayToFloat32Arrays(array) {\n  const result = [];\n  for (let i = 0; i < array.length; i++) {\n    result.push(Float32Array.from([array[i]]));\n  }\n  return result;\n}\nfunction arrayToFloat32Array(array) {\n  return Float32Array.from(array)\n}\nfunction objectsToFloat32Arrays(objects, table, length) {\n  const results = [];\n  for (let i = 0; i < objects.length; i++) {\n    const object = objects[i];\n    const result = new Float32Array(length);\n    for (let p in object) {\n      if (object.hasOwnProperty(p)) {\n        result[table[p]] = object[p];\n      }\n    }\n    results.push(result);\n  }\n  return results;\n}\nfunction objectToFloat32Arrays(object) {\n  const result = [];\n  for (let p in object) {\n    result.push(Float32Array.from([object[p]]));\n  }\n  return result;\n}\nfunction objectToFloat32Array(object, table, length) {\n  const result = new Float32Array(length);\n  for (let p in object) {\n    if (object.hasOwnProperty(p)) {\n      result[table[p]] = object[p];\n    }\n  }\n  return result;\n}\n\nmodule.exports = {\n  arraysToFloat32Arrays,\n  arrayToFloat32Arrays,\n  arrayToFloat32Array,\n  objectsToFloat32Arrays,\n  objectToFloat32Arrays,\n  objectToFloat32Array,\n};\n","const Thaw = require('thaw.js').default;\nconst lookup = require('./lookup');\nconst TrainStream = require('./train-stream');\nconst max = require('./utilities/max');\nconst mse = require('./utilities/mse');\nconst randos = require('./utilities/randos');\nconst range = require('./utilities/range');\nconst toArray = require('./utilities/to-array');\nconst zeros = require('./utilities/zeros');\nconst LookupTable = require('./utilities/lookup-table');\nconst { arrayToFloat32Array } = require('./utilities/cast');\n\n/**\n * @param {object} options\n * @constructor\n */\nclass NeuralNetwork {\n  static get trainDefaults() {\n    return {\n      iterations: 20000, // the maximum times to iterate the training data\n      errorThresh: 0.005, // the acceptable error percentage from training data\n      log: false, // true to use console.log, when a function is supplied it is used\n      logPeriod: 10, // iterations between logging out\n      learningRate: 0.3, // multiply's against the input and the delta then adds to momentum\n      momentum: 0.1, // multiply's against the specified \"change\" then adds to learning rate for change\n      callback: null, // a periodic call back that can be triggered while training\n      callbackPeriod: 10, // the number of iterations through the training data between callback calls\n      timeout: Infinity, // the max number of milliseconds to train for\n      praxis: null,\n      beta1: 0.9,\n      beta2: 0.999,\n      epsilon: 1e-8,\n    };\n  }\n\n  static get defaults() {\n    return {\n      leakyReluAlpha: 0.01,\n      binaryThresh: 0.5,\n      hiddenLayers: null, // array of ints for the sizes of the hidden layers in the network\n      activation: 'sigmoid', // Supported activation types ['sigmoid', 'relu', 'leaky-relu', 'tanh']\n    };\n  }\n\n  constructor(options = {}) {\n    Object.assign(this, this.constructor.defaults, options);\n    this.trainOpts = {};\n    this.updateTrainingOptions({\n      ...this.constructor.trainDefaults,\n      ...options,\n    });\n\n    this.sizes = null;\n    this.outputLayer = null;\n    this.biases = null; // weights for bias nodes\n    this.weights = null;\n    this.outputs = null;\n\n    // state for training\n    this.deltas = null;\n    this.changes = null; // for momentum\n    this.errors = null;\n    this.errorCheckInterval = 1;\n    if (!this.constructor.prototype.hasOwnProperty('runInput')) {\n      this.runInput = null;\n    }\n    if (!this.constructor.prototype.hasOwnProperty('calculateDeltas')) {\n      this.calculateDeltas = null;\n    }\n    this.inputLookup = null;\n    this.inputLookupLength = null;\n    this.outputLookup = null;\n    this.outputLookupLength = null;\n\n    if (options.inputSize && options.hiddenLayers && options.outputSize) {\n      this.sizes = [options.inputSize]\n        .concat(options.hiddenLayers)\n        .concat([options.outputSize]);\n    }\n  }\n\n  /**\n   *\n   * Expects this.sizes to have been set\n   */\n  initialize() {\n    if (!this.sizes) throw new Error('Sizes must be set before initializing');\n\n    this.outputLayer = this.sizes.length - 1;\n    this.biases = []; // weights for bias nodes\n    this.weights = [];\n    this.outputs = [];\n\n    // state for training\n    this.deltas = [];\n    this.changes = []; // for momentum\n    this.errors = [];\n\n    for (let layer = 0; layer <= this.outputLayer; layer++) {\n      const size = this.sizes[layer];\n      this.deltas[layer] = zeros(size);\n      this.errors[layer] = zeros(size);\n      this.outputs[layer] = zeros(size);\n\n      if (layer > 0) {\n        this.biases[layer] = randos(size);\n        this.weights[layer] = new Array(size);\n        this.changes[layer] = new Array(size);\n\n        for (let node = 0; node < size; node++) {\n          const prevSize = this.sizes[layer - 1];\n          this.weights[layer][node] = randos(prevSize);\n          this.changes[layer][node] = zeros(prevSize);\n        }\n      }\n    }\n\n    this.setActivation();\n    if (this.trainOpts.praxis === 'adam') {\n      this._setupAdam();\n    }\n  }\n\n  /**\n   *\n   * @param activation supported inputs: 'sigmoid', 'relu', 'leaky-relu', 'tanh'\n   */\n  setActivation(activation) {\n    this.activation = activation || this.activation;\n    switch (this.activation) {\n      case 'sigmoid':\n        this.runInput = this.runInput || this._runInputSigmoid;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasSigmoid;\n        break;\n      case 'relu':\n        this.runInput = this.runInput || this._runInputRelu;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasRelu;\n        break;\n      case 'leaky-relu':\n        this.runInput = this.runInput || this._runInputLeakyRelu;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasLeakyRelu;\n        break;\n      case 'tanh':\n        this.runInput = this.runInput || this._runInputTanh;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n  }\n\n  /**\n   *\n   * @returns boolean\n   */\n  get isRunnable() {\n    if (!this.runInput) {\n      console.error(\n        'Activation function has not been initialized, did you run train()?'\n      );\n      return false;\n    }\n\n    const checkFns = [\n      'sizes',\n      'outputLayer',\n      'biases',\n      'weights',\n      'outputs',\n      'deltas',\n      'changes',\n      'errors',\n    ].filter((c) => this[c] === null);\n\n    if (checkFns.length > 0) {\n      console.error(\n        `Some settings have not been initialized correctly, did you run train()? Found issues with: ${checkFns.join(\n          ', '\n        )}`\n      );\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  run(input) {\n    if (!this.isRunnable) return null;\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input, this.inputLookupLength);\n    }\n\n    let output = this.runInput(input).slice(0);\n\n    if (this.outputLookup) {\n      output = lookup.toObject(this.outputLookup, output);\n    }\n    return output;\n  }\n\n  /**\n   * trains via sigmoid\n   * @param input\n   * @returns {*}\n   */\n  _runInputSigmoid(input) {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const activeLayer = this.sizes[layer];\n      const activeWeights = this.weights[layer];\n      const activeBiases = this.biases[layer];\n      const activeOutputs = this.outputs[layer];\n      for (let node = 0; node < activeLayer; node++) {\n        const weights = activeWeights[node];\n\n        let sum = activeBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // sigmoid\n        activeOutputs[node] = 1 / (1 + Math.exp(-sum));\n      }\n      output = input = this.outputs[layer];\n    }\n    return output;\n  }\n\n  _runInputRelu(input) {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const currentSize = this.sizes[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentOutputs = this.outputs[layer];\n      for (let node = 0; node < currentSize; node++) {\n        const weights = currentWeights[node];\n\n        let sum = currentBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // relu\n        currentOutputs[node] = sum < 0 ? 0 : sum;\n      }\n      output = input = currentOutputs;\n    }\n    return output;\n  }\n\n  _runInputLeakyRelu(input) {\n    this.outputs[0] = input; // set output state of input layer\n    const alpha = this.leakyReluAlpha;\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const currentSize = this.sizes[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentOutputs = this.outputs[layer];\n      for (let node = 0; node < currentSize; node++) {\n        const weights = currentWeights[node];\n\n        let sum = currentBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // leaky relu\n        currentOutputs[node] = sum < 0 ? 0 : alpha * sum;\n      }\n      output = input = currentOutputs;\n    }\n    return output;\n  }\n\n  _runInputTanh(input) {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const currentSize = this.sizes[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentOutputs = this.outputs[layer];\n      for (let node = 0; node < currentSize; node++) {\n        const weights = currentWeights[node];\n\n        let sum = currentBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // tanh\n        currentOutputs[node] = Math.tanh(sum);\n      }\n      output = input = currentOutputs;\n    }\n    return output;\n  }\n\n  /**\n   *\n   * @param data\n   * Verifies network sizes are initialized\n   * If they are not it will initialize them based off the data set.\n   */\n  verifyIsInitialized(data) {\n    if (this.sizes) return;\n\n    this.sizes = [];\n    this.sizes.push(data[0].input.length);\n    if (!this.hiddenLayers) {\n      this.sizes.push(Math.max(3, Math.floor(data[0].input.length / 2)));\n    } else {\n      this.hiddenLayers.forEach((size) => {\n        this.sizes.push(size);\n      });\n    }\n    this.sizes.push(data[0].output.length);\n\n    this.initialize();\n  }\n\n  /**\n   *\n   * @param options\n   *    Supports all `trainDefaults` properties\n   *    also supports:\n   *       learningRate: (number),\n   *       momentum: (number),\n   *       activation: 'sigmoid', 'relu', 'leaky-relu', 'tanh'\n   */\n  updateTrainingOptions(options) {\n    const { trainDefaults } = this.constructor;\n    for (const p in trainDefaults) {\n      if (!trainDefaults.hasOwnProperty(p)) continue;\n      this.trainOpts[p] = options.hasOwnProperty(p)\n        ? options[p]\n        : trainDefaults[p];\n    }\n    this.validateTrainingOptions(this.trainOpts);\n    this.setLogMethod(options.log || this.trainOpts.log);\n    this.activation = options.activation || this.activation;\n  }\n\n  /**\n   *\n   * @param options\n   */\n  validateTrainingOptions(options) {\n    const validations = {\n      iterations: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n      errorThresh: (val) => {\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      log: (val) => {\n        return typeof val === 'function' || typeof val === 'boolean';\n      },\n      logPeriod: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n      learningRate: (val) => {\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      momentum: (val) => {\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      callback: (val) => {\n        return typeof val === 'function' || val === null;\n      },\n      callbackPeriod: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n      timeout: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n    };\n    for (const p in validations) {\n      if (!validations.hasOwnProperty(p)) continue;\n      if (!options.hasOwnProperty(p)) continue;\n      if (!validations[p](options[p])) {\n        throw new Error(\n          `[${p}, ${options[p]}] is out of normal training range, your network will probably not train.`\n        );\n      }\n    }\n  }\n\n  /**\n   *\n   *  Gets JSON of trainOpts object\n   *    NOTE: Activation is stored directly on JSON object and not in the training options\n   */\n  getTrainOptsJSON() {\n    return Object.keys(this.constructor.trainDefaults).reduce((opts, opt) => {\n      if (opt === 'timeout' && this.trainOpts[opt] === Infinity) return opts;\n      if (opt === 'callback') return opts;\n      if (this.trainOpts[opt]) opts[opt] = this.trainOpts[opt];\n      if (opt === 'log') opts.log = typeof opts.log === 'function';\n      return opts;\n    }, {});\n  }\n\n  /**\n   *\n   * @param log\n   * if a method is passed in method is used\n   * if false passed in nothing is logged\n   * @returns error\n   */\n  setLogMethod(log) {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      this.trainOpts.log = this.logTrainingStatus;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  /**\n   *\n   * @param status\n   * log training status\n   */\n  logTrainingStatus(status) {\n    console.log(\n      `iterations: ${status.iterations}, training error: ${status.error}`\n    );\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {Number} error\n   */\n  calculateTrainingError(data) {\n    let sum = 0;\n    for (let i = 0; i < data.length; ++i) {\n      sum += this.trainPattern(data[i], true);\n    }\n    return sum / data.length;\n  }\n\n  /**\n   * @param data\n   */\n  trainPatterns(data) {\n    for (let i = 0; i < data.length; ++i) {\n      this.trainPattern(data[i]);\n    }\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} status { iterations: number, error: number }\n   * @param endTime\n   */\n  trainingTick(data, status, endTime) {\n    const {\n      callback,\n      callbackPeriod,\n      errorThresh,\n      iterations,\n      log,\n      logPeriod,\n    } = this.trainOpts;\n\n    if (\n      status.iterations >= iterations ||\n      status.error <= errorThresh ||\n      Date.now() >= endTime\n    ) {\n      return false;\n    }\n\n    status.iterations++;\n\n    if (log && status.iterations % logPeriod === 0) {\n      status.error = this.calculateTrainingError(data);\n      log(status);\n    } else if (status.iterations % this.errorCheckInterval === 0) {\n      status.error = this.calculateTrainingError(data);\n    } else {\n      this.trainPatterns(data);\n    }\n\n    if (callback && status.iterations % callbackPeriod === 0) {\n      callback({\n        iterations: status.iterations,\n        error: status.error,\n      });\n    }\n    return true;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return {object} { data, status, endTime }\n   */\n  prepTraining(data, options) {\n    this.updateTrainingOptions(options);\n    data = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized(data);\n\n    return {\n      data,\n      status,\n      endTime,\n    };\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @returns {object} {error: number, iterations: number}\n   */\n  train(data, options = {}) {\n    let status;\n    let endTime;\n    ({ data, status, endTime } = this.prepTraining(data, options));\n\n    while (this.trainingTick(data, status, endTime));\n    return status;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @returns {Promise}\n   * @resolves {{error: number, iterations: number}}\n   * @rejects {{trainError: string, status: {error: number, iterations: number}}\n   */\n  trainAsync(data, options = {}) {\n    let status;\n    let endTime;\n    ({ data, status, endTime } = this.prepTraining(data, options));\n\n    return new Promise((resolve, reject) => {\n      try {\n        const thawedTrain = new Thaw(new Array(this.trainOpts.iterations), {\n          delay: true,\n          each: () =>\n            this.trainingTick(data, status, endTime) || thawedTrain.stop(),\n          done: () => resolve(status),\n        });\n        thawedTrain.tick();\n      } catch (trainError) {\n        reject({ trainError, status });\n      }\n    });\n  }\n\n  /**\n   *\n   * @param {object} value\n   * @param {boolean} [logErrorRate]\n   */\n  trainPattern(value, logErrorRate) {\n    // forward propagate\n    this.runInput(value.input);\n\n    // back propagate\n    this.calculateDeltas(value.output);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return mse(this.errors[this.outputLayer]);\n    }\n    return null;\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasSigmoid(target) {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const activeSize = this.sizes[layer];\n      const activeOutput = this.outputs[layer];\n      const activeError = this.errors[layer];\n      const activeDeltas = this.deltas[layer];\n      const nextLayer = this.weights[layer + 1];\n\n      for (let node = 0; node < activeSize; node++) {\n        const output = activeOutput[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          const deltas = this.deltas[layer + 1];\n          for (let k = 0; k < deltas.length; k++) {\n            error += deltas[k] * nextLayer[k][node];\n          }\n        }\n        activeError[node] = error;\n        activeDeltas[node] = error * output * (1 - output);\n      }\n    }\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasRelu(target) {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextWeights = this.weights[layer + 1];\n      const nextDeltas = this.deltas[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = output > 0 ? error : 0;\n      }\n    }\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasLeakyRelu(target) {\n    const alpha = this.leakyReluAlpha;\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextDeltas = this.deltas[layer + 1];\n      const nextWeights = this.weights[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = output > 0 ? error : alpha * error;\n      }\n    }\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasTanh(target) {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextDeltas = this.deltas[layer + 1];\n      const nextWeights = this.weights[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = (1 - output * output) * error;\n      }\n    }\n  }\n\n  /**\n   *\n   * Changes weights of networks\n   */\n  adjustWeights() {\n    const { learningRate, momentum } = this.trainOpts;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const incoming = this.outputs[layer - 1];\n      const activeSize = this.sizes[layer];\n      const activeDelta = this.deltas[layer];\n      const activeChanges = this.changes[layer];\n      const activeWeights = this.weights[layer];\n      const activeBiases = this.biases[layer];\n\n      for (let node = 0; node < activeSize; node++) {\n        const delta = activeDelta[node];\n\n        for (let k = 0; k < incoming.length; k++) {\n          let change = activeChanges[node][k];\n\n          change = learningRate * delta * incoming[k] + momentum * change;\n\n          activeChanges[node][k] = change;\n          activeWeights[node][k] += change;\n        }\n        activeBiases[node] += learningRate * delta;\n      }\n    }\n  }\n\n  _setupAdam() {\n    this.biasChangesLow = [];\n    this.biasChangesHigh = [];\n    this.changesLow = [];\n    this.changesHigh = [];\n    this.iterations = 0;\n\n    for (let layer = 0; layer <= this.outputLayer; layer++) {\n      const size = this.sizes[layer];\n      if (layer > 0) {\n        this.biasChangesLow[layer] = zeros(size);\n        this.biasChangesHigh[layer] = zeros(size);\n        this.changesLow[layer] = new Array(size);\n        this.changesHigh[layer] = new Array(size);\n\n        for (let node = 0; node < size; node++) {\n          const prevSize = this.sizes[layer - 1];\n          this.changesLow[layer][node] = zeros(prevSize);\n          this.changesHigh[layer][node] = zeros(prevSize);\n        }\n      }\n    }\n\n    this.adjustWeights = this._adjustWeightsAdam;\n  }\n\n  _adjustWeightsAdam() {\n    this.iterations++;\n\n    const { iterations } = this;\n    const { beta1, beta2, epsilon, learningRate } = this.trainOpts;\n\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const incoming = this.outputs[layer - 1];\n      const currentSize = this.sizes[layer];\n      const currentDeltas = this.deltas[layer];\n      const currentChangesLow = this.changesLow[layer];\n      const currentChangesHigh = this.changesHigh[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentBiasChangesLow = this.biasChangesLow[layer];\n      const currentBiasChangesHigh = this.biasChangesHigh[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const delta = currentDeltas[node];\n\n        for (let k = 0; k < incoming.length; k++) {\n          const gradient = delta * incoming[k];\n          const changeLow =\n            currentChangesLow[node][k] * beta1 + (1 - beta1) * gradient;\n          const changeHigh =\n            currentChangesHigh[node][k] * beta2 +\n            (1 - beta2) * gradient * gradient;\n\n          const momentumCorrection =\n            changeLow / (1 - Math.pow(beta1, iterations));\n          const gradientCorrection =\n            changeHigh / (1 - Math.pow(beta2, iterations));\n\n          currentChangesLow[node][k] = changeLow;\n          currentChangesHigh[node][k] = changeHigh;\n          currentWeights[node][k] +=\n            (learningRate * momentumCorrection) /\n            (Math.sqrt(gradientCorrection) + epsilon);\n        }\n\n        const biasGradient = currentDeltas[node];\n        const biasChangeLow =\n          currentBiasChangesLow[node] * beta1 + (1 - beta1) * biasGradient;\n        const biasChangeHigh =\n          currentBiasChangesHigh[node] * beta2 +\n          (1 - beta2) * biasGradient * biasGradient;\n\n        const biasMomentumCorrection =\n          currentBiasChangesLow[node] / (1 - Math.pow(beta1, iterations));\n        const biasGradientCorrection =\n          currentBiasChangesHigh[node] / (1 - Math.pow(beta2, iterations));\n\n        currentBiasChangesLow[node] = biasChangeLow;\n        currentBiasChangesHigh[node] = biasChangeHigh;\n        currentBiases[node] +=\n          (learningRate * biasMomentumCorrection) /\n          (Math.sqrt(biasGradientCorrection) + epsilon);\n      }\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {*}\n   */\n  formatData(data) {\n    if (!Array.isArray(data)) {\n      // turn stream datum into array\n      data = [data];\n    }\n\n    if (!Array.isArray(data[0].input)) {\n      if (this.inputLookup) {\n        this.inputLookupLength = Object.keys(this.inputLookup).length;\n      } else {\n        const inputLookup = new LookupTable(data, 'input');\n        this.inputLookup = inputLookup.table;\n        this.inputLookupLength = inputLookup.length;\n      }\n    }\n\n    if (!Array.isArray(data[0].output)) {\n      if (this.outputLookup) {\n        this.outputLookupLength = Object.keys(this.outputLookup).length;\n      } else {\n        const lookup = new LookupTable(data, 'output');\n        this.outputLookup = lookup.table;\n        this.outputLookupLength = lookup.length;\n      }\n    }\n\n    if (typeof this._formatInput === 'undefined') {\n      this._formatInput = getTypedArrayFn(data[0].input, this.inputLookup);\n      this._formatOutput = getTypedArrayFn(data[0].output, this.outputLookup);\n    }\n\n    // turn sparse hash input into arrays with 0s as filler\n    if (this._formatInput && this._formatOutput) {\n      const result = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: this._formatInput(data[i].input),\n          output: this._formatOutput(data[i].output),\n        });\n      }\n      return result;\n    }\n    if (this._formatInput) {\n      const result = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: this._formatInput(data[i].input),\n          output: data[i].output,\n        });\n      }\n      return result;\n    }\n    if (this._formatOutput) {\n      const result = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: data[i].input,\n          output: this._formatOutput(data[i].output),\n        });\n      }\n      return result;\n    }\n    return data;\n  }\n\n  addFormat(data) {\n    this.inputLookup = lookup.addKeys(data.input, this.inputLookup);\n    if (this.inputLookup) {\n      this.inputLookupLength = Object.keys(this.inputLookup).length;\n    }\n    this.outputLookup = lookup.addKeys(data.output, this.outputLookup);\n    if (this.outputLookup) {\n      this.outputLookupLength = Object.keys(this.outputLookup).length;\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {\n   *  {\n   *    error: number,\n   *    misclasses: Array,\n   *  }\n   * }\n   */\n  test(data) {\n    data = this.formatData(data);\n    // for binary classification problems with one output node\n    const isBinary = data[0].output.length === 1;\n    // for classification problems\n    const misclasses = [];\n    // run each pattern through the trained network and collect\n    // error and misclassification statistics\n    let errorSum = 0;\n\n    if (isBinary) {\n      let falsePos = 0;\n      let falseNeg = 0;\n      let truePos = 0;\n      let trueNeg = 0;\n\n      for (let i = 0; i < data.length; i++) {\n        const output = this.runInput(data[i].input);\n        const target = data[i].output;\n        const actual = output[0] > this.binaryThresh ? 1 : 0;\n        const expected = target[0];\n\n        if (actual !== expected) {\n          const misclass = data[i];\n          misclasses.push({\n            input: misclass.input,\n            output: misclass.output,\n            actual,\n            expected,\n          });\n        }\n\n        if (actual === 0 && expected === 0) {\n          trueNeg++;\n        } else if (actual === 1 && expected === 1) {\n          truePos++;\n        } else if (actual === 0 && expected === 1) {\n          falseNeg++;\n        } else if (actual === 1 && expected === 0) {\n          falsePos++;\n        }\n\n        errorSum += mse(\n          output.map((value, i) => {\n            return target[i] - value;\n          })\n        );\n      }\n\n      return {\n        error: errorSum / data.length,\n        misclasses,\n        total: data.length,\n        trueNeg,\n        truePos,\n        falseNeg,\n        falsePos,\n        precision: truePos > 0 ? truePos / (truePos + falsePos) : 0,\n        recall: truePos > 0 ? truePos / (truePos + falseNeg) : 0,\n        accuracy: (trueNeg + truePos) / data.length,\n      };\n    }\n\n    for (let i = 0; i < data.length; i++) {\n      const output = this.runInput(data[i].input);\n      const target = data[i].output;\n      const actual = output.indexOf(max(output));\n      const expected = target.indexOf(max(target));\n\n      if (actual !== expected) {\n        const misclass = data[i];\n        misclasses.push({\n          input: misclass.input,\n          output: misclass.output,\n          actual,\n          expected,\n        });\n      }\n\n      errorSum += mse(\n        output.map((value, i) => {\n          return target[i] - value;\n        })\n      );\n    }\n    return {\n      error: errorSum / data.length,\n      misclasses,\n      total: data.length,\n    };\n  }\n\n  /**\n   *\n   * @returns\n   *  {\n   *    layers: [\n   *      {\n   *        x: {},\n   *        y: {}\n   *      },\n   *      {\n   *        '0': {\n   *          bias: -0.98771313,\n   *          weights: {\n   *            x: 0.8374838,\n   *            y: 1.245858\n   *          },\n   *        '1': {\n   *          bias: 3.48192004,\n   *          weights: {\n   *            x: 1.7825821,\n   *            y: -2.67899\n   *          }\n   *        }\n   *      },\n   *      {\n   *        f: {\n   *          bias: 0.27205739,\n   *          weights: {\n   *            '0': 1.3161821,\n   *            '1': 2.00436\n   *          }\n   *        }\n   *      }\n   *    ]\n   *  }\n   */\n  toJSON() {\n    if (this.sizes === null) {\n      this.initialize();\n    }\n    const layers = [];\n    for (let layer = 0; layer <= this.outputLayer; layer++) {\n      layers[layer] = {};\n\n      let nodes;\n      // turn any internal arrays back into hashes for readable json\n      if (layer === 0 && this.inputLookup) {\n        nodes = Object.keys(this.inputLookup);\n      } else if (this.outputLookup && layer === this.outputLayer) {\n        nodes = Object.keys(this.outputLookup);\n      } else {\n        nodes = range(0, this.sizes[layer]);\n      }\n\n      for (let j = 0; j < nodes.length; j++) {\n        const node = nodes[j];\n        layers[layer][node] = {};\n\n        if (layer > 0) {\n          layers[layer][node].bias = this.biases[layer][j];\n          layers[layer][node].weights = {};\n          for (const k in layers[layer - 1]) {\n            let index = k;\n            if (layer === 1 && this.inputLookup) {\n              index = this.inputLookup[k];\n            }\n            layers[layer][node].weights[k] = this.weights[layer][j][index];\n          }\n        }\n      }\n    }\n    return {\n      sizes: this.sizes.slice(0),\n      layers,\n      outputLookup: this.outputLookup !== null,\n      inputLookup: this.inputLookup !== null,\n      activation: this.activation,\n      trainOpts: this.getTrainOptsJSON(),\n    };\n  }\n\n  /**\n   *\n   * @param json\n   * @returns {NeuralNetwork}\n   */\n  fromJSON(json) {\n    Object.assign(this, this.constructor.defaults, json);\n    this.sizes = json.sizes;\n    this.initialize();\n\n    for (let i = 0; i <= this.outputLayer; i++) {\n      const layer = json.layers[i];\n      if (i === 0 && (!layer[0] || json.inputLookup)) {\n        this.inputLookup = lookup.toHash(layer);\n        this.inputLookupLength = Object.keys(this.inputLookup).length;\n      } else if (i === this.outputLayer && (!layer[0] || json.outputLookup)) {\n        this.outputLookup = lookup.toHash(layer);\n      }\n      if (i > 0) {\n        const nodes = Object.keys(layer);\n        this.sizes[i] = nodes.length;\n        for (const j in nodes) {\n          if (nodes.hasOwnProperty(j)) {\n            const node = nodes[j];\n            this.biases[i][j] = layer[node].bias;\n            this.weights[i][j] = toArray(layer[node].weights);\n          }\n        }\n      }\n    }\n    if (json.hasOwnProperty('trainOpts')) {\n      this.updateTrainingOptions(json.trainOpts);\n    }\n    return this;\n  }\n\n  /**\n   * @param {Function} [cb]\n   * @returns {Function}\n   */\n  toFunction(cb) {\n    const { activation } = this;\n    const { leakyReluAlpha } = this;\n    let needsVar = false;\n    function nodeHandle(layers, layerNumber, nodeKey) {\n      if (layerNumber === 0) {\n        return typeof nodeKey === 'string'\n          ? `(input['${nodeKey}']||0)`\n          : `(input[${nodeKey}]||0)`;\n      }\n\n      const layer = layers[layerNumber];\n      const node = layer[nodeKey];\n      const result = ['(', node.bias];\n      for (const w in node.weights) {\n        if (node.weights[w] < 0) {\n          result.push(\n            `${node.weights[w]}*${nodeHandle(layers, layerNumber - 1, w)}`\n          );\n        } else {\n          result.push(\n            `+${node.weights[w]}*${nodeHandle(layers, layerNumber - 1, w)}`\n          );\n        }\n      }\n      result.push(')');\n\n      switch (activation) {\n        case 'sigmoid':\n          return `1/(1+1/Math.exp(${result.join('')}))`;\n        case 'relu': {\n          needsVar = true;\n          return `((v=${result.join('')})<0?0:v)`;\n        }\n        case 'leaky-relu': {\n          needsVar = true;\n          return `((v=${result.join('')})<0?0:${leakyReluAlpha}*v)`;\n        }\n        case 'tanh':\n          return `Math.tanh(${result.join('')})`;\n        default:\n          throw new Error(\n            `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n          );\n      }\n    }\n\n    const { layers } = this.toJSON();\n    const layersAsMath = [];\n    let result;\n    for (const i in layers[layers.length - 1]) {\n      layersAsMath.push(nodeHandle(layers, layers.length - 1, i));\n    }\n    if (this.outputLookup) {\n      result = `{${Object.keys(this.outputLookup).map(\n        (key, i) => `'${key}':${layersAsMath[i]}`\n      )}}`;\n    } else {\n      result = `[${layersAsMath.join(',')}]`;\n    }\n\n    const source = `${needsVar ? 'var v;' : ''}return ${result};`;\n    return new Function('input', cb ? cb(source) : source);\n  }\n}\n\nfunction getTypedArrayFn(value, table) {\n  if (value.buffer instanceof ArrayBuffer) {\n    return null;\n  }\n  if (Array.isArray(value)) {\n    return arrayToFloat32Array;\n  }\n  const { length } = Object.keys(table);\n  return (v) => {\n    const array = new Float32Array(length);\n    for (const p in table) {\n      array[table[p]] = v[p] || 0;\n    }\n    return array;\n  };\n}\n\nmodule.exports = NeuralNetwork;\n","const { GPU, alias, utils: gpuUtils } = require('gpu.js');\nconst NeuralNetwork = require('./neural-network');\nconst lookup = require('./lookup');\nconst { release } = require('./utilities/kernel');\n\nfunction weightedSumSigmoid(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // sigmoid\n  return 1 / (1 + Math.exp(-sum));\n}\n\nfunction weightedSumRelu(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // relu\n  return sum < 0 ? 0 : sum;\n}\n\nfunction weightedSumLeakyRelu(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // leaky relu\n  return sum < 0 ? 0 : 0.01 * sum;\n}\n\nfunction weightedSumTanh(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // tanh\n  return Math.tanh(sum);\n}\n\nfunction calcErrorOutput(output, targets) {\n  return targets[this.thread.x] - output;\n}\n\nfunction calcDeltasSigmoid(error, output) {\n  // sigmoid derivative\n  return error * output * (1 - output);\n}\n\nfunction calcDeltasRelu(error, output) {\n  // relu derivative\n  return output > 0 ? error : 0;\n}\n\nfunction calcDeltasLeakyRelu(error, output) {\n  // leaky relu derivative\n  return output > 0 ? error : 0.01 * error;\n}\n\nfunction calcDeltasTanh(error, output) {\n  // tanh derivative\n  return (1 - output * output) * error;\n}\n\nfunction calcError(nextWeights, nextDeltas) {\n  let error = 0;\n  for (let k = 0; k < this.constants.size; k++) {\n    error += nextDeltas[k] * nextWeights[k][this.thread.x];\n  }\n  return error;\n}\n\nfunction calcChanges(previousChanges, deltas, previousOutputs) {\n  return (\n    this.constants.learningRate *\n      deltas[this.thread.y] *\n      previousOutputs[this.thread.x] +\n    this.constants.momentum * previousChanges[this.thread.y][this.thread.x]\n  );\n}\n\nfunction addWeights(change, weights) {\n  return change + weights[this.thread.y][this.thread.x];\n}\n\nfunction addBiases(biases, deltas) {\n  return (\n    biases[this.thread.x] + deltas[this.thread.x] * this.constants.learningRate\n  );\n}\n\n// mean squared error, reimplemented for GPU\nfunction mse(errors) {\n  let sum = 0;\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += errors[i] ** 2;\n  }\n  return sum / this.constants.size;\n}\n\n/**\n *\n * @param {object} options\n * @constructor\n */\nclass NeuralNetworkGPU extends NeuralNetwork {\n  constructor(options = {}) {\n    super(options);\n    this.forwardPropagate = [];\n    this.backwardPropagate = [];\n    this.changesPropagate = [];\n    this.biasesPropagate = [];\n    this.errorCheckInterval = 100;\n    this.gpu = new GPU({ mode: options.mode });\n  }\n\n  /**\n   *\n   */\n  initialize() {\n    super.initialize();\n    this.buildRunInput();\n    this.buildCalculateDeltas();\n    this.buildGetChanges();\n    this.buildChangeBiases();\n    this.buildGetMSE();\n  }\n\n  setActivation() {\n    return;\n    throw new Error(\n      `${this.constructor.name}-setActivation is not yet implemented`\n    );\n  }\n\n  /**\n   *\n   * @param value\n   * @param logErrorRate\n   */\n  trainPattern(value, logErrorRate) {\n    // forward propagate\n    this.runInput(value.input);\n\n    // back propagate\n    this.calculateDeltas(value.output);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return this.getMSE(this.errors[this.outputLayer]);\n    }\n    return null;\n  }\n\n  calculateTrainingError(data) {\n    let sum = new Float32Array([0]);\n    for (let i = 0; i < data.length; ++i) {\n      const prevSum = sum;\n      const error = this.trainPattern(data[i], true);\n      sum = this._addMSE(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = this._divideMSESum(data.length, sum)[0];\n    release(sum);\n    return result;\n  }\n\n  adjustWeights() {\n    this.getChanges();\n    this.changeBiases();\n  }\n\n  buildRunInput() {\n    let weightedSum = null;\n\n    switch (this.activation) {\n      case 'sigmoid':\n        weightedSum = weightedSumSigmoid;\n        break;\n      case 'relu':\n        weightedSum = weightedSumRelu;\n        break;\n      case 'leaky-relu':\n        weightedSum = weightedSumLeakyRelu;\n        break;\n      case 'tanh':\n        weightedSum = weightedSumTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      this.forwardPropagate[layer] = this.gpu.createKernel(weightedSum, {\n        output: [this.sizes[layer]],\n        pipeline: true,\n        constants: {\n          size: this.sizes[layer - 1]\n        },\n        immutable: true\n      });\n    }\n\n    this.texturizeInputData = this.gpu.createKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [this.sizes[1]],\n        pipeline: true,\n        immutable: true\n      }\n    );\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  runInput(input) {\n    let output;\n    this.outputs[0] = input;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      release(this.outputs[layer]);\n      this.outputs[layer] = this.forwardPropagate[layer](\n        this.weights[layer],\n        this.biases[layer],\n        input\n      );\n      output = input = this.outputs[layer];\n    }\n    return output;\n  }\n\n  buildCalculateDeltas() {\n    let calcDeltas = null;\n    switch (this.activation) {\n      case 'sigmoid':\n        calcDeltas = calcDeltasSigmoid;\n        break;\n      case 'relu':\n        calcDeltas = calcDeltasRelu;\n        break;\n      case 'leaky-relu':\n        calcDeltas = calcDeltasLeakyRelu;\n        break;\n      case 'tanh':\n        calcDeltas = calcDeltasTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n\n    calcDeltas = alias(\n      gpuUtils.getMinifySafeName(() => calcDeltas),\n      calcDeltas\n    );\n    this.gpu.addFunction(calcDeltas);\n    for (let layer = this.outputLayer; layer > 0; layer--) {\n      if (layer === this.outputLayer) {\n        this.backwardPropagate[this.outputLayer] = this.gpu.createKernelMap(\n          {\n            error: calcErrorOutput\n          },\n          function (outputs, targets) {\n            const output = outputs[this.thread.x];\n            return calcDeltas(calcErrorOutput(output, targets), output);\n          },\n          {\n            output: [this.sizes[this.outputLayer]],\n            pipeline: true,\n            immutable: true\n          }\n        );\n      } else {\n        this.backwardPropagate[layer] = this.gpu.createKernelMap(\n          {\n            error: calcError\n          },\n          function (nextWeights, outputs, nextDeltas) {\n            const output = outputs[this.thread.x];\n            return calcDeltas(calcError(nextWeights, nextDeltas), output);\n          },\n          {\n            output: [this.sizes[layer]],\n            pipeline: true,\n            constants: {\n              size: this.deltas[layer + 1].length\n            },\n            immutable: true\n          }\n        );\n      }\n    }\n  }\n\n  calculateDeltas(target) {\n    for (let layer = this.outputLayer; layer > 0; layer--) {\n      let output;\n      release(this.deltas[layer]);\n      release(this.errors[layer]);\n\n      if (layer === this.outputLayer) {\n        output = this.backwardPropagate[layer](this.outputs[layer], target);\n      } else {\n        output = this.backwardPropagate[layer](\n          this.weights[layer + 1],\n          this.outputs[layer],\n          this.deltas[layer + 1]\n        );\n      }\n      this.deltas[layer] = output.result;\n      this.errors[layer] = output.error;\n    }\n  }\n\n  buildGetChanges() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      this.changesPropagate[layer] = this.gpu.createKernelMap(\n        {\n          weights: addWeights,\n          changes: calcChanges\n        },\n        function (previousOutputs, deltas, weights, changes) {\n          const change = calcChanges(changes, deltas, previousOutputs);\n\n          return addWeights(change, weights);\n        },\n        {\n          output: [this.sizes[layer - 1], this.sizes[layer]],\n          pipeline: true,\n          constants: {\n            size: this.outputs[layer - 1].length,\n            learningRate: this.trainOpts.learningRate,\n            momentum: this.trainOpts.momentum\n          },\n          immutable: true\n        }\n      );\n    }\n  }\n\n  getChanges() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const weights = this.weights[layer];\n      const changes = this.changes[layer];\n      const output = this.changesPropagate[layer](\n        this.outputs[layer - 1],\n        this.deltas[layer],\n        weights,\n        changes\n      );\n      release(weights);\n      release(changes);\n      this.weights[layer] = output.weights;\n      this.changes[layer] = output.changes;\n      release(output.result);\n    }\n  }\n\n  buildChangeBiases() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      this.biasesPropagate[layer] = this.gpu.createKernel(addBiases, {\n        output: [this.sizes[layer]],\n        pipeline: true,\n        constants: {\n          learningRate: this.trainOpts.learningRate\n        },\n        immutable: true\n      });\n    }\n  }\n\n  changeBiases() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const biases = this.biases[layer];\n      this.biases[layer] = this.biasesPropagate[layer](\n        biases,\n        this.deltas[layer]\n      );\n      release(biases);\n    }\n  }\n\n  buildGetMSE() {\n    this.getMSE = this.gpu.createKernel(mse, {\n      output: [1],\n      constants: {\n        size: this.sizes[this.outputLayer]\n      },\n      pipeline: true,\n      immutable: true\n    });\n    this._addMSE = this.gpu.createKernel(\n      function (value1, value2) {\n        return value1[0] + value2[0];\n      },\n      {\n        output: [1],\n        pipeline: true,\n        immutable: true\n      }\n    );\n    this._divideMSESum = this.gpu.createKernel(\n      function (length, mseSum) {\n        const value = mseSum[0];\n        if (value > 0) {\n          return value / length;\n        }\n        return 0;\n      },\n      {\n        output: [1]\n      }\n    );\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  run(input) {\n    if (!this.isRunnable) return null;\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input, this.inputLookupLength);\n    }\n    const outputTextures = this.runInput(input);\n    let output = outputTextures.toArray\n      ? outputTextures.toArray()\n      : outputTextures;\n\n    if (this.outputLookup) {\n      output = lookup.toObject(this.outputLookup, output);\n    }\n    return output;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return { data, status, endTime }\n   */\n  prepTraining(data, options) {\n    this.updateTrainingOptions(options);\n    data = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0\n    };\n\n    this.verifyIsInitialized(data);\n\n    const texturizeOutputData = this.gpu.createKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [data[0].output.length],\n        pipeline: true,\n        immutable: true\n      }\n    );\n\n    return {\n      data: data.map((set) => ({\n        input: this.texturizeInputData(set.input),\n        output: texturizeOutputData(set.output)\n      })),\n      status,\n      endTime\n    };\n  }\n\n  toFunction() {\n    throw new Error(\n      `${this.constructor.name}-toFunction is not yet implemented`\n    );\n  }\n\n  toJSON() {\n    if (!this.weights[1].toArray) {\n      // in fallback mode\n      return super.toJSON();\n    }\n\n    // in GPU mode\n    const weights = [];\n    const biases = [];\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      weights[layer] = Array.from(this.weights[layer].toArray());\n      biases[layer] = Array.from(this.biases[layer].toArray());\n    }\n\n    // pseudo lo-fi decorator\n    return NeuralNetwork.prototype.toJSON.call({\n      activation: this.activation,\n      inputLookup: this.inputLookup,\n      outputLookup: this.outputLookup,\n      outputLayer: this.outputLayer,\n      sizes: this.sizes,\n      getTrainOptsJSON: () => this.getTrainOptsJSON(),\n      weights,\n      biases\n    });\n  }\n}\n\nmodule.exports = NeuralNetworkGPU;\n","const { Internal } = require('./types');\nconst zeros2D = require('../utilities/zeros-2d');\nconst { release } = require('../utilities/kernel');\n\nclass RecurrentConnection extends Internal {\n  setLayer(layer) {\n    this.layer = layer;\n  }\n\n  get width() {\n    return this.layer.width;\n  }\n\n  set width(value) {\n    throw new Error(`${this.constructor.name}-width is not yet implemented`);\n  }\n\n  get height() {\n    return this.layer.height;\n  }\n\n  set height(value) {\n    throw new Error(`${this.constructor.name}-height is not yet implemented`);\n  }\n\n  get deltas() {\n    return this.layer.deltas;\n  }\n\n  set deltas(deltas) {\n    release(this.layer.deltas);\n    this.layer.deltas = deltas;\n  }\n\n  get weights() {\n    return this.layer.weights;\n  }\n\n  set weights(weights) {\n    release(this.layer.weights);\n    this.layer.weights = weights;\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn() {\n    throw new Error('no longer using');\n  }\n\n  setupKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n}\n\nmodule.exports = {\n  RecurrentConnection\n};\n","const { Internal } = require('./types');\nconst { Base } = require('./base');\nconst { release } = require('../utilities/kernel');\nconst zeros2D = require('../utilities/zeros-2d');\n\nclass RecurrentInput extends Internal {\n  constructor(recurrentInput) {\n    super();\n    this.recurrentInput = recurrentInput;\n    this.validate();\n  }\n\n  get width() {\n    return this.recurrentInput.width;\n  }\n\n  get height() {\n    return this.recurrentInput.height;\n  }\n\n  get deltas() {\n    return this.recurrentInput.deltas;\n  }\n\n  set deltas(deltas) {\n    const recurrentInputDeltas = this.recurrentInput.deltas;\n    this.recurrentInput.deltas = deltas;\n    release(recurrentInputDeltas);\n  }\n\n  get weights() {\n    return this.recurrentInput.weights;\n  }\n\n  set weights(weights) {\n    const recurrentInputWeights = this.recurrentInput.weights;\n    this.recurrentInput.weights = weights;\n    release(recurrentInputWeights);\n  }\n\n  validate() {\n    Base.prototype.validate.call(this);\n    if (this.width !== this.recurrentInput.width) {\n      throw new Error(\n        `${this.constructor.name} layer width ${this.width} and ${\n          this.recurrentInput.constructor.name\n        } width (${this.recurrentInput.width}) are not same`\n      );\n    }\n\n    if (this.height !== this.recurrentInput.height) {\n      throw new Error(\n        `${this.constructor.name} layer height ${this.height} and ${\n          this.recurrentInput.constructor.name\n        } width (${this.recurrentInput.height}) are not same`\n      );\n    }\n  }\n\n  setDimensions(width, height) {\n    throw new Error('should just listen');\n    this.width = width;\n    this.height = height;\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn() {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n\n  setupKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n}\n\nmodule.exports = {\n  RecurrentInput\n};\n","const zeros2D = require('../utilities/zeros-2d');\nconst { Internal } = require('./types');\nconst { release, clear } = require('../utilities/kernel');\n\nclass RecurrentZeros extends Internal {\n  setDimensions(width, height) {\n    this.praxis = null;\n    this.width = width;\n    this.height = height;\n    this.weights = zeros2D(width, height);\n    this.deltas = zeros2D(width, height);\n  }\n\n  setupKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn(previousLayer, nextLayer, learningRate) {\n    const { weights: oldWeights } = this;\n    this.weights = this.praxis.run(this, previousLayer, nextLayer, learningRate);\n    this.deltas = deltas;\n    release(oldWeights);\n    clear(this.deltas);\n  }\n\n  validate() {\n    throw new Error(`${this.constructor.name}-validate is not yet implemented`);\n  }\n\n  reset() {\n    throw new Error(`${this.constructor.name}-reset is not yet implemented`);\n  }\n}\n\nfunction recurrentZeros() {\n  return new RecurrentZeros();\n}\n\nmodule.exports = {\n  RecurrentZeros,\n  recurrentZeros,\n};\n","const { RecurrentConnection } = require('./layer/recurrent-connection');\nconst { RecurrentInput } = require('./layer/recurrent-input');\nconst { RecurrentZeros } = require('./layer/recurrent-zeros');\nconst { Model, InternalModel } = require('./layer/types');\nconst { Target } = require('./layer/target');\nconst flattenLayers = require('./utilities/flatten-layers');\nconst { FeedForward } = require('./feed-forward');\nconst { release, clone } = require('./utilities/kernel');\n\nclass Recurrent extends FeedForward {\n  static get structure() {\n    return {\n      /**\n       *\n       * _inputLayers are a 1 dimensional array of input layers defined once\n       * @type Object[]\n       * @private\n       */\n      _inputLayers: null,\n\n      /**\n       * _hiddenLayers are a 1 dimensional array of hidden layers defined from results from settings.hiddenLayers\n       * @type Object[]\n       * @private\n       */\n      _hiddenLayers: null,\n\n      /**\n       * _hiddenLayerSets are a 2 dimensional array of hidden layers defined for each recursion\n       * @type Object[][]\n       * @private\n       */\n      _hiddenLayerSets: null,\n\n      /**\n       * a 2 dimensional array of layers defined for each recursion\n       */\n      _layerSets: null,\n      _hiddenLayerOutputIndices: null,\n\n      /**\n       * _outputLayers are a 1 dimensional array of output layers defined once\n       * @type Object[]\n       * @private\n       */\n      _outputLayers: null,\n      _outputConnection: null,\n      _previousInputs: null,\n      _model: null,\n      _recurrentIndices: null,\n    };\n  }\n\n  _connectLayers() {\n    const inputLayer = this.inputLayer();\n    const hiddenLayers = this._connectHiddenLayers(inputLayer);\n    const outputLayer = this.outputLayer(hiddenLayers[hiddenLayers.length - 1]);\n    return {\n      inputLayer,\n      hiddenLayers,\n      outputLayer,\n    };\n  }\n\n  _connectLayersDeep() {\n    const layers = [];\n    const previousLayers = this._layerSets[this._layerSets.length - 1];\n    let usedHiddenLayerOutputIndex = 0;\n    for (let i = 0; i < previousLayers.length; i++) {\n      const previousLayer = previousLayers[i];\n      let layer = null;\n      switch (Object.getPrototypeOf(previousLayer.constructor).name) {\n        case 'Activation': {\n          layer = new previousLayer.constructor(findInputLayer(previousLayer.inputLayer));\n          break;\n        }\n        case 'EntryPoint': {\n          layer = new previousLayer.constructor(layerSettings(previousLayer));\n          break;\n        }\n        case 'Filter': {\n          layer = new previousLayer.constructor(\n            layerSettings(previousLayer.inputLayer),\n            findInputLayer(previousLayer.inputLayer)\n          );\n          break;\n        }\n        case 'Internal': {\n          const previousHiddenLayerOutput = previousLayers[this._hiddenLayerOutputIndices[usedHiddenLayerOutputIndex++]];\n          switch (previousLayer.constructor.name) {\n            case 'RecurrentConnection':\n              throw new Error('unfinished');\n            case 'RecurrentInput':\n              layer = new RecurrentInput(previousHiddenLayerOutput);\n              break;\n            case 'RecurrentZeros':\n            default:\n              layer = new RecurrentInput(previousHiddenLayerOutput);\n              break;\n          }\n          break;\n        }\n        case 'InternalModel':\n        case 'Model': {\n          layer = previousLayer;\n          break;\n        }\n        case 'Modifier': {\n          layer = new previousLayer.constructor(findInputLayer(previousLayer.inputLayer));\n          break;\n        }\n        case 'Operator': {\n          layer = new previousLayer.constructor(\n            findInputLayer(previousLayer.inputLayer1),\n            findInputLayer(previousLayer.inputLayer2),\n            layerSettings(previousLayer)\n          );\n          break;\n        }\n        default:\n          throw new Error(\n            `hidden layer ${\n              previousLayer.constructor.name\n            } extends unknown hidden layer ${\n              Object.getPrototypeOf(previousLayer.constructor).name\n            }`\n          );\n      }\n      layers.push(layer);\n    }\n\n    function findInputLayer(inputLayer) {\n      const index = previousLayers.indexOf(inputLayer);\n      if (index < 0) throw new Error('unable to find layer');\n      return layers[index];\n    }\n\n    function layerSettings(layer) {\n      return { ...layer, weights: null, deltas: null, errors: null, praxis: null };\n    }\n\n    return layers;\n  }\n\n  _connectHiddenLayers(previousLayer) {\n    const hiddenLayers = [];\n    for (let i = 0; i < this.hiddenLayers.length; i++) {\n      const recurrentInput = new RecurrentZeros();\n      const hiddenLayer = this.hiddenLayers[i](previousLayer, recurrentInput, i);\n      previousLayer = hiddenLayer;\n      hiddenLayers.push(hiddenLayer);\n    }\n    return hiddenLayers;\n  }\n\n  initialize() {\n    this.layers = [];\n    this._outputConnection = new RecurrentConnection();\n    const { inputLayer, hiddenLayers, outputLayer } = this._connectLayers();\n    const layerSet = flattenLayers([inputLayer, ... hiddenLayers, outputLayer]);\n    this._hiddenLayerOutputIndices = hiddenLayers.map(l => layerSet.indexOf(l));\n    this._layerSets = [layerSet];\n    this._model = layerSet.filter(l => l instanceof Model || l instanceof InternalModel);\n    this.initializeLayers(layerSet);\n  }\n\n  initializeDeep() {\n    const layers = this._connectLayersDeep();\n    for (let i = 0; i < layers.length; i++) {\n      const layer = layers[i];\n      layer.reuseKernels(this._layerSets[0][i]);\n    }\n    this._layerSets.push(layers);\n  }\n\n  run(input) {\n    while (this._layerSets.length <= input.length) {\n      this.initializeDeep();\n    }\n    return super.run(input);\n  }\n\n  runInput(input) {\n    while (this._layerSets.length < input.length) {\n      this.initializeDeep();\n    }\n    const max = input.length - 1; // last output will be compared with last index\n    for (let x = 0; x <= max; x++) {\n      const layerSet = this._layerSets[x];\n      layerSet[0].predict([new Float32Array([input[x]])]);\n      for (let i = 1; i < layerSet.length; i++) {\n        layerSet[i].predict();\n      }\n    }\n    const lastLayerUsed = this._layerSets[max];\n    const result = lastLayerUsed[lastLayerUsed.length - 1].weights;\n    this.end();\n    return result;\n  }\n\n  end() {\n    const x = this._layerSets.length - 1;\n    const lastLayerSet = this._layerSets[x];\n    lastLayerSet[0].predict([new Float32Array([0])]);\n    for (let i = 1; i < lastLayerSet.length; i++) {\n      lastLayerSet[i].predict();\n    }\n  }\n\n  transferData(formattedData) {\n    return formattedData;\n  }\n\n  _prepTraining(data, options) {\n    const stats = super._prepTraining(data, options);\n\n    this.verifyIsInitialized(data);\n\n    return stats;\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {Number} error\n   */\n  _calculateTrainingError(data) {\n    let sum = new Float32Array(1);\n    for (let i = 0; i < data.length; ++i) {\n      const prevSum = sum;\n      const error = this._trainPattern(data[i], true);\n      sum = this.meanSquaredError.add(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = this.meanSquaredError.divide(data.length, sum);\n    release(sum);\n    if (result.toArray) {\n      const resultArray = result.toArray();\n      return resultArray[0];\n    }\n    return result[0];\n  }\n\n  formatData(data) {\n    return data;\n  }\n\n  _calculateDeltas(target) {\n    const lastLayerSet = this._layerSets[this._layerSets.length - 1];\n    // Iterate from the second to last layer backwards, propagating 0's\n    for (let i = lastLayerSet.length - 2; i >= 0; i--) {\n      lastLayerSet[i].compare();\n    }\n\n    for (let x = target.length - 2; x >= 0; x--) {\n      const layerSet = this._layerSets[x];\n      layerSet[layerSet.length - 1].compare(new Float32Array([target[x + 1]]));\n      for (let i = layerSet.length - 2; i >= 0; i--) {\n        layerSet[i].compare();\n      }\n    }\n  }\n\n  adjustWeights() {\n    const { _model } = this;\n    for (let i = 0; i < _model.length; i++) {\n      _model[i].learn();\n    }\n  }\n\n  /**\n   * @param data\n   * @private\n   */\n  _trainPatterns(data) {\n    for (let i = 0; i < data.length; ++i) {\n      this._trainPattern(data[i], false);\n    }\n  }\n  /**\n   *\n   * @param {number[]} input\n   * @param {Boolean} [logErrorRate]\n   */\n  _trainPattern(input, logErrorRate) {\n    // forward propagate\n    this.runInput(input);\n\n    // back propagate\n    this._calculateDeltas(input);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      const { meanSquaredError } = this;\n      let error = new Float32Array(1);\n      for (let i = 0, max = input.length - 1; i < max; i++) {\n        const layerSet = this._layerSets[i];\n        const lastLayer = layerSet[layerSet.length - 1];\n        const prevError = error;\n        error = meanSquaredError.addAbsolute(prevError, lastLayer.errors);\n        release(prevError);\n      }\n      return clone(meanSquaredError.divide(input.length, error));\n    }\n    return null;\n  }\n}\n\nmodule.exports = {\n  Recurrent\n};\n","const zeros = require('../../utilities/zeros');\n\n/**\n * A matrix\n * @param {Number} [rows]\n * @param {Number} [columns]\n * @constructor\n */\nclass Matrix {\n  constructor(rows, columns) {\n    if (rows === undefined) return;\n    if (columns === undefined) return;\n\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n    this.deltas = zeros(rows * columns);\n  }\n\n  /**\n   *\n   * @param {Number} row\n   * @param {Number} col\n   * @returns {Float32Array|Array}\n   */\n  getWeights(row, col) {\n    // slow but careful accessor function\n    // we want row-major order\n    const ix = this.columns * row + col;\n    if (ix < 0 && ix >= this.weights.length)\n      throw new Error('get accessor is skewed');\n    return this.weights[ix];\n  }\n\n  /**\n   *\n   * @param {Number} row\n   * @param {Number} col\n   * @param v\n   * @returns {Matrix}\n   */\n  setWeight(row, col, v) {\n    // slow but careful accessor function\n    const ix = this.columns * row + col;\n    if (ix < 0 && ix >= this.weights.length)\n      throw new Error('set accessor is skewed');\n    this.weights[ix] = v;\n  }\n\n  /**\n   *\n   * @param {Number} row\n   * @param {Number} col\n   * @param v\n   * @returns {Matrix}\n   */\n  setDeltas(row, col, v) {\n    // slow but careful accessor function\n    const ix = this.columns * row + col;\n    if (ix < 0 && ix >= this.weights.length)\n      throw new Error('set accessor is skewed');\n    this.deltas[ix] = v;\n  }\n\n  /**\n   *\n   * @returns {{rows: *, columns: *, weights: Array}}\n   */\n  toJSON() {\n    return {\n      rows: this.rows,\n      columns: this.columns,\n      weights: this.weights.slice(0),\n    };\n  }\n\n  static fromJSON(json) {\n    const matrix = new Matrix(json.rows, json.columns);\n    for (let i = 0, max = json.rows * json.columns; i < max; i++) {\n      matrix.weights[i] = json.weights[i]; // copy over weights\n    }\n    return matrix;\n  }\n\n  /**\n   *\n   * @param weightRows\n   * @param [deltasRows]\n   * @returns {Matrix}\n   */\n  static fromArray(weightRows, deltasRows) {\n    const rows = weightRows.length;\n    const columns = weightRows[0].length;\n    const m = new Matrix(rows, columns);\n\n    deltasRows = deltasRows || weightRows;\n\n    for (let rowIndex = 0; rowIndex < rows; rowIndex++) {\n      const weightValues = weightRows[rowIndex];\n      const deltasValues = deltasRows[rowIndex];\n      for (let columnIndex = 0; columnIndex < columns; columnIndex++) {\n        m.setWeight(rowIndex, columnIndex, weightValues[columnIndex]);\n        m.setDeltas(rowIndex, columnIndex, deltasValues[columnIndex]);\n      }\n    }\n\n    return m;\n  }\n\n  weightsToArray() {\n    const deltas = [];\n    let row = 0;\n    let column = 0;\n    for (let i = 0; i < this.weights.length; i++) {\n      if (column === 0) {\n        deltas.push([]);\n      }\n      deltas[row].push(this.weights[i]);\n      column++;\n      if (column >= this.columns) {\n        column = 0;\n        row++;\n      }\n    }\n    return deltas;\n  }\n\n  deltasToArray() {\n    const deltas = [];\n    let row = 0;\n    let column = 0;\n    for (let i = 0; i < this.deltas.length; i++) {\n      if (column === 0) {\n        deltas.push([]);\n      }\n      deltas[row].push(this.deltas[i]);\n      column++;\n      if (column >= this.columns) {\n        column = 0;\n        row++;\n      }\n    }\n    return deltas;\n  }\n}\n\nmodule.exports = Matrix;\n","const Matrix = require('.');\nconst { randomFloat } = require('../../utilities/random');\n\n/** return Matrix but filled with random numbers from gaussian\n * @param {Number} [rows]\n * @param {Number} [columns]\n * @param std\n * @constructor\n */\nclass RandomMatrix extends Matrix {\n  constructor(rows, columns, std) {\n    super(rows, columns);\n    this.rows = rows;\n    this.columns = columns;\n    this.std = std;\n    for (let i = 0, max = this.weights.length; i < max; i++) {\n      this.weights[i] = randomFloat(-std, std);\n    }\n  }\n}\n\nmodule.exports = RandomMatrix;\n","const Matrix = require('.');\nconst ones = require('../../utilities/ones');\n\n/** return Matrix but filled with random numbers from gaussian\n * @param {Number} [rows]\n * @param {Number} [columns]\n * @constructor\n */\nclass OnesMatrix extends Matrix {\n  constructor(rows, columns) {\n    super(rows, columns);\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = ones(rows * columns);\n    this.deltas = ones(rows * columns);\n  }\n}\n\nmodule.exports = OnesMatrix;\n","/*\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function copy(product, left) {\n  product.rows = parseInt(left.rows, 10);\n  product.columns = parseInt(left.columns, 10);\n  product.weights = left.weights.slice(0);\n  product.deltas = left.deltas.slice(0);\n};\n","/**\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function cloneNegative(product, left) {\n  product.rows = parseInt(left.rows, 10);\n  product.columns = parseInt(left.columns, 10);\n  product.weights = left.weights.slice(0);\n  product.deltas = left.deltas.slice(0);\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = -left.weights[i];\n    product.deltas[i] = 0;\n  }\n}\n","/**\n * add {left} and {right} matrix weights into {into}\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function add(product, left, right) {\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = left.weights[i] + right.weights[i];\n    product.deltas[i] = 0;\n  }\n};\n","/**\n * adds {from} deltas to {left} and {right} deltas\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function addB(product, left, right) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    left.deltas[i] = product.deltas[i];\n    right.deltas[i] = product.deltas[i];\n  }\n};\n","/**\n * makes matrix weights and deltas all ones\n * @param {Matrix} product\n */\nmodule.exports = function allOnes(product) {\n  for (let i = 0; i < product.weights.length; i++) {\n    product.weights[i] = 1;\n    product.deltas[i] = 0;\n  }\n}\n","/**\n * multiply {left} and {right} matrix weights to {into}\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiply(product, left, right) {\n  const leftRows = left.rows;\n  const leftColumns = left.columns;\n  const rightColumns = right.columns;\n\n  // loop over rows of left\n  for (let leftRow = 0; leftRow < leftRows; leftRow++) {\n    const leftRowBase = leftColumns * leftRow;\n    const rightRowBase = rightColumns * leftRow;\n    // loop over cols of right\n    for (let rightColumn = 0; rightColumn < rightColumns; rightColumn++) {\n      // dot product loop\n      let dot = 0;\n      // loop over columns of left\n      for (let leftColumn = 0; leftColumn < leftColumns; leftColumn++) {\n        const rightColumnBase = rightColumns * leftColumn;\n        const leftIndex = leftRowBase + leftColumn;\n        const rightIndex = rightColumnBase + rightColumn;\n        dot += left.weights[leftIndex] * right.weights[rightIndex];\n        left.deltas[leftIndex] = 0;\n        right.deltas[rightIndex] = 0;\n      }\n      product.weights[rightRowBase + rightColumn] = dot;\n    }\n  }\n};\n","/**\n * multiplies {from} deltas to {left} and {right}\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiplyB(product, left, right) {\n  const leftRows = left.rows;\n  const leftColumns = left.columns;\n  const rightColumns = right.columns;\n\n  // loop over rows of left\n  for (let leftRowRoot = 0; leftRowRoot < leftRows; leftRowRoot++) {\n    const leftRowBase = leftColumns * leftRowRoot;\n    const rightRowBase = rightColumns * leftRowRoot;\n    // loop over cols of right\n    for (let rightColumn = 0; rightColumn < rightColumns; rightColumn++) {\n      // loop over columns of left\n      for (let leftColumn = 0; leftColumn < leftColumns; leftColumn++) {\n        const rightColumnBase = rightColumns * leftColumn;\n        const leftRow = leftRowBase + leftColumn;\n        const rightRow = rightColumnBase + rightColumn;\n        const backPropagateValue = product.deltas[rightRowBase + rightColumn];\n        left.deltas[leftRow] += right.weights[rightRow] * backPropagateValue;\n        right.deltas[rightRow] += left.weights[leftRow] * backPropagateValue;\n      }\n    }\n  }\n};\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiplyElement(product, left, right) {\n  const { weights } = left;\n  for (let i = 0; i < weights.length; i++) {\n    product.weights[i] = left.weights[i] * right.weights[i];\n    product.deltas[i] = 0;\n  }\n}\n","/**\n * multiplies {left} and {right} weight by {from} deltas into {left} and {right} deltas\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiplyElementB(product, left, right) {\n  for (let i = 0; i < left.weights.length; i++) {\n    left.deltas[i] = right.weights[i] * product.deltas[i];\n    right.deltas[i] = left.weights[i] * product.deltas[i];\n  }\n}\n","/**\n *\n * relu {m} weights to {into} weights\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function relu(product, left) {\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = Math.max(0, left.weights[i]); // relu\n    product.deltas[i] = 0;\n  }\n}\n","/**\n * adds {from} deltas to {m} deltas when {m} weights are above other a threshold of 0\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function reluB(product, left) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    left.deltas[i] = left.weights[i] > 0 ? product.deltas[i] : 0;\n  }\n};\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Number} rowPluckIndex\n */\nmodule.exports = function rowPluck(product, left, rowPluckIndex) {\n  const { columns } = left;\n  const rowBase = columns * rowPluckIndex;\n  for (let column = 0; column < columns; column++) {\n    product.weights[column] = left.weights[rowBase + column];\n    product.deltas[column] = 0;\n  }\n};\n","/**\n * adds {from} deltas into {m} deltas\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Number} rowIndex\n */\nmodule.exports = function rowPluckB(product, left, rowIndex) {\n  const { columns } = left;\n  const rowBase = columns * rowIndex;\n  for (let column = 0; column < columns; column++) {\n    left.deltas[rowBase + column] = product.deltas[column];\n  }\n};\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function sigmoid(product, left) {\n  // sigmoid nonlinearity\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = 1 / (1 + Math.exp(-left.weights[i]));\n    product.deltas[i] = 0;\n  }\n}\n\nfunction sig(x) {\n  // helper function for computing sigmoid\n  return 1 / (1 + Math.exp(-x));\n}\n","/**\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function sigmoidB(product, left) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    const mwi = product.weights[i];\n    left.deltas[i] = mwi * (1 - mwi) * product.deltas[i];\n  }\n}\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function tanh(product, left) {\n  // tanh nonlinearity\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = Math.tanh(left.weights[i]);\n    product.deltas[i] = 0;\n  }\n}\n","/**\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function tanhB(product, left) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    // grad for z = tanh(x) is (1 - z^2)\n    const mwi = product.weights[i];\n    left.deltas[i] = (1 - mwi * mwi) * product.deltas[i];\n  }\n}\n","const Matrix = require('.');\n\n/**\n *\n * @param {Matrix} m\n * @returns {Matrix}\n */\nmodule.exports = function softmax(m) {\n  const result = new Matrix(m.rows, m.columns); // probability volume\n  let maxVal = -999999;\n  for (let i = 0; i < m.weights.length; i++) {\n    if (m.weights[i] > maxVal) {\n      maxVal = m.weights[i];\n    }\n  }\n\n  let s = 0;\n  for (let i = 0; i < m.weights.length; i++) {\n    result.weights[i] = Math.exp(m.weights[i] - maxVal);\n    s += result.weights[i];\n  }\n\n  for (let i = 0; i < m.weights.length; i++) {\n    result.weights[i] /= s;\n  }\n\n  // no backward pass here needed\n  // since we will use the computed probabilities outside\n  // to set gradients directly on m\n  return result;\n};\n","const Matrix = require('./');\nconst OnesMatrix = require('./ones-matrix');\nconst copy = require('./copy');\nconst cloneNegative = require('./clone-negative');\nconst add = require('./add');\nconst addB = require('./add-b');\nconst allOnes = require('./all-ones');\nconst multiply = require('./multiply');\nconst multiplyB = require('./multiply-b');\nconst multiplyElement = require('./multiply-element');\nconst multiplyElementB = require('./multiply-element-b');\nconst relu = require('./relu');\nconst reluB = require('./relu-b');\nconst rowPluck = require('./row-pluck');\nconst rowPluckB = require('./row-pluck-b');\nconst sigmoid = require('./sigmoid');\nconst sigmoidB = require('./sigmoid-b');\nconst tanh = require('./tanh');\nconst tanhB = require('./tanh-b');\nconst softmax = require('./softmax');\n\nclass Equation {\n  constructor() {\n    this.inputRow = 0;\n    this.inputValue = null;\n    this.states = [];\n  }\n\n  /**\n   * connects two matrices together by add\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  add(left, right) {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n    const product = new Matrix(left.rows, left.columns);\n    this.states.push({\n      left,\n      right,\n      product,\n      forwardFn: add,\n      backpropagationFn: addB,\n    });\n    return product;\n  }\n\n  /**\n   *\n   * @param {Number} rows\n   * @param {Number} columns\n   * @returns {Matrix}\n   */\n  allOnes(rows, columns) {\n    const product = new Matrix(rows, columns);\n    this.states.push({\n      left: product,\n      product,\n      forwardFn: allOnes,\n    });\n    return product;\n  }\n\n  /**\n   *\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  cloneNegative(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: cloneNegative,\n    });\n    return product;\n  }\n\n  /**\n   * connects two matrices together by subtract\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  subtract(left, right) {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n    return this.add(\n      this.add(this.allOnes(left.rows, left.columns), this.cloneNegative(left)),\n      right\n    );\n  }\n\n  /**\n   * connects two matrices together by multiply\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  multiply(left, right) {\n    if (left.columns !== right.rows) {\n      throw new Error('misaligned matrices');\n    }\n    const product = new Matrix(left.rows, right.columns);\n    this.states.push({\n      left,\n      right,\n      product,\n      forwardFn: multiply,\n      backpropagationFn: multiplyB,\n    });\n    return product;\n  }\n\n  /**\n   * connects two matrices together by multiplyElement\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  multiplyElement(left, right) {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n    const product = new Matrix(left.rows, left.columns);\n    this.states.push({\n      left,\n      right,\n      product,\n      forwardFn: multiplyElement,\n      backpropagationFn: multiplyElementB,\n    });\n    return product;\n  }\n\n  /**\n   * connects a matrix to relu\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  relu(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: relu,\n      backpropagationFn: reluB,\n    });\n    return product;\n  }\n\n  /**\n   * copy a matrix\n   * @param {Matrix} input\n   * @returns {Matrix}\n   */\n  input(input) {\n    this.states.push({\n      product: input,\n      forwardFn: (product) => {\n        product.weights = input.weights = this.inputValue;\n      }\n    });\n    return input;\n  }\n\n  /**\n   * connects a matrix via a row\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  inputMatrixToRow(m) {\n    const self = this;\n    const product = new Matrix(m.columns, 1);\n    this.states.push({\n      left: m,\n      get right() {\n        return self.inputRow;\n      },\n      product,\n      forwardFn: rowPluck,\n      backpropagationFn: rowPluckB,\n    });\n    return product;\n  }\n\n  /**\n   * connects a matrix to sigmoid\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  sigmoid(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: sigmoid,\n      backpropagationFn: sigmoidB,\n    });\n    return product;\n  }\n\n  /**\n   * connects a matrix to tanh\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  tanh(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: tanh,\n      backpropagationFn: tanhB,\n    });\n    return product;\n  }\n\n  /**\n   *\n   * @param m\n   * @returns {Matrix}\n   */\n  observe(m) {\n    let iForward = 0;\n    let iBackpropagate = 0;\n    this.states.push({\n      forwardFn() {\n        iForward++;\n      },\n      backpropagationFn() {\n        iBackpropagate++;\n      },\n    });\n    return m;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  runIndex(rowIndex = 0) {\n    this.inputRow = rowIndex;\n    let state;\n    for (let i = 0, max = this.states.length; i < max; i++) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('forwardFn')) {\n        continue;\n      }\n      state.forwardFn(state.product, state.left, state.right);\n    }\n\n    return state.product;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  runInput(inputValue) {\n    this.inputValue = inputValue;\n    let state;\n    for (let i = 0, max = this.states.length; i < max; i++) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('forwardFn')) {\n        continue;\n      }\n      state.forwardFn(state.product, state.left, state.right);\n    }\n\n    return state.product;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  backpropagate() {\n    let i = this.states.length;\n    let state;\n    while (i-- > 0) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('backpropagationFn')) {\n        continue;\n      }\n      // console.log('backfn', state.backpropagationFn.name);\n      // console.log('before', state.product.deltas);\n      state.backpropagationFn(state.product, state.left, state.right);\n      // console.log('after', state.product.deltas);\n    }\n\n    return state.product;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  backpropagateIndex(rowIndex = 0) {\n    this.inputRow = rowIndex;\n\n    let i = this.states.length;\n    let state;\n    while (i-- > 0) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('backpropagationFn')) {\n        continue;\n      }\n      state.backpropagationFn(state.product, state.left, state.right);\n    }\n\n    return state.product;\n  }\n\n  predictTarget(input, target) {\n    const output = this.runInput(input);\n    let errorSum = 0;\n    for (let i = 0; i < output.weights.length; i++) {\n      const error = output.weights[i] - target[i];\n      // set gradients into log probabilities\n      errorSum += Math.abs(error);\n      // write gradients into log probabilities\n      output.deltas[i] = error;\n    }\n    return errorSum;\n  }\n\n  predictTargetIndex(input, target) {\n    const output = this.runIndex(input);\n    // set gradients into log probabilities\n    const logProbabilities = output; // interpret output as log probabilities\n    let probabilities = softmax(output); // compute the softmax probabilities\n\n    // write gradients into log probabilities\n    logProbabilities.deltas = probabilities.weights.slice(0);\n    logProbabilities.deltas[target] -= 1;\n\n    // accumulate base 2 log prob and do smoothing\n    return -Math.log2(probabilities.weights[target]);\n  }\n}\n\nmodule.exports = Equation;\n","const { randomFloat } = require('../../utilities/random');\n\n/**\n *\n * @param {Matrix} m\n * @returns {number}\n */\nmodule.exports = function sampleI(m) {\n  // sample argmax from w, assuming w are\n  // probabilities that sum to one\n  const r = randomFloat(0, 1);\n  let x = 0;\n  let i = 0;\n  const w = m.weights;\n\n  while (true) {\n    x += w[i];\n    if (x > r) {\n      return i;\n    }\n    i++;\n  }\n};\n","/**\n *\n * @param {Matrix} m\n * @returns {number}\n */\nmodule.exports = function maxI(m) {\n  // argmax of array w\n  const { weights } = m;\n  let maxv = weights[0];\n  let maxix = 0;\n  for (let i = 1; i < weights.length; i++) {\n    const v = weights[i];\n    if (v < maxv) continue;\n\n    maxix = i;\n    maxv = v;\n  }\n  return maxix;\n};\n","/**\n *\n * @param {String[]|Number[]} values\n * @param maxThreshold\n * @constructor\n */\nclass DataFormatter {\n  constructor(values, maxThreshold = 0) {\n    if (values === undefined) return;\n\n    this.values = values;\n    // go over all characters and keep track of all unique ones seen\n    // count up all characters\n    this.indexTable = {};\n    this.characterTable = {};\n    this.characters = [];\n    this.specialIndexes = [];\n    this.buildCharactersFromIterable(values);\n    this.buildTables(maxThreshold);\n  }\n\n  buildCharactersFromIterable(values) {\n    const tempCharactersTable = {};\n    for (\n      let dataFormatterIndex = 0, dataFormatterLength = values.length;\n      dataFormatterIndex < dataFormatterLength;\n      dataFormatterIndex++\n    ) {\n      const characters = values[dataFormatterIndex];\n\n      if (characters.hasOwnProperty('length')) {\n        for (\n          let characterIndex = 0, charactersLength = characters.length;\n          characterIndex < charactersLength;\n          characterIndex++\n        ) {\n          const character = characters[characterIndex];\n          if (tempCharactersTable.hasOwnProperty(character)) continue;\n          tempCharactersTable[character] = true;\n          this.characters.push(character);\n        }\n      } else {\n        const character = values[dataFormatterIndex];\n        if (tempCharactersTable.hasOwnProperty(character)) continue;\n        tempCharactersTable[dataFormatterIndex] = true;\n        this.characters.push(character);\n      }\n    }\n  }\n\n  buildTables(maxThreshold) {\n    // filter by count threshold and create pointers\n    const charactersLength = this.characters.length;\n    for (\n      let characterIndex = 0;\n      characterIndex < charactersLength;\n      characterIndex++\n    ) {\n      const character = this.characters[characterIndex];\n      if (characterIndex >= maxThreshold) {\n        // add character to dataFormatter\n        this.indexTable[character] = characterIndex;\n        this.characterTable[characterIndex] = character;\n      }\n    }\n  }\n\n  toIndexes(value, maxThreshold = 0) {\n    const result = [];\n    const { indexTable } = this;\n\n    for (let i = 0, max = value.length; i < max; i++) {\n      const character = value[i];\n      let index = indexTable[character];\n      if (index === undefined) {\n        if (indexTable['unrecognized']) {\n          index = indexTable['unrecognized'];\n        } else {\n          throw new Error(`unrecognized character \"${ character }\"`);\n        }\n      }\n      if (index < maxThreshold) continue;\n      result.push(index);\n    }\n    return result;\n  }\n\n  toIndexesInputOutput(value1, value2 = null, maxThreshold = 0) {\n    let result = null;\n    if (typeof value1 === 'string') {\n      result = this.toIndexes(\n        value1.split('').concat(['stop-input', 'start-output']),\n        maxThreshold\n      );\n    } else if (typeof value1 === 'number') {\n      result = this.toIndexes(\n        value1.toString().split('').concat(['stop-input', 'start-output']),\n        maxThreshold\n      );\n    } else {\n      result = this.toIndexes(\n        value1.concat(['stop-input', 'start-output']),\n        maxThreshold\n      );\n    }\n\n    if (value2 === null) return result;\n\n    if (typeof value2 === 'string') {\n      return result.concat(this.toIndexes(value2.split(''), maxThreshold));\n    } else {\n      return result.concat(this.toIndexes(value2, maxThreshold));\n    }\n  }\n\n  toCharacters(indices, maxThreshold = 0) {\n    const result = [];\n    const { indexTable, characterTable } = this;\n\n    for (let i = 0, max = indices.length; i < max; i++) {\n      let index = indices[i];\n      if (index < maxThreshold) continue;\n      let character = characterTable[index];\n      if (character === undefined) {\n        if (indexTable['unrecognized']) {\n          character = characterTable[indexTable['unrecognized']];\n        } else {\n          throw new Error(`unrecognized index \"${ index }\"`);\n        }\n      } else if (character !== null) {\n        result.push(character);\n      }\n    }\n\n    return result;\n  }\n\n  toString(indices, maxThreshold) {\n    return this.toCharacters(indices, maxThreshold).join('');\n  }\n\n  addInputOutput() {\n    this.addSpecial('stop-input');\n    this.addSpecial('start-output');\n  }\n\n  addUnrecognized() {\n    this.addSpecial('unrecognized');\n  }\n\n  static fromAllPrintable(maxThreshold, values = ['\\n']) {\n    for (let i = 32; i <= 126; i++) {\n      values.push(String.fromCharCode(i));\n    }\n    return new DataFormatter(values, maxThreshold);\n  }\n\n  static fromAllPrintableInputOutput(maxThreshold, values = ['\\n']) {\n    const dataFormatter = DataFormatter.fromAllPrintable(maxThreshold, values);\n    dataFormatter.addInputOutput();\n    return dataFormatter;\n  }\n\n  static fromStringInputOutput(string, maxThreshold) {\n    const values = String.prototype.concat(...new Set(string));\n    const dataFormatter = new DataFormatter(values, maxThreshold);\n    dataFormatter.addInputOutput();\n    return dataFormatter;\n  }\n\n  static fromArrayInputOutput(array, maxThreshold) {\n    const dataFormatter = new DataFormatter(\n      array.filter((v, i, a) => a.indexOf(v) === i),\n      maxThreshold\n    );\n    dataFormatter.addInputOutput();\n    return dataFormatter;\n  }\n\n  static fromString(string, maxThreshold) {\n    const values = String.prototype.concat(...new Set(string));\n    return new DataFormatter(values, maxThreshold);\n  }\n\n  static fromJSON(json) {\n    const dataFormatter = new DataFormatter();\n    dataFormatter.indexTable = json.indexTable;\n    dataFormatter.characterTable = json.characterTable;\n    dataFormatter.values = json.values;\n    dataFormatter.characters = json.characters;\n    dataFormatter.specialIndexes = json.specialIndexes;\n    return dataFormatter;\n  }\n\n  addSpecial(special, character = null) {\n    let specialIndex = this.indexTable[special] = this.characters.length;\n    this.characterTable[specialIndex] = character;\n    this.specialIndexes.push(this.characters.length);\n    this.characters.push(special);\n  }\n\n  countSpecial(output) {\n    let sum = 0;\n    for (let i = 0; i < this.specialIndexes; i++) {\n      let index = -1;\n      while (index = output.indexOf(this.specialIndexes[i], index) > -1) {\n        sum++;\n      }\n    }\n    return sum;\n  }\n\n  toFunctionString() {\n    return `\nvar characterTable = ${ JSON.stringify(this.characterTable) };\nvar indexTable = ${ JSON.stringify(this.indexTable) };\nvar characters = ${ JSON.stringify(this.characters) };\nvar dataFormatter = {\n  ${ this.toIndexes.toString() },\n  ${ this.toIndexesInputOutput.toString() },\n  ${ this.toCharacters.toString() }\n};`;\n  }\n}\n\n/**\n *\n * @param {*[]} data\n * @returns {Number[]}\n */\nfunction defaultRNNFormatter(data) {\n  if (\n    typeof data[0] !== 'string'\n    && !Array.isArray(data[0])\n    && (\n      !data[0].hasOwnProperty('input')\n      || !data[0].hasOwnProperty('output')\n    )\n  ) {\n    return data;\n  }\n  let values = [];\n  const result = [];\n  if (typeof data[0] === 'string' || typeof data[0] === 'number' || Array.isArray(data[0])) {\n    if (!this.dataFormatter) {\n      for (let i = 0; i < data.length; i++) {\n        values.push(validateAndCast(data[i]));\n      }\n      this.dataFormatter = new DataFormatter(values);\n      this.dataFormatter.addUnrecognized();\n    }\n    for (let i = 0, max = data.length; i < max; i++) {\n      result.push(this.formatDataIn(data[i]));\n    }\n  } else if (data[0].input && data[0].output) {\n    if (!this.dataFormatter) {\n      for (let i = 0; i < data.length; i++) {\n        const datum = data[i];\n        values.push(validateAndCast(datum.input), validateAndCast(datum.output));\n      }\n      this.dataFormatter = DataFormatter.fromArrayInputOutput(values);\n      this.dataFormatter.addUnrecognized();\n    }\n    for (let i = 0, max = data.length; i < max; i++) {\n      result.push(this.formatDataIn(validateAndCast(data[i].input), validateAndCast(data[i].output)));\n    }\n  } else {\n    throw new Error('unrecognized data');\n  }\n  return result;\n\n  function validateAndCast(value) {\n    if (typeof value === 'string') return value;\n    if (typeof value === 'number') return value.toString();\n    if (typeof value[0] === 'string') return value;\n    if (typeof value[0] === 'number') {\n      return value.map(value => value.toString());\n    }\n    throw new Error('unrecognized value, expected string[], string, number[], or number');\n  }\n}\n\nmodule.exports = { DataFormatter, defaultRNNFormatter };\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst Equation = require('./matrix/equation');\nconst sampleI = require('./matrix/sample-i');\nconst maxI = require('./matrix/max-i');\nconst softmax = require('./matrix/softmax');\nconst copy = require('./matrix/copy');\nconst { randomFloat } = require('../utilities/random');\nconst zeros = require('../utilities/zeros');\nconst {\n  DataFormatter,\n  defaultRNNFormatter,\n} = require('../utilities/data-formatter');\nconst NeuralNetwork = require('../neural-network');\n\nclass RNN {\n  constructor(options = {}) {\n    const { defaults } = this.constructor;\n\n    Object.assign(this, defaults, options);\n    this.trainOpts = {};\n    this.updateTrainingOptions({\n      ...this.constructor.trainDefaults,\n      ...options,\n    });\n\n    this.stepCache = {};\n    this.runs = 0;\n    this.ratioClipped = null;\n    this.model = null;\n    this.inputLookup = null;\n    this.inputLookupLength = null;\n    this.outputLookup = null;\n    this.outputLookupLength = null;\n\n    if (options.json) {\n      this.fromJSON(options.json);\n    }\n  }\n\n  initialize() {\n    this.model = {\n      input: null,\n      hiddenLayers: [],\n      output: null,\n      equations: [],\n      allMatrices: [],\n      equationConnections: [],\n      outputConnector: null,\n    };\n\n    if (this.dataFormatter) {\n      this.inputSize = this.inputRange = this.outputSize = this.dataFormatter.characters.length;\n    }\n    this.mapModel();\n  }\n\n  createHiddenLayers() {\n    // 0 is end, so add 1 to offset\n    this.model.hiddenLayers.push(\n      this.constructor.getModel(this.hiddenLayers[0], this.inputSize)\n    );\n    let prevSize = this.hiddenLayers[0];\n\n    for (let d = 1; d < this.hiddenLayers.length; d++) {\n      // loop over depths\n      const hiddenSize = this.hiddenLayers[d];\n      this.model.hiddenLayers.push(\n        this.constructor.getModel(hiddenSize, prevSize)\n      );\n      prevSize = hiddenSize;\n    }\n  }\n\n  /**\n   *\n   * @param {Number} hiddenSize\n   * @param {Number} prevSize\n   * @returns {object}\n   */\n  static getModel(hiddenSize, prevSize) {\n    return {\n      // wxh\n      weight: new RandomMatrix(hiddenSize, prevSize, 0.08),\n      // whh\n      transition: new RandomMatrix(hiddenSize, hiddenSize, 0.08),\n      // bhh\n      bias: new Matrix(hiddenSize, 1),\n    };\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    const relu = equation.relu.bind(equation);\n    const add = equation.add.bind(equation);\n    const multiply = equation.multiply.bind(equation);\n\n    return relu(\n      add(\n        add(\n          multiply(hiddenLayer.weight, inputMatrix),\n          multiply(hiddenLayer.transition, previousResult)\n        ),\n        hiddenLayer.bias\n      )\n    );\n  }\n\n  createInputMatrix() {\n    // 0 is end, so add 1 to offset\n    this.model.input = new RandomMatrix(\n      this.inputRange + 1,\n      this.inputSize,\n      0.08\n    );\n  }\n\n  createOutputMatrix() {\n    const { model } = this;\n    const { outputSize } = this;\n    const lastHiddenSize = this.hiddenLayers[this.hiddenLayers.length - 1];\n\n    // 0 is end, so add 1 to offset\n    // whd\n    model.outputConnector = new RandomMatrix(\n      outputSize + 1,\n      lastHiddenSize,\n      0.08\n    );\n    // 0 is end, so add 1 to offset\n    // bd\n    model.output = new Matrix(outputSize + 1, 1);\n  }\n\n  bindEquation() {\n    const { model } = this;\n    const equation = new Equation();\n    const outputs = [];\n    const equationConnection =\n      model.equationConnections.length > 0\n        ? model.equationConnections[model.equationConnections.length - 1]\n        : this.initialLayerInputs;\n    // 0 index\n    let output = this.constructor.getEquation(\n      equation,\n      equation.inputMatrixToRow(model.input),\n      equationConnection[0],\n      model.hiddenLayers[0]\n    );\n    outputs.push(output);\n    // 1+ indices\n    for (let i = 1, max = this.hiddenLayers.length; i < max; i++) {\n      output = this.constructor.getEquation(\n        equation,\n        output,\n        equationConnection[i],\n        model.hiddenLayers[i]\n      );\n      outputs.push(output);\n    }\n\n    model.equationConnections.push(outputs);\n    equation.add(\n      equation.multiply(model.outputConnector, output),\n      model.output\n    );\n    model.equations.push(equation);\n  }\n\n  mapModel() {\n    const { model } = this;\n    const { hiddenLayers } = model;\n    const { allMatrices } = model;\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n\n    this.createInputMatrix();\n    if (!model.input) throw new Error('net.model.input not set');\n    allMatrices.push(model.input);\n\n    this.createHiddenLayers();\n    if (!model.hiddenLayers.length) throw new Error('net.hiddenLayers not set');\n    for (let i = 0, max = hiddenLayers.length; i < max; i++) {\n      const hiddenMatrix = hiddenLayers[i];\n      for (const property in hiddenMatrix) {\n        if (!hiddenMatrix.hasOwnProperty(property)) continue;\n        allMatrices.push(hiddenMatrix[property]);\n      }\n    }\n\n    this.createOutputMatrix();\n    if (!model.outputConnector)\n      throw new Error('net.model.outputConnector not set');\n    if (!model.output) throw new Error('net.model.output not set');\n\n    allMatrices.push(model.outputConnector);\n    allMatrices.push(model.output);\n  }\n\n  /**\n   *\n   * @param {Number[]|string[]|string} input\n   * @param {boolean} [logErrorRate]\n   * @returns {number}\n   */\n  trainPattern(input, logErrorRate) {\n    const error = this.trainInput(input);\n    this.backpropagate(input);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return error;\n    }\n  }\n\n  /**\n   *\n   * @param {Number[]} input\n   * @returns {number}\n   */\n  trainInput(input) {\n    this.runs++;\n    const { model } = this;\n    const max = input.length;\n    let log2ppl = 0;\n    let equation;\n    while (model.equations.length <= input.length + 1) {\n      // last is zero\n      this.bindEquation();\n    }\n    for (\n      let inputIndex = -1, inputMax = input.length;\n      inputIndex < inputMax;\n      inputIndex++\n    ) {\n      // start and end tokens are zeros\n      const equationIndex = inputIndex + 1;\n      equation = model.equations[equationIndex];\n\n      const source = inputIndex === -1 ? 0 : input[inputIndex] + 1; // first step: start with START token\n      const target = inputIndex === max - 1 ? 0 : input[inputIndex + 1] + 1; // last step: end with END token\n      log2ppl += equation.predictTargetIndex(source, target);\n    }\n    return Math.pow(2, log2ppl / (max - 1)) / 100;\n  }\n\n  /**\n   * @param {Number[]} input\n   */\n  backpropagate(input) {\n    let i = input.length;\n    const { model } = this;\n    const { equations } = model;\n    while (i > 0) {\n      equations[i].backpropagateIndex(input[i - 1] + 1);\n      i--;\n    }\n    equations[0].backpropagateIndex(0);\n  }\n\n  adjustWeights() {\n    const {\n      regc,\n      clipval,\n      model,\n      decayRate,\n      stepCache,\n      smoothEps,\n      trainOpts,\n    } = this;\n    const { learningRate } = trainOpts;\n    const { allMatrices } = model;\n    let numClipped = 0;\n    let numTot = 0;\n    for (let matrixIndex = 0; matrixIndex < allMatrices.length; matrixIndex++) {\n      const matrix = allMatrices[matrixIndex];\n      const { weights, deltas } = matrix;\n      if (!(matrixIndex in stepCache)) {\n        stepCache[matrixIndex] = zeros(matrix.rows * matrix.columns);\n      }\n      const cache = stepCache[matrixIndex];\n      for (let i = 0; i < weights.length; i++) {\n        let r = deltas[i];\n        const w = weights[i];\n        // rmsprop adaptive learning rate\n        cache[i] = cache[i] * decayRate + (1 - decayRate) * r * r;\n        // gradient clip\n        if (r > clipval) {\n          r = clipval;\n          numClipped++;\n        }\n        if (r < -clipval) {\n          r = -clipval;\n          numClipped++;\n        }\n        numTot++;\n        // update (and regularize)\n        weights[i] =\n          w + (-learningRate * r) / Math.sqrt(cache[i] + smoothEps) - regc * w;\n      }\n    }\n    this.ratioClipped = numClipped / numTot;\n  }\n\n  /**\n   *\n   * @returns boolean\n   */\n  get isRunnable() {\n    if (this.model.equations.length === 0) {\n      console.error(`No equations bound, did you run train()?`);\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   *\n   * @param {Number[]|*} [rawInput]\n   * @param {Boolean} [isSampleI]\n   * @param {Number} temperature\n   * @returns {*}\n   */\n  run(rawInput = [], isSampleI = false, temperature = 1) {\n    const maxPredictionLength =\n      this.maxPredictionLength +\n      rawInput.length +\n      (this.dataFormatter ? this.dataFormatter.specialIndexes.length : 0);\n    if (!this.isRunnable) return null;\n    const input = this.formatDataIn(rawInput);\n    const { model } = this;\n    const output = [];\n    let i = 0;\n    while (true) {\n      const previousIndex =\n        i === 0 ? 0 : i < input.length ? input[i - 1] + 1 : output[i - 1];\n      while (model.equations.length <= i) {\n        this.bindEquation();\n      }\n      const equation = model.equations[i];\n      // sample predicted letter\n      const outputMatrix = equation.runIndex(previousIndex);\n      const logProbabilities = new Matrix(\n        model.output.rows,\n        model.output.columns\n      );\n      copy(logProbabilities, outputMatrix);\n      if (temperature !== 1 && isSampleI) {\n        /**\n         * scale log probabilities by temperature and re-normalize\n         * if temperature is high, logProbabilities will go towards zero\n         * and the softmax outputs will be more diffuse. if temperature is\n         * very low, the softmax outputs will be more peaky\n         */\n        for (let j = 0, max = logProbabilities.weights.length; j < max; j++) {\n          logProbabilities.weights[j] /= temperature;\n        }\n      }\n\n      const probs = softmax(logProbabilities);\n      const nextIndex = isSampleI ? sampleI(probs) : maxI(probs);\n\n      i++;\n      if (nextIndex === 0) {\n        // END token predicted, break out\n        break;\n      }\n      if (i >= maxPredictionLength) {\n        // something is wrong\n        break;\n      }\n\n      output.push(nextIndex);\n    }\n\n    /**\n     * we slice the input length here, not because output contains it, but it will be erroneous as we are sending the\n     * network what is contained in input, so the data is essentially guessed by the network what could be next, till it\n     * locks in on a value.\n     * Kind of like this, values are from input:\n     * 0 -> 4 (or in English: \"beginning on input\" -> \"I have no idea? I'll guess what they want next!\")\n     * 2 -> 2 (oh how interesting, I've narrowed down values...)\n     * 1 -> 9 (oh how interesting, I've now know what the values are...)\n     * then the output looks like: [4, 2, 9,...]\n     * so we then remove the erroneous data to get our true output\n     */\n    return this.formatDataOut(\n      input,\n      output.slice(input.length).map((value) => value - 1)\n    );\n  }\n\n  /**\n   *\n   * @param data\n   * Verifies network sizes are initilaized\n   * If they are not it will initialize them based off the data set.\n   */\n  verifyIsInitialized(data) {\n    if (!this.model) {\n      this.initialize();\n    }\n  }\n\n  /**\n   *\n   * @param options\n   *    Supports all `trainDefaults` properties\n   *    also supports:\n   *       learningRate: (number),\n   *       momentum: (number),\n   *       activation: 'sigmoid', 'relu', 'leaky-relu', 'tanh'\n   */\n  updateTrainingOptions(options) {\n    Object.keys(this.constructor.trainDefaults).forEach(\n      (p) =>\n        (this.trainOpts[p] = options.hasOwnProperty(p)\n          ? options[p]\n          : this.trainOpts[p])\n    );\n    this.validateTrainingOptions(this.trainOpts);\n    this.setLogMethod(options.log || this.trainOpts.log);\n    this.activation = options.activation || this.activation;\n  }\n\n  validateTrainingOptions(options) {\n    NeuralNetwork.prototype.validateTrainingOptions.call(this, options);\n  }\n\n  /**\n   *\n   * @param log\n   * if a method is passed in method is used\n   * if false passed in nothing is logged\n   * @returns error\n   */\n  setLogMethod(log) {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      this.trainOpts.log = console.log;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return {object} { data, status, endTime }\n   */\n  prepTraining(data, options) {\n    this.updateTrainingOptions(options);\n    data = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized(data);\n\n    return {\n      data,\n      status,\n      endTime,\n    };\n  }\n\n  /**\n   *\n   * @param {Object[]|String[]} data an array of objects: `{input: 'string', output: 'string'}` or an array of strings\n   * @param {Object} [options]\n   * @returns {{error: number, iterations: number}}\n   */\n  train(data, options = {}) {\n    this.trainOpts = options = {\n      ...this.constructor.trainDefaults,\n      ...options,\n    };\n    const { iterations } = options;\n    const { errorThresh } = options;\n    const log = options.log === true ? console.log : options.log;\n    const { logPeriod } = options;\n    const { callback } = options;\n    const { callbackPeriod } = options;\n    let error = Infinity;\n    let i;\n\n    if (this.hasOwnProperty('setupData')) {\n      data = this.setupData(data);\n    }\n\n    this.verifyIsInitialized();\n\n    for (i = 0; i < iterations && error > errorThresh; i++) {\n      let sum = 0;\n      for (let j = 0; j < data.length; j++) {\n        const err = this.trainPattern(data[j], true);\n        sum += err;\n      }\n      error = sum / data.length;\n\n      if (isNaN(error)) {\n        throw new Error(\n          'Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. '\n        );\n      }\n      if (log && i % logPeriod === 0) {\n        log(`iterations: ${i}, training error: ${error}`);\n      }\n      if (callback && i % callbackPeriod === 0) {\n        callback({ error, iterations: i });\n      }\n    }\n\n    return {\n      error,\n      iterations: i,\n    };\n  }\n\n  addFormat() {\n    throw new Error('not yet implemented');\n  }\n\n  /**\n   *\n   * @returns {Object}\n   */\n  toJSON() {\n    const { defaults } = this.constructor;\n    if (!this.model) {\n      this.initialize();\n    }\n    const { model } = this;\n    const options = {};\n    for (const p in defaults) {\n      if (defaults.hasOwnProperty(p)) {\n        options[p] = this[p];\n      }\n    }\n\n    return {\n      type: this.constructor.name,\n      options,\n      input: model.input.toJSON(),\n      hiddenLayers: model.hiddenLayers.map((hiddenLayer) => {\n        const layers = {};\n        for (const p in hiddenLayer) {\n          layers[p] = hiddenLayer[p].toJSON();\n        }\n        return layers;\n      }),\n      outputConnector: this.model.outputConnector.toJSON(),\n      output: this.model.output.toJSON(),\n    };\n  }\n\n  fromJSON(json) {\n    const { defaults } = this.constructor;\n    const { options } = json;\n    this.model = null;\n    this.hiddenLayers = null;\n    const allMatrices = [];\n    const input = Matrix.fromJSON(json.input);\n    allMatrices.push(input);\n    const hiddenLayers = [];\n\n    // backward compatibility for hiddenSizes\n    (json.hiddenLayers || json.hiddenSizes).forEach((hiddenLayer) => {\n      const layers = {};\n      for (const p in hiddenLayer) {\n        layers[p] = Matrix.fromJSON(hiddenLayer[p]);\n        allMatrices.push(layers[p]);\n      }\n      hiddenLayers.push(layers);\n    });\n\n    const outputConnector = Matrix.fromJSON(json.outputConnector);\n    allMatrices.push(outputConnector);\n    const output = Matrix.fromJSON(json.output);\n    allMatrices.push(output);\n\n    Object.assign(this, defaults, options);\n\n    // backward compatibility\n    if (options.hiddenSizes) {\n      this.hiddenLayers = options.hiddenSizes;\n    }\n\n    if (options.dataFormatter) {\n      this.dataFormatter = DataFormatter.fromJSON(options.dataFormatter);\n    }\n\n    this.model = {\n      input,\n      hiddenLayers,\n      output,\n      allMatrices,\n      outputConnector,\n      equations: [],\n      equationConnections: [],\n    };\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n    this.bindEquation();\n  }\n\n  /**\n   * @param {Function} [cb]\n   * @returns {Function}\n   */\n  toFunction(cb) {\n    const { model } = this;\n    const { equations } = this.model;\n    const equation = equations[1];\n    const { states } = equation;\n    const jsonString = JSON.stringify(this.toJSON());\n\n    function matrixOrigin(m, stateIndex) {\n      for (let i = 0, max = states.length; i < max; i++) {\n        const state = states[i];\n\n        if (i === stateIndex) {\n          const j = previousConnectionIndex(m);\n          if (j > -1 && (m === state.left || m === state.right)) {\n            return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n          }\n          return `new Matrix(${m.rows}, ${m.columns})`;\n        }\n\n        if (m === state.product) return `states[${i}].product`;\n        if (m === state.right) return `states[${i}].right`;\n        if (m === state.left) return `states[${i}].left`;\n      }\n    }\n\n    function previousConnectionIndex(m) {\n      const connection = model.equationConnections[0];\n      const { states } = equations[0];\n      for (let i = 0, max = states.length; i < max; i++) {\n        if (states[i].product === m) {\n          return i;\n        }\n      }\n      return connection.indexOf(m);\n    }\n\n    function matrixToString(m, stateIndex) {\n      if (!m || !m.rows || !m.columns) return 'null';\n\n      if (m === model.input) return `json.input`;\n      if (m === model.outputConnector) return `json.outputConnector`;\n      if (m === model.output) return `json.output`;\n\n      for (let i = 0, max = model.hiddenLayers.length; i < max; i++) {\n        const hiddenLayer = model.hiddenLayers[i];\n        for (const p in hiddenLayer) {\n          if (!hiddenLayer.hasOwnProperty(p)) continue;\n          if (hiddenLayer[p] !== m) continue;\n          return `json.hiddenLayers[${i}].${p}`;\n        }\n      }\n\n      return matrixOrigin(m, stateIndex);\n    }\n\n    function toInner(fnString) {\n      // crude, but should be sufficient for now\n      // function() { body }\n      fnString = fnString.toString().split('{');\n      fnString.shift();\n      // body }\n      fnString = fnString.join('{');\n      fnString = fnString.split('}');\n      fnString.pop();\n      // body\n      return fnString\n        .join('}')\n        .split('\\n')\n        .join('\\n        ')\n        .replace('product.deltas[i] = 0;', '')\n        .replace('product.deltas[column] = 0;', '')\n        .replace('left.deltas[leftIndex] = 0;', '')\n        .replace('right.deltas[rightIndex] = 0;', '')\n        .replace('product.deltas = left.deltas.slice(0);', '');\n    }\n\n    function fileName(fnName) {\n      return `src/recurrent/matrix/${fnName.replace(/[A-Z]/g, function (value) {\n        return `-${value.toLowerCase()}`;\n      })}.js`;\n    }\n\n    const statesRaw = [];\n    const usedFunctionNames = {};\n    const innerFunctionsSwitch = [];\n    for (let i = 0, max = states.length; i < max; i++) {\n      const state = states[i];\n      statesRaw.push(`states[${i}] = {\n      name: '${state.forwardFn.name}',\n      left: ${matrixToString(state.left, i)},\n      right: ${matrixToString(state.right, i)},\n      product: ${matrixToString(state.product, i)}\n    }`);\n\n      const fnName = state.forwardFn.name;\n      if (!usedFunctionNames[fnName]) {\n        usedFunctionNames[fnName] = true;\n        innerFunctionsSwitch.push(\n          `        case '${fnName}': //compiled from ${fileName(fnName)}\n          ${toInner(state.forwardFn.toString())}\n          break;`\n        );\n      }\n    }\n\n    const src = `\n  if (typeof rawInput === 'undefined') rawInput = [];\n  if (typeof isSampleI === 'undefined') isSampleI = false;\n  if (typeof temperature === 'undefined') temperature = 1;\n  var json = ${jsonString};\n  ${\n    this.dataFormatter\n      ? `${this.dataFormatter.toFunctionString()};\n  Object.assign(dataFormatter, json.options.dataFormatter);`\n      : ''\n  }\n  ${\n    this.dataFormatter && typeof this.formatDataIn === 'function'\n      ? `const formatDataIn = function (input, output) { ${toInner(\n          this.formatDataIn.toString()\n        )} }.bind({ dataFormatter });`\n      : ''\n  }\n  ${\n    this.dataFormatter !== null && typeof this.formatDataOut === 'function'\n      ? `const formatDataOut = function formatDataOut(input, output) { ${toInner(\n          this.formatDataOut.toString()\n        )} }.bind({ dataFormatter });`\n      : ''\n  }\n  var input = ${\n    this.dataFormatter && typeof this.formatDataIn === 'function'\n      ? 'formatDataIn(rawInput)'\n      : 'rawInput'\n  };\n  var maxPredictionLength = input.length + ${this.maxPredictionLength};\n  var _i = 0;\n  var output = [];\n  var states = [];\n  var prevStates;\n  while (true) {\n    var previousIndex = (_i === 0\n        ? 0\n        : _i < input.length\n          ? input[_i - 1] + 1\n          : output[_i - 1])\n          ;\n    var rowPluckIndex = previousIndex;\n    prevStates = states;\n    states = [];\n    ${statesRaw.join(';\\n    ')};\n    for (var stateIndex = 0, stateMax = ${\n      statesRaw.length\n    }; stateIndex < stateMax; stateIndex++) {\n      var state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n      switch (state.name) {\n${innerFunctionsSwitch.join('\\n')}\n      }\n    }\n\n    var logProbabilities = state.product;\n    if (temperature !== 1 && isSampleI) {\n      for (var q = 0, nq = logProbabilities.weights.length; q < nq; q++) {\n        logProbabilities.weights[q] /= temperature;\n      }\n    }\n\n    var probs = softmax(logProbabilities);\n    var nextIndex = isSampleI ? sampleI(probs) : maxI(probs);\n\n    _i++;\n    if (nextIndex === 0) {\n      break;\n    }\n    if (_i >= maxPredictionLength) {\n      break;\n    }\n\n    output.push(nextIndex);\n  }\n  ${\n    this.dataFormatter && typeof this.formatDataOut === 'function'\n      ? 'return formatDataOut(input, output.slice(input.length).map(function(value) { return value - 1; }))'\n      : 'return output.slice(input.length).map(function(value) { return value - 1; })'\n  };\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n  }\n  ${zeros.toString()}\n  ${softmax.toString()}\n  ${randomFloat.toString()}\n  ${sampleI.toString()}\n  ${maxI.toString()}`;\n    return new Function(\n      'rawInput',\n      'isSampleI',\n      'temperature',\n      cb ? cb(src) : src\n    );\n  }\n}\n\nRNN.defaults = {\n  inputSize: 20,\n  inputRange: 20,\n  hiddenLayers: [20, 20],\n  outputSize: 20,\n  decayRate: 0.999,\n  smoothEps: 1e-8,\n  regc: 0.000001,\n  clipval: 5,\n  maxPredictionLength: 100,\n  /**\n   *\n   * @param {*[]} data\n   * @returns {Number[]}\n   */\n  setupData: defaultRNNFormatter,\n  /**\n   *\n   * @param {*[]} input\n   * @param {*[]} output\n   * @returns {Number[]}\n   */\n  formatDataIn(input, output = null) {\n    if (this.dataFormatter) {\n      if (this.dataFormatter.indexTable.hasOwnProperty('stop-input')) {\n        return this.dataFormatter.toIndexesInputOutput(input, output);\n      }\n      return this.dataFormatter.toIndexes(input);\n    }\n    return input;\n  },\n  /**\n   *\n   * @param {Number[]} input\n   * @param {Number[]} output\n   * @returns {*}\n   */\n  formatDataOut(input, output) {\n    if (this.dataFormatter) {\n      return this.dataFormatter.toCharacters(output).join('');\n    }\n    return output;\n  },\n  dataFormatter: null,\n};\n\nRNN.trainDefaults = {\n  iterations: 20000,\n  errorThresh: 0.005,\n  log: false,\n  logPeriod: 10,\n  learningRate: 0.01,\n  callback: null,\n  callbackPeriod: 10,\n};\n\nmodule.exports = RNN;\n","function ArrayLookupTable(data, prop) {\n  this.length = 0;\n  this.prop = prop;\n  const table = this.table = {};\n  for (let i = 0; i < data.length; i++) {\n    const datum = data[i];\n    const input = datum[prop];\n    for (let j = 0; j < input.length; j++) {\n      for (let p in input[j]) {\n        if (table.hasOwnProperty(p)) continue;\n        table[p] = this.length++;\n      }\n    }\n  }\n}\n\nmodule.exports = ArrayLookupTable;\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst Equation = require('./matrix/equation');\nconst RNN = require('./rnn');\nconst zeros = require('../utilities/zeros');\nconst softmax = require('./matrix/softmax');\nconst { randomFloat } = require('../utilities/random');\nconst sampleI = require('./matrix/sample-i');\nconst maxI = require('./matrix/max-i');\nconst lookup = require('../lookup');\nconst LookupTable = require('../utilities/lookup-table');\nconst ArrayLookupTable = require('../utilities/array-lookup-table');\nconst {\n  arraysToFloat32Arrays,\n  arrayToFloat32Arrays,\n  objectsToFloat32Arrays,\n  objectToFloat32Arrays,\n  objectToFloat32Array,\n} = require('../utilities/cast');\n\nclass RNNTimeStep extends RNN {\n  // eslint-disable-next-line\n  constructor(options) {\n    super(options);\n  }\n\n  createInputMatrix() {}\n\n  createOutputMatrix() {\n    const { model } = this;\n    const { outputSize } = this;\n    const lastHiddenSize = this.hiddenLayers[this.hiddenLayers.length - 1];\n\n    // whd\n    model.outputConnector = new RandomMatrix(outputSize, lastHiddenSize, 0.08);\n    // bd\n    model.output = new RandomMatrix(outputSize, 1, 0.08);\n  }\n\n  bindEquation() {\n    const { model } = this;\n    const { hiddenLayers } = this;\n    const layers = model.hiddenLayers;\n    const equation = new Equation();\n    const outputs = [];\n    const equationConnection =\n      model.equationConnections.length > 0\n        ? model.equationConnections[model.equationConnections.length - 1]\n        : this.initialLayerInputs;\n    // 0 index\n    let output = this.constructor.getEquation(\n      equation,\n      equation.input(new Matrix(this.inputSize, 1)),\n      equationConnection[0],\n      layers[0]\n    );\n    outputs.push(output);\n    // 1+ indices\n    for (let i = 1, max = hiddenLayers.length; i < max; i++) {\n      output = this.constructor.getEquation(\n        equation,\n        output,\n        equationConnection[i],\n        layers[i]\n      );\n      outputs.push(output);\n    }\n\n    model.equationConnections.push(outputs);\n    equation.add(\n      equation.multiply(model.outputConnector, output),\n      model.output\n    );\n    model.equations.push(equation);\n  }\n\n  mapModel() {\n    const { model } = this;\n    const { hiddenLayers } = model;\n    const { allMatrices } = model;\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n\n    this.createHiddenLayers();\n    if (!model.hiddenLayers.length) throw new Error('net.hiddenLayers not set');\n    for (let i = 0, max = hiddenLayers.length; i < max; i++) {\n      const hiddenMatrix = hiddenLayers[i];\n      for (const property in hiddenMatrix) {\n        if (!hiddenMatrix.hasOwnProperty(property)) continue;\n        allMatrices.push(hiddenMatrix[property]);\n      }\n    }\n\n    this.createOutputMatrix();\n    if (!model.outputConnector)\n      throw new Error('net.model.outputConnector not set');\n    if (!model.output) throw new Error('net.model.output not set');\n\n    allMatrices.push(model.outputConnector);\n    allMatrices.push(model.output);\n  }\n\n  backpropagate() {\n    for (let i = this.model.equations.length - 1; i > -1; i--) {\n      this.model.equations[i].backpropagate();\n    }\n  }\n\n  /**\n   *\n   * @param {number[]|number[][]|object|object[][]} [rawInput]\n   * @returns {number[]|number|object|object[]|object[][]}\n   */\n  run(rawInput) {\n    if (this.inputSize === 1) {\n      if (this.outputLookup) {\n        this.run = this.runObject;\n        return this.runObject(rawInput);\n      }\n      this.run = this.runNumbers;\n      return this.runNumbers(rawInput);\n    }\n    if (this.outputLookup) {\n      this.run = this.runObjects;\n      return this.runObjects(rawInput);\n    }\n    this.run = this.runArrays;\n    return this.runArrays(rawInput);\n  }\n\n  forecast(input, count) {\n    if (this.inputSize === 1) {\n      if (this.outputLookup) {\n        this.forecast = this.runObject;\n        return this.runObject(input);\n      }\n      this.forecast = this.forecastNumbers;\n      return this.forecastNumbers(input, count);\n    }\n    if (this.outputLookup) {\n      this.forecast = this.forecastObjects;\n      return this.forecastObjects(input, count);\n    }\n    this.forecast = this.forecastArrays;\n    return this.forecastArrays(input, count);\n  }\n\n  /**\n   *\n   * @param {Object[]|String[]} data an array of objects: `{input: 'string', output: 'string'}` or an array of strings\n   * @param {Object} [options]\n   * @returns {{error: number, iterations: number}}\n   */\n  train(data, options = {}) {\n    this.trainOpts = options = {\n      ...this.constructor.trainDefaults,\n      ...options,\n    };\n    const { iterations } = options;\n    const { errorThresh } = options;\n    const log = options.log === true ? console.log : options.log;\n    const { logPeriod } = options;\n    const { callback } = options;\n    const { callbackPeriod } = options;\n\n    if (this.inputSize === 1 || !this.inputSize) {\n      this.setSize(data);\n    }\n\n    data = this.formatData(data);\n    let error = Infinity;\n    let i;\n\n    this.verifyIsInitialized(data);\n\n    for (i = 0; i < iterations && error > errorThresh; i++) {\n      let sum = 0;\n      for (let j = 0; j < data.length; j++) {\n        const err = this.trainPattern(data[j], true);\n        sum += err;\n      }\n      error = sum / data.length;\n\n      if (isNaN(error))\n        throw new Error(\n          'Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. '\n        );\n      if (log && i % logPeriod === 0) {\n        log(`iterations: ${i}, training error: ${error}`);\n      }\n      if (callback && i % callbackPeriod === 0) {\n        callback({ error, iterations: i });\n      }\n    }\n\n    return {\n      error,\n      iterations: i,\n    };\n  }\n\n  /**\n   *\n   * @param data\n   * Verifies network sizes are initialized\n   * If they are not it will initialize them based off the data set.\n   */\n  verifyIsInitialized(data) {\n    if (data[0].input) {\n      this.trainInput = this.trainInputOutput;\n    } else if (data[0].length > 0) {\n      if (data[0][0].length > 0) {\n        this.trainInput = this.trainArrays;\n      } else if (this.inputSize > 1) {\n        this.trainInput = this.trainArrays;\n      } else {\n        this.trainInput = this.trainNumbers;\n      }\n    }\n\n    if (!this.model) {\n      this.initialize();\n    }\n  }\n\n  setSize(data) {\n    const dataShape = lookup.dataShape(data).join(',');\n    switch (dataShape) {\n      case 'array,array,number':\n      case 'array,object,number':\n      case 'array,datum,array,number':\n      case 'array,datum,object,number':\n        // probably 1\n        break;\n      case 'array,array,array,number':\n        this.inputSize = this.outputSize = data[0][0].length;\n        break;\n      case 'array,array,object,number':\n        this.inputSize = this.outputSize = Object.keys(\n          lookup.toTable2D(data)\n        ).length;\n        break;\n      case 'array,datum,array,array,number':\n        this.inputSize = this.outputSize = data[0].input[0].length;\n        break;\n      case 'array,datum,array,object,number':\n        this.inputSize = Object.keys(lookup.toInputTable2D(data)).length;\n        this.outputSize = Object.keys(lookup.toOutputTable2D(data)).length;\n        break;\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n  }\n\n  trainNumbers(input) {\n    const { model } = this;\n    const { equations } = model;\n    while (equations.length < input.length) {\n      this.bindEquation();\n    }\n    let errorSum = 0;\n    for (let i = 0, max = input.length - 1; i < max; i++) {\n      errorSum += equations[i].predictTarget([input[i]], [input[i + 1]]);\n    }\n    this.end();\n    return errorSum / input.length;\n  }\n\n  runNumbers(input) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input, this.inputLookupLength);\n    }\n    while (equations.length <= input.length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    for (let i = 0; i < input.length; i++) {\n      lastOutput = equations[i].runInput(new Float32Array([input[i]]));\n    }\n    this.end();\n    return lastOutput.weights[0];\n  }\n\n  forecastNumbers(input, count) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    const length = input.length + count;\n    while (equations.length <= length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    let equationIndex = 0;\n    for (let i = 0; i < input.length; i++) {\n      lastOutput = equations[equationIndex++].runInput([input[i]]);\n    }\n    const result = [lastOutput.weights[0]];\n    for (let i = 0, max = count - 1; i < max; i++) {\n      lastOutput = equations[equationIndex++].runInput(lastOutput.weights);\n      result.push(lastOutput.weights[0]);\n    }\n    this.end();\n    return result;\n  }\n\n  runObject(input) {\n    if (this.inputLookup === this.outputLookup) {\n      const inputArray = lookup.toArrayShort(this.inputLookup, input);\n      return lookup.toObjectPartial(\n        this.outputLookup,\n        this.forecastNumbers(\n          inputArray,\n          this.outputLookupLength - inputArray.length\n        ),\n        inputArray.length\n      );\n    }\n    return lookup.toObject(\n      this.outputLookup,\n      this.forecastNumbers(\n        lookup.toArray(this.inputLookup, input, this.inputLookupLength),\n        this.outputLookupLength\n      )\n    );\n  }\n\n  runObjects(input) {\n    input = input.map((value) =>\n      lookup.toArray(this.inputLookup, value, this.inputLookupLength)\n    );\n    return this.forecastArrays(input, 1).map((value) =>\n      lookup.toObject(this.outputLookup, value)\n    )[0];\n  }\n\n  forecastObjects(input, count) {\n    input = input.map((value) =>\n      lookup.toArray(this.inputLookup, value, this.inputLookupLength)\n    );\n    return this.forecastArrays(input, count).map((value) =>\n      lookup.toObject(this.outputLookup, value)\n    );\n  }\n\n  trainInputOutput(object) {\n    const { model } = this;\n    const { input } = object;\n    const { output } = object;\n    const totalSize = input.length + output.length;\n    const { equations } = model;\n    while (equations.length < totalSize) {\n      this.bindEquation();\n    }\n    let errorSum = 0;\n    let equationIndex = 0;\n    for (\n      let inputIndex = 0, max = input.length - 1;\n      inputIndex < max;\n      inputIndex++\n    ) {\n      errorSum += equations[equationIndex++].predictTarget(\n        input[inputIndex],\n        input[inputIndex + 1]\n      );\n    }\n    errorSum += equations[equationIndex++].predictTarget(\n      input[input.length - 1],\n      output[0]\n    );\n    for (\n      let outputIndex = 0, max = output.length - 1;\n      outputIndex < max;\n      outputIndex++\n    ) {\n      errorSum += equations[equationIndex++].predictTarget(\n        output[outputIndex],\n        output[outputIndex + 1]\n      );\n    }\n    this.end();\n    return errorSum / totalSize;\n  }\n\n  trainArrays(input) {\n    const { model } = this;\n    const { equations } = model;\n    while (equations.length < input.length) {\n      this.bindEquation();\n    }\n    let errorSum = 0;\n    for (let i = 0, max = input.length - 1; i < max; i++) {\n      errorSum += equations[i].predictTarget(input[i], input[i + 1]);\n    }\n    this.end();\n    return errorSum / input.length;\n  }\n\n  runArrays(input) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    while (equations.length <= input.length) {\n      this.bindEquation();\n    }\n    if (this.inputLookup) {\n      input = lookup.toArrays(this.inputLookup, input, this.inputLookupLength);\n    }\n    let lastOutput;\n    for (let i = 0; i < input.length; i++) {\n      const outputMatrix = equations[i].runInput(input[i]);\n      lastOutput = outputMatrix.weights;\n    }\n    this.end();\n    if (this.outputLookup) {\n      return lookup.toObject(this.outputLookup, lastOutput);\n    }\n    return lastOutput;\n  }\n\n  forecastArrays(input, count) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    const length = input.length + count;\n    while (equations.length <= length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    let equationIndex = 0;\n    for (let i = 0; i < input.length; i++) {\n      lastOutput = equations[equationIndex++].runInput(input[i]);\n    }\n    const result = [lastOutput.weights];\n    for (let i = 0, max = count - 1; i < max; i++) {\n      lastOutput = equations[equationIndex++].runInput(lastOutput.weights);\n      result.push(lastOutput.weights.slice(0));\n    }\n    this.end();\n    return result;\n  }\n\n  end() {\n    this.model.equations[this.model.equations.length - 1].runInput(\n      new Float32Array(this.outputSize)\n    );\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {*}\n   */\n  formatData(data) {\n    const dataShape = lookup.dataShape(data).join(',');\n    const result = [];\n    switch (dataShape) {\n      case 'array,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        for (let i = 0; i < data.length; i++) {\n          result.push(Float32Array.from([data[i]]));\n        }\n        return [result];\n      }\n      case 'array,array,number': {\n        if (this.inputSize === 1 && this.outputSize === 1) {\n          for (let i = 0; i < data.length; i++) {\n            result.push(arrayToFloat32Arrays(data[i]));\n          }\n          return result;\n        }\n        if (this.inputSize !== data[0].length) {\n          throw new Error('inputSize must match data input size');\n        }\n        if (this.outputSize !== data[0].length) {\n          throw new Error('outputSize must match data input size');\n        }\n        for (let i = 0; i < data.length; i++) {\n          result.push(Float32Array.from(data[i]));\n        }\n        return [result];\n      }\n      case 'array,object,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        if (!this.inputLookup) {\n          const lookupTable = new LookupTable(data);\n          this.inputLookup = this.outputLookup = lookupTable.table;\n          this.inputLookupLength = this.outputLookupLength = lookupTable.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          result.push(objectToFloat32Arrays(data[i]));\n        }\n        return result;\n      }\n      case 'array,datum,array,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        for (let i = 0; i < data.length; i++) {\n          const datum = data[i];\n          result.push({\n            input: arrayToFloat32Arrays(datum.input),\n            output: arrayToFloat32Arrays(datum.output),\n          });\n        }\n        return result;\n      }\n      case 'array,datum,object,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        if (!this.inputLookup) {\n          const inputLookup = new LookupTable(data, 'input');\n          this.inputLookup = inputLookup.table;\n          this.inputLookupLength = inputLookup.length;\n        }\n        if (!this.outputLookup) {\n          const outputLookup = new LookupTable(data, 'output');\n          this.outputLookup = outputLookup.table;\n          this.outputLookupLength = outputLookup.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          const datum = data[i];\n          result.push({\n            input: objectToFloat32Arrays(datum.input),\n            output: objectToFloat32Arrays(datum.output),\n          });\n        }\n        return result;\n      }\n      case 'array,array,array,number': {\n        for (let i = 0; i < data.length; i++) {\n          result.push(arraysToFloat32Arrays(data[i]));\n        }\n        return result;\n      }\n      case 'array,array,object,number': {\n        if (!this.inputLookup) {\n          const lookupTable = new LookupTable(data);\n          this.inputLookup = this.outputLookup = lookupTable.table;\n          this.inputLookupLength = this.outputLookupLength = lookupTable.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          const array = [];\n          for (let j = 0; j < data[i].length; j++) {\n            array.push(\n              objectToFloat32Array(\n                data[i][j],\n                this.inputLookup,\n                this.inputLookupLength\n              )\n            );\n          }\n          result.push(array);\n        }\n        return result;\n      }\n      case 'array,datum,array,array,number': {\n        if (this.inputSize === 1 && this.outputSize === 1) {\n          for (let i = 0; i < data.length; i++) {\n            const datum = data[i];\n            result.push({\n              input: Float32Array.from(datum.input),\n              output: Float32Array.from(datum.output),\n            });\n          }\n        } else {\n          if (this.inputSize !== data[0].input[0].length) {\n            throw new Error('inputSize must match data input size');\n          }\n          if (this.outputSize !== data[0].output[0].length) {\n            throw new Error('outputSize must match data output size');\n          }\n          for (let i = 0; i < data.length; i++) {\n            const datum = data[i];\n            result.push({\n              input: arraysToFloat32Arrays(datum.input),\n              output: arraysToFloat32Arrays(datum.output),\n            });\n          }\n        }\n        return result;\n      }\n      case 'array,datum,array,object,number': {\n        if (!this.inputLookup) {\n          const inputLookup = new ArrayLookupTable(data, 'input');\n          this.inputLookup = inputLookup.table;\n          this.inputLookupLength = inputLookup.length;\n        }\n        if (!this.outputLookup) {\n          const outputLookup = new ArrayLookupTable(data, 'output');\n          this.outputLookup = outputLookup.table;\n          this.outputLookupLength = outputLookup.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          const datum = data[i];\n          result.push({\n            input: objectsToFloat32Arrays(\n              datum.input,\n              this.inputLookup,\n              this.inputLookupLength\n            ),\n            output: objectsToFloat32Arrays(\n              datum.output,\n              this.outputLookup,\n              this.outputLookupLength\n            ),\n          });\n        }\n        return result;\n      }\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {\n   *  {\n   *    error: number,\n   *    misclasses: Array\n   *  }\n   * }\n   */\n  test(data) {\n    const formattedData = this.formatData(data);\n    // for classification problems\n    const misclasses = [];\n    // run each pattern through the trained network and collect\n    // error and misclassification statistics\n    let errorSum = 0;\n    const dataShape = lookup.dataShape(data).join(',');\n    switch (dataShape) {\n      case 'array,array,number': {\n        if (this.inputSize === 1) {\n          for (let i = 0; i < formattedData.length; i++) {\n            const input = formattedData[i];\n            const output = this.run(input.splice(0, input.length - 1));\n            const target = input[input.length - 1][0];\n            const error = target - output;\n            const errorMSE = error * error;\n            errorSum += errorMSE;\n            const errorsAbs = Math.abs(errorMSE);\n            if (errorsAbs > this.trainOpts.errorThresh) {\n              const misclass = data[i];\n              Object.assign(misclass, {\n                value: input,\n                actual: output,\n              });\n              misclasses.push(misclass);\n            }\n          }\n          break;\n        }\n        throw new Error('unknown data shape or configuration');\n      }\n      case 'array,array,array,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const input = formattedData[i];\n          const output = this.run(input.splice(0, input.length - 1));\n          const target = input[input.length - 1];\n          let errors = 0;\n          let errorCount = 0;\n          for (let j = 0; j < output.length; j++) {\n            errorCount++;\n            const error = target[j] - output[j];\n            // mse\n            errors += error * error;\n          }\n          errorSum += errors / errorCount;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              value: misclass,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const input = formattedData[i];\n          const output = this.run(\n            lookup.toObjectPartial(\n              this.outputLookup,\n              input,\n              0,\n              input.length - 1\n            )\n          );\n          const target = input[input.length - 1];\n          let errors = 0;\n          let p;\n          for (p in output) {\n          }\n          const error = target[i] - output[p];\n          // mse\n          errors += error * error;\n          errorSum += errors;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              value: misclass,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,array,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const input = formattedData[i];\n          const output = this.run(input.slice(0, input.length - 1));\n          const target = data[i][input.length - 1];\n          let errors = 0;\n          let errorCount = 0;\n          for (const p in output) {\n            const error = target[p] - output[p];\n            // mse\n            errors += error * error;\n            errorCount++;\n          }\n          errorSum += errors / errorCount;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              value: misclass,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,datum,array,number':\n      case 'array,datum,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const datum = formattedData[i];\n          const output = this.forecast(datum.input, datum.output.length);\n          let errors = 0;\n          let errorCount = 0;\n          for (let j = 0; j < output.length; j++) {\n            const error = datum.output[j][0] - output[j];\n            errors += error * error;\n            errorCount++;\n          }\n\n          errorSum += errors / errorCount;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            Object.assign(misclass, {\n              actual: this.outputLookup\n                ? lookup.toObject(this.outputLookup, output)\n                : output,\n            });\n            misclasses.push(misclass);\n          }\n        }\n        break;\n      }\n      case 'array,datum,array,array,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const datum = formattedData[i];\n          const output = this.forecast(datum.input, datum.output.length);\n          let errors = 0;\n          for (let j = 0; j < output.length; j++) {\n            for (let k = 0; k < output[j].length; k++) {\n              const error = datum.output[j][k] - output[j][k];\n              errors += error * error;\n            }\n          }\n\n          errorSum += errors;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              input: misclass.input,\n              output: misclass.output,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,datum,array,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const datum = formattedData[i];\n          const output = this.forecast(datum.input, datum.output.length);\n          let errors = 0;\n          for (let j = 0; j < output.length; j++) {\n            for (const p in output[j]) {\n              const error = data[i].output[j][p] - output[j][p];\n              errors += error * error;\n            }\n          }\n\n          errorSum += errors;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              input: misclass.input,\n              output: misclass.output,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n\n    return {\n      error: errorSum / formattedData.length,\n      misclasses,\n      total: formattedData.length,\n    };\n  }\n\n  addFormat(value) {\n    const dataShape = lookup.dataShape(value).join(',');\n    switch (dataShape) {\n      case 'array,array,number':\n      case 'datum,array,array,number':\n      case 'array,number':\n      case 'datum,array,number':\n        return;\n      case 'datum,object,number': {\n        this.inputLookup = lookup.addKeys(value.input, this.inputLookup);\n        if (this.inputLookup) {\n          this.inputLookupLength = Object.keys(this.inputLookup).length;\n        }\n        this.outputLookup = lookup.addKeys(value.output, this.outputLookup);\n        if (this.outputLookup) {\n          this.outputLookupLength = Object.keys(this.outputLookup).length;\n        }\n        break;\n      }\n      case 'object,number': {\n        this.inputLookup = this.outputLookup = lookup.addKeys(\n          value,\n          this.inputLookup\n        );\n        if (this.inputLookup) {\n          this.inputLookupLength = this.outputLookupLength = Object.keys(\n            this.inputLookup\n          ).length;\n        }\n        break;\n      }\n      case 'array,object,number': {\n        for (let i = 0; i < value.length; i++) {\n          this.inputLookup = this.outputLookup = lookup.addKeys(\n            value[i],\n            this.inputLookup\n          );\n          if (this.inputLookup) {\n            this.inputLookupLength = this.outputLookupLength = Object.keys(\n              this.inputLookup\n            ).length;\n          }\n        }\n        break;\n      }\n      case 'datum,array,object,number': {\n        for (let i = 0; i < value.input.length; i++) {\n          this.inputLookup = lookup.addKeys(value.input[i], this.inputLookup);\n          if (this.inputLookup) {\n            this.inputLookupLength = Object.keys(this.inputLookup).length;\n          }\n        }\n        for (let i = 0; i < value.output.length; i++) {\n          this.outputLookup = lookup.addKeys(\n            value.output[i],\n            this.outputLookup\n          );\n          if (this.outputLookup) {\n            this.outputLookupLength = Object.keys(this.outputLookup).length;\n          }\n        }\n        break;\n      }\n\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n  }\n\n  /**\n   *\n   * @returns {Object}\n   */\n  toJSON() {\n    const { defaults } = this.constructor;\n    if (!this.model) {\n      this.initialize();\n    }\n    const { model } = this;\n    const options = {};\n    for (const p in defaults) {\n      if (defaults.hasOwnProperty(p)) {\n        options[p] = this[p];\n      }\n    }\n\n    return {\n      type: this.constructor.name,\n      options,\n      hiddenLayers: model.hiddenLayers.map((hiddenLayer) => {\n        const layers = {};\n        for (const p in hiddenLayer) {\n          layers[p] = hiddenLayer[p].toJSON();\n        }\n        return layers;\n      }),\n      outputConnector: this.model.outputConnector.toJSON(),\n      output: this.model.output.toJSON(),\n      inputLookup: this.inputLookup,\n      inputLookupLength: this.inputLookupLength,\n      outputLookup: this.outputLookup,\n      outputLookupLength: this.outputLookupLength,\n    };\n  }\n\n  fromJSON(json) {\n    const { defaults } = this.constructor;\n    const { options } = json;\n    this.model = null;\n    this.hiddenLayers = null;\n    const allMatrices = [];\n    const hiddenLayers = [];\n\n    // backward compatibility for hiddenSizes\n    (json.hiddenLayers || json.hiddenSizes).forEach((hiddenLayer) => {\n      const layers = {};\n      for (const p in hiddenLayer) {\n        layers[p] = Matrix.fromJSON(hiddenLayer[p]);\n        allMatrices.push(layers[p]);\n      }\n      hiddenLayers.push(layers);\n    });\n\n    const outputConnector = Matrix.fromJSON(json.outputConnector);\n    allMatrices.push(outputConnector);\n    const output = Matrix.fromJSON(json.output);\n    allMatrices.push(output);\n\n    Object.assign(this, defaults, options);\n\n    // backward compatibility\n    if (options.hiddenSizes) {\n      this.hiddenLayers = options.hiddenSizes;\n    }\n\n    this.inputLookup = json.inputLookup;\n    this.inputLookupLength = json.inputLookupLength;\n    this.outputLookup = json.outputLookup;\n    this.outputLookupLength = json.outputLookupLength;\n\n    this.model = {\n      hiddenLayers,\n      output,\n      allMatrices,\n      outputConnector,\n      equations: [],\n      equationConnections: [],\n    };\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n    this.bindEquation();\n  }\n\n  /**\n   * @param {Function} [cb]\n   * @returns {Function}\n   */\n  toFunction(cb) {\n    const { model } = this;\n    const { equations } = this.model;\n    const { inputSize } = this;\n    const { inputLookup } = this;\n    const { inputLookupLength } = this;\n    const { outputLookup } = this;\n    const { outputLookupLength } = this;\n    const equation = equations[1];\n    const { states } = equation;\n    const jsonString = JSON.stringify(this.toJSON());\n\n    function matrixOrigin(m, stateIndex) {\n      for (let i = 0, max = states.length; i < max; i++) {\n        const state = states[i];\n\n        if (i === stateIndex) {\n          const j = previousConnectionIndex(m);\n          switch (m) {\n            case state.left:\n              if (j > -1) {\n                return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n              }\n            case state.right:\n              if (j > -1) {\n                return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n              }\n            case state.product:\n              return `new Matrix(${m.rows}, ${m.columns})`;\n            default:\n              throw Error('unknown state');\n          }\n        }\n\n        if (m === state.product) return `states[${i}].product`;\n        if (m === state.right) return `states[${i}].right`;\n        if (m === state.left) return `states[${i}].left`;\n      }\n    }\n\n    function previousConnectionIndex(m) {\n      const connection = model.equationConnections[0];\n      const { states } = equations[0];\n      for (let i = 0, max = states.length; i < max; i++) {\n        if (states[i].product === m) {\n          return i;\n        }\n      }\n      return connection.indexOf(m);\n    }\n\n    function matrixToString(m, stateIndex) {\n      if (!m || !m.rows || !m.columns) return 'null';\n      if (m === model.outputConnector) return `json.outputConnector`;\n      if (m === model.output) return `json.output`;\n\n      for (let i = 0, max = model.hiddenLayers.length; i < max; i++) {\n        const hiddenLayer = model.hiddenLayers[i];\n        for (const p in hiddenLayer) {\n          if (!hiddenLayer.hasOwnProperty(p)) continue;\n          if (hiddenLayer[p] !== m) continue;\n          return `json.hiddenLayers[${i}].${p}`;\n        }\n      }\n\n      return matrixOrigin(m, stateIndex);\n    }\n\n    function formatInputData() {\n      if (!inputLookup) return '';\n      if (inputSize === 1) {\n        if (inputLookup === outputLookup) {\n          return `function lookupInput(input) {\n            var table = ${JSON.stringify(inputLookup)};\n            var result = [];\n            for (var p in table) {\n              if (!input.hasOwnProperty(p)) break;\n              result.push(Float32Array.from([input[p]]));\n            }\n            return result;\n          }`;\n        }\n        return `function lookupInput(input) {\n          var table = ${JSON.stringify(inputLookup)};\n          var result = [];\n          for (var p in table) {\n            result.push(Float32Array.from([input[p]]));\n          }\n          return result;\n        }`;\n      }\n      return `function lookupInput(rawInputs) {\n        var table = ${JSON.stringify(inputLookup)};\n        var result = [];\n        for (var i = 0; i < rawInputs.length; i++) {\n          var rawInput = rawInputs[i];\n          var input = new Float32Array(${inputLookupLength});\n          for (var p in table) {\n            input[table[p]] = rawInput.hasOwnProperty(p) ? rawInput[p] : 0;\n          }\n          result.push(input);\n        }\n        return result;\n      }`;\n    }\n\n    function formatOutputData() {\n      if (!outputLookup) return '';\n      if (inputSize === 1) {\n        if (inputLookup === outputLookup) {\n          return `function lookupOutputPartial(output, input) {\n            var table = ${JSON.stringify(outputLookup)};\n            var offset = input.length;\n            var result = {};\n            var i = 0;\n            for (var p in table) {\n              if (i++ < offset) continue;\n              result[p] = output[table[p] - offset][0];\n            }\n            return result;\n          }`;\n        }\n        return `function lookupOutput(output) {\n          var table = ${JSON.stringify(outputLookup)};\n          var result = {};\n          for (var p in table) {\n            result[p] = output[table[p]][0];\n          }\n          return result;\n        }`;\n      }\n      return `function lookupOutput(output) {\n        var table = ${JSON.stringify(outputLookup)};\n        var result = {};\n        for (var p in table) {\n          result[p] = output[table[p]];\n        }\n        return result;\n      }`;\n    }\n\n    function toInner(fnString) {\n      // crude, but should be sufficient for now\n      // function() { body }\n      fnString = fnString.toString().split('{');\n      fnString.shift();\n      // body }\n      fnString = fnString.join('{');\n      fnString = fnString.split('}');\n      fnString.pop();\n      // body\n\n      return fnString\n        .join('}')\n        .split('\\n')\n        .join('\\n        ')\n        .replace(\n          'product.weights = input.weights = this.inputValue;',\n          inputLookup && inputSize === 1\n            ? 'product.weights = _i < input.length ? input[_i]: prevStates[prevStates.length - 1].product.weights;'\n            : inputSize === 1\n            ? 'product.weights = [input[_i]];'\n            : 'product.weights = input[_i];'\n        )\n        .replace('product.deltas[i] = 0;', '')\n        .replace('product.deltas[column] = 0;', '')\n        .replace('left.deltas[leftIndex] = 0;', '')\n        .replace('right.deltas[rightIndex] = 0;', '')\n        .replace('product.deltas = left.deltas.slice(0);', '');\n    }\n\n    function fileName(fnName) {\n      return `src/recurrent/matrix/${fnName.replace(/[A-Z]/g, function (value) {\n        return `-${value.toLowerCase()}`;\n      })}.js`;\n    }\n\n    const statesRaw = [];\n    const usedFunctionNames = {};\n    const innerFunctionsSwitch = [];\n    for (let i = 0, max = states.length; i < max; i++) {\n      const state = states[i];\n      statesRaw.push(`states[${i}] = {\n      name: '${state.forwardFn.name}',\n      left: ${matrixToString(state.left, i)},\n      right: ${matrixToString(state.right, i)},\n      product: ${matrixToString(state.product, i)}\n    }`);\n\n      const fnName = state.forwardFn.name;\n      if (!usedFunctionNames[fnName]) {\n        usedFunctionNames[fnName] = true;\n        innerFunctionsSwitch.push(\n          `        case '${fnName}':${\n            fnName !== 'forwardFn' ? ` //compiled from ${fileName(fnName)}` : ''\n          }\n          ${toInner(state.forwardFn.toString())}\n          break;`\n        );\n      }\n    }\n\n    const forceForecast = this.inputSize === 1 && this.outputLookup;\n    const src = `\n  var input = ${this.inputLookup ? 'lookupInput(rawInput)' : 'rawInput'};\n  var json = ${jsonString};\n  var output = [];\n  var states = [];\n  var prevStates;\n  var state;\n  var max = ${\n    forceForecast\n      ? inputLookup === outputLookup\n        ? inputLookupLength\n        : `input.length + ${outputLookupLength - 1}`\n      : 'input.length'\n  };\n  for (var _i = 0; _i < max; _i++) {\n    prevStates = states;\n    states = [];\n    ${statesRaw.join(';\\n    ')};\n    for (var stateIndex = 0, stateMax = ${\n      statesRaw.length\n    }; stateIndex < stateMax; stateIndex++) {\n      state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n\n      switch (state.name) {\n${innerFunctionsSwitch.join('\\n')}\n      }\n    }\n    ${\n      inputSize === 1 && inputLookup\n        ? 'if (_i >= input.length - 1) { output.push(state.product.weights); }'\n        : 'output = state.product.weights;'\n    }\n  }\n  ${\n    outputLookup\n      ? outputLookup === inputLookup\n        ? 'return lookupOutputPartial(output, input)'\n        : 'return lookupOutput(output)'\n      : inputSize === 1\n      ? 'return output[0]'\n      : 'return output'\n  };\n  ${formatInputData()}\n  ${formatOutputData()}\n\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n  }\n  ${zeros.toString()}\n  ${softmax.toString().replace('_2.default', 'Matrix')}\n  ${randomFloat.toString()}\n  ${sampleI.toString()}\n  ${maxI.toString()}`;\n    return new Function('rawInput', cb ? cb(src) : src);\n  }\n}\n\nRNNTimeStep.defaults = {\n  inputSize: 1,\n  hiddenLayers: [20],\n  outputSize: 1,\n  learningRate: RNN.defaults.learningRate,\n  decayRate: RNN.defaults.decayRate,\n  smoothEps: RNN.defaults.smoothEps,\n  regc: RNN.defaults.regc,\n  clipval: RNN.defaults.clipval,\n};\n\nRNNTimeStep.trainDefaults = RNN.trainDefaults;\n\nmodule.exports = RNNTimeStep;\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst RNN = require('./rnn');\n\nclass LSTM extends RNN {\n  static getModel(hiddenSize, prevSize) {\n    return {\n      // gates parameters\n      // wix\n      inputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wih\n      inputHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bi\n      inputBias: new Matrix(hiddenSize, 1),\n      // wfx\n      forgetMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wfh\n      forgetHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bf\n      forgetBias: new Matrix(hiddenSize, 1),\n      // wox\n      outputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // woh\n      outputHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bo\n      outputBias: new Matrix(hiddenSize, 1),\n      // cell write params\n      // wcx\n      cellActivationMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wch\n      cellActivationHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bc\n      cellActivationBias: new Matrix(hiddenSize, 1),\n    };\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    const sigmoid = equation.sigmoid.bind(equation);\n    const add = equation.add.bind(equation);\n    const multiply = equation.multiply.bind(equation);\n    const multiplyElement = equation.multiplyElement.bind(equation);\n    const tanh = equation.tanh.bind(equation);\n\n    const inputGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.inputMatrix, inputMatrix),\n          multiply(hiddenLayer.inputHidden, previousResult)\n        ),\n        hiddenLayer.inputBias\n      )\n    );\n\n    const forgetGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.forgetMatrix, inputMatrix),\n          multiply(hiddenLayer.forgetHidden, previousResult)\n        ),\n        hiddenLayer.forgetBias\n      )\n    );\n\n    // output gate\n    const outputGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.outputMatrix, inputMatrix),\n          multiply(hiddenLayer.outputHidden, previousResult)\n        ),\n        hiddenLayer.outputBias\n      )\n    );\n\n    // write operation on cells\n    const cellWrite = tanh(\n      add(\n        add(\n          multiply(hiddenLayer.cellActivationMatrix, inputMatrix),\n          multiply(hiddenLayer.cellActivationHidden, previousResult)\n        ),\n        hiddenLayer.cellActivationBias\n      )\n    );\n\n    // compute new cell activation\n    const retainCell = multiplyElement(forgetGate, previousResult); // what do we keep from cell\n    const writeCell = multiplyElement(inputGate, cellWrite); // what do we write to cell\n    const cell = add(retainCell, writeCell); // new cell contents\n\n    // compute hidden state as gated, saturated cell activations\n    return multiplyElement(outputGate, tanh(cell));\n  }\n}\n\nmodule.exports = LSTM;\n","const Matrix = require('./matrix');\nconst LSTM = require('./lstm');\nconst RNNTimeStep = require('./rnn-time-step');\n\nclass LSTMTimeStep extends RNNTimeStep {\n  static getModel(hiddenSize, prevSize) {\n    return LSTM.getModel.call(this, hiddenSize, prevSize);\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    return LSTM.getEquation.call(\n      this,\n      equation,\n      inputMatrix,\n      previousResult,\n      hiddenLayer\n    );\n  }\n}\n\nmodule.exports = LSTMTimeStep;\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst RNN = require('./rnn');\n\nclass GRU extends RNN {\n  static getModel(hiddenSize, prevSize) {\n    return {\n      // update Gate\n      // wzxh\n      updateGateInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wzhh\n      updateGateHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bz\n      updateGateBias: new Matrix(hiddenSize, 1),\n      // reset Gate\n      // wrxh\n      resetGateInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wrhh\n      resetGateHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // br\n      resetGateBias: new Matrix(hiddenSize, 1),\n      // cell write parameters\n      // wcxh\n      cellWriteInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wchh\n      cellWriteHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bc\n      cellWriteBias: new Matrix(hiddenSize, 1),\n    };\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    const sigmoid = equation.sigmoid.bind(equation);\n    const add = equation.add.bind(equation);\n    const multiply = equation.multiply.bind(equation);\n    const multiplyElement = equation.multiplyElement.bind(equation);\n    const tanh = equation.tanh.bind(equation);\n    const allOnes = equation.allOnes.bind(equation);\n    const cloneNegative = equation.cloneNegative.bind(equation);\n\n    // update gate\n    const updateGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.updateGateInputMatrix, inputMatrix),\n          multiply(hiddenLayer.updateGateHiddenMatrix, previousResult)\n        ),\n        hiddenLayer.updateGateBias\n      )\n    );\n\n    // reset gate\n    const resetGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.resetGateInputMatrix, inputMatrix),\n          multiply(hiddenLayer.resetGateHiddenMatrix, previousResult)\n        ),\n        hiddenLayer.resetGateBias\n      )\n    );\n\n    // cell\n    const cell = tanh(\n      add(\n        add(\n          multiply(hiddenLayer.cellWriteInputMatrix, inputMatrix),\n          multiply(\n            hiddenLayer.cellWriteHiddenMatrix,\n            multiplyElement(resetGate, previousResult)\n          )\n        ),\n        hiddenLayer.cellWriteBias\n      )\n    );\n\n    // compute hidden state as gated, saturated cell activations\n    // negate updateGate\n    return add(\n      multiplyElement(\n        add(\n          allOnes(updateGate.rows, updateGate.columns),\n          cloneNegative(updateGate)\n        ),\n        cell\n      ),\n      multiplyElement(previousResult, updateGate)\n    );\n  }\n}\n\nmodule.exports = GRU;\n","// import Matrix from './matrix'\nconst GRU = require('./gru');\nconst RNNTimeStep = require('./rnn-time-step');\n\nclass GRUTimeStep extends RNNTimeStep {\n  static getModel(hiddenSize, prevSize) {\n    return GRU.getModel(hiddenSize, prevSize);\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    return GRU.getEquation(\n      equation,\n      inputMatrix,\n      previousResult,\n      hiddenLayer\n    );\n  }\n}\n\nmodule.exports = GRUTimeStep;\n","const NeuralNetwork = require('../neural-network');\nconst RNN = require('../recurrent/rnn');\nconst RNNTimeStep = require('../recurrent/rnn-time-step');\nconst { FeedForward } = require('../feed-forward');\nconst { Recurrent } = require('../recurrent');\nconst { recurrentZeros } = require('../layer/recurrent-zeros');\n\nconst recurrentJSONTypes = [\n  'RNN',\n  'LSTM',\n  'GRU',\n  'RNNTimeStep',\n  'LSTMTimeStep',\n  'GRUTimeStep',\n  'Recurrent'\n];\n\nfunction drawInput({ pixelX, pixelY, radius, inputs, row, line, fontSize, fontClassName }) {\n  let svg = `<rect\n              x=\"${ pixelX / 2 - radius }\"\n              y=\"${ pixelY / 2 + row * pixelY - radius }\"\n              width=\"${ 2 * radius }\"\n              height=\"${ 2 * radius }\"\n              stroke=\"black\"\n              stroke-width=\"1\"\n              fill=\"${ inputs.color }\" \n              class=\"${ inputs.className }\" />\n            <line\n              x1=\"${ pixelX / 4 }\"\n              y1=\"${ pixelY / 2 + row * pixelY }\"\n              x2=\"${ pixelX / 2 - radius }\"\n              y2=\"${ pixelY / 2 + row * pixelY }\"\n              style=\"stroke:${ line.color };stroke-width:${ line.width }\"\n              class=\"${ line.className }\" />`;\n  if (inputs.labels) {\n    svg += `<text\n              x=\"${ pixelX / 8 }\"\n              y=\"${ pixelY / 2 + row * pixelY - 5 }\"\n              fill=\"black\"\n              font-size=\"${ fontSize }\"\n              class=\"${ fontClassName }\">${ inputs.labels[row] }</text>`;\n  }\n  return svg;\n}\n\nfunction drawNeuron({ pixelX, pixelY, row, column, radius, hidden }) {\n  return `<circle\n            cx=\"${ pixelX / 2 + column * pixelX }\"\n            cy=\"${ pixelY / 2 + row * pixelY }\"\n            r=\"${ radius }\"\n            stroke=\"black\"\n            stroke-width=\"1\"\n            fill=\"${ hidden.color }\"\n            class=\"${ hidden.className }\" />`\n}\n\nfunction drawOutput({ pixelX, pixelY, row, column, line, outputs, radius }) {\n  return `<circle\n            cx=\"${ pixelX / 2 + column * pixelX }\"\n            cy=\"${ pixelY / 2 + row * pixelY }\"\n            r=\"${ radius }\"\n            stroke=\"black\"\n            stroke-width=\"1\"\n            fill=\"${ outputs.color }\"\n            class=\"${ outputs.className }\" />\n          <line\n            x1=\"${ pixelX / 2 + column * pixelX + radius }\"\n            y1=\"${ pixelY / 2 + row * pixelY }\"\n            x2=\"${ pixelX / 2 + column * pixelX + pixelX / 4 }\"\n            y2=\"${ pixelY / 2 + row * pixelY }\"\n            style=\"stroke:${ line.color };stroke-width:${ line.width }\"\n            class=\"${ line.className }\" />`\n}\n\nfunction drawBackwardConnections({ pixelX, pixelY, row, column, radius, lineY, line, previousConnectionIndex }) {\n  return `<line\n            x1=\"${ pixelX / 2 + (column - 1) * pixelX + radius }\"\n            y1=\"${ lineY / 2 + previousConnectionIndex * lineY }\"\n            x2=\"${ pixelX / 2 + column * pixelX - radius }\"\n            y2=\"${ pixelY / 2 + row * pixelY }\"\n            style=\"stroke:${ line.color };stroke-width:${ line.width }\"\n            class=\"${ line.className }\" />`;\n}\n\nfunction neuralNetworkToSVG(options) {\n  const { sizes, height, width } = options;\n  let svg = '';\n  const pixelX = width / sizes.length;\n  for (let column = 0; column < sizes.length; column++) {\n    const size = sizes[column];\n    const pixelY = height / size;\n    for (let row = 0; row < size; row++) {\n      if (column === 0) {\n        svg += drawInput(Object.assign({ pixelX, pixelY, row, column }, options));\n      } else {\n        if (column === sizes.length - 1) {\n          svg += drawOutput(Object.assign({ pixelX, pixelY, row, column }, options));\n        } else {\n          svg += drawNeuron(Object.assign({ pixelX, pixelY, row, column }, options));\n        }\n        const previousSize = sizes[column - 1];\n        const lineY = height / previousSize;\n        for (let previousConnectionIndex = 0; previousConnectionIndex < previousSize; previousConnectionIndex++) {\n          svg += drawBackwardConnections(Object.assign({ pixelX, pixelY, row, column, lineY, previousConnectionIndex }, options));\n        }\n      }\n    }\n  }\n  return svg;\n}\n\nfunction rnnToSVG(options) {\n  const { width, height, recurrentLine, sizes, radius } = options;\n  const pixelX = width / sizes.length;\n  let svg = `<defs>\n              <marker id=\"arrow\" markerWidth=\"10\" markerHeight=\"10\" refX=\"8\" refY=\"3\" orient=\"auto\" markerUnits=\"strokeWidth\">\n                <path d=\"M0,0 L0,6 L9,3 z\" fill=\"${ recurrentLine.color }\" />\n              </marker>\n            </defs>`;\n  svg += neuralNetworkToSVG(options);\n  for (let column = 1; column < sizes.length; column++) {\n    const size = sizes[column];\n    const pixelY = height / size;\n    for (let row = 0; row < size; row++) {\n      svg += drawRecurrentConnections({ pixelX, pixelY, row, column, radius, recurrentLine });\n    }\n  }\n  return svg;\n\n  function drawRecurrentConnections({ pixelX, pixelY, row, column, radius, recurrentLine }) {\n    const moveX = (pixelX / 2 + column * pixelX + radius) + 1;\n    const moveY = pixelY / 2 + row * pixelY;\n    const x = (moveX - (radius * 2)) - 2;\n    const y = moveY;\n    const x1 = x + 100;\n    const y1 = y + 50;\n    const x2 = moveX - 100;\n    const y2 = moveY + 50;\n    return `<path\n              d=\"M ${ moveX } ${ moveY } C ${ x1 } ${ y1 }, ${ x2 } ${ y2 }, ${ x } ${ y }\"\n              stroke=\"${ recurrentLine.color }\"\n              stroke-width=\"${ recurrentLine.width }\"\n              fill=\"transparent\"\n              stroke-linecap=\"round\"\n              marker-end=\"url(#arrow)\"\n              class=\"${ recurrentLine.className }\" />`;\n  }\n}\n\nfunction getFeedForwardLayers(network) {\n  const inputLayer = network.inputLayer();\n  const hiddenLayers = [];\n  hiddenLayers.push(network.hiddenLayers[0](inputLayer));\n  for (let i = 1; i < network.hiddenLayers.length; i++) {\n    hiddenLayers.push(network.hiddenLayers[i](hiddenLayers[i - 1]));\n  }\n  const outputLayer = network.outputLayer(hiddenLayers[hiddenLayers.length - 1]);\n  return {\n    inputLayer,\n    hiddenLayers,\n    outputLayer,\n    layerCount: 1 + hiddenLayers.length + 1\n  };\n}\n\nfunction getRecurrentLayers(network) {\n  const inputLayer = network.inputLayer();\n  const hiddenLayers = [];\n  hiddenLayers.push(network.hiddenLayers[0](inputLayer, recurrentZeros(), 0));\n  for (let i = 1; i < network.hiddenLayers.length; i++) {\n    hiddenLayers.push(network.hiddenLayers[i](hiddenLayers[i - 1], recurrentZeros(), i));\n  }\n  const outputLayer = network.outputLayer(hiddenLayers[hiddenLayers.length - 1]);\n  return {\n    inputLayer,\n    hiddenLayers,\n    outputLayer,\n    layerCount: 1 + hiddenLayers.length + 1\n  };\n}\n\nfunction wrapSVG(svgBody, width, height) {\n  return `<svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            version=\"1.1\"\n            width=\"${ width }\"\n            height=\"${ height }\">${ svgBody }</svg>`;\n}\n\nfunction getSizes({sizes, inputSize, outputSize, hiddenLayers }) {\n  return (typeof inputSize === 'number'\n    && Array.isArray(hiddenLayers)\n    && hiddenLayers.every(l => typeof l === 'number')\n    && typeof outputSize === 'number')\n  ? [inputSize]\n      .concat(hiddenLayers)\n      .concat([outputSize])\n  : sizes\n}\n\nfunction toSVG(net, options) {\n  //default values\n  const defaultOptions = {\n    line: {\n      width: 0.5,\n      color: 'black',\n      className: 'connection'\n    },\n    recurrentLine: {\n      width: 1,\n      color: 'red',\n      className: 'recurrence'\n    },\n    inputs: {\n      color:'rgba(0, 128, 0, 0.5)',\n      labels: null,\n      className: 'input'\n    },\n    outputs: {\n      color:'rgba(100, 149, 237, 0.5)',\n      className: 'output'\n    },\n    hidden: {\n      color:'rgba(255, 127, 80, 0.5)',\n      className: 'hidden-neuron'\n    },\n    fontSize: '14px',\n    fontClassName: 'label',\n    radius: 8,\n    width: 400,\n    height: 250\n  };\n\n  const mergedOptions = { ...defaultOptions, ...options };\n  const {\n    width,\n    height,\n    inputs,\n  } = mergedOptions;\n\n  const isRNN = net.hasOwnProperty('model')\n    || net instanceof Recurrent\n    || (net.type && recurrentJSONTypes.indexOf(net.type) !== -1);\n\n  // Get network size array for NeuralNetwork or NeuralNetworkGPU\n  let sizes = null;\n  if (\n    net instanceof NeuralNetwork\n    || net instanceof RNN\n    || net instanceof RNNTimeStep\n  ) {\n    sizes = getSizes(net);\n  }\n  // Get network size array for NeuralNetwork json\n  else if (net.sizes) {\n    sizes = net.sizes;\n  }\n  // get network size for Recurrent\n  else if (net instanceof Recurrent) {\n    const { inputLayer, hiddenLayers, outputLayer } = getRecurrentLayers(net);\n    sizes = [inputLayer.height]\n      .concat(hiddenLayers.map(l => l.height))\n      .concat([outputLayer.height]);\n  }\n  // get network size for FeedForward\n  else if (net instanceof FeedForward) {\n    const { inputLayer, hiddenLayers, outputLayer } = getFeedForwardLayers(net);\n    sizes = [inputLayer.height]\n      .concat(hiddenLayers.map(l => l.height))\n      .concat([outputLayer.height]);\n  }\n  // handle json, recurrent first\n  else if (isRNN) {\n    if (net.options) {\n      sizes = getSizes(net.options);\n    }\n  }\n  // handle json, NeuralNetwork\n  else {\n    sizes = getSizes(net);\n  }\n\n  if (!sizes) throw new Error('sizes not set');\n\n  if (inputs.labels && inputs.labels.length !== sizes[0]) throw new Error('not enough labels for inputs');\n\n  if (isRNN) {\n    return wrapSVG(rnnToSVG({ ...mergedOptions, sizes }), width, height);\n  } else {\n    return wrapSVG(neuralNetworkToSVG({ ...mergedOptions, sizes }), width, height);\n  }\n}\n\nmodule.exports = toSVG;\n","const activation = require('./activation');\nconst CrossValidate = require('./cross-validate');\nconst layer = require('./layer');\nconst layerTypes = require('./layer/types');\nconst likely = require('./likely');\nconst lookup = require('./lookup');\nconst praxis = require('./praxis');\nconst { FeedForward } = require('./feed-forward');\nconst NeuralNetwork = require('./neural-network');\nconst NeuralNetworkGPU = require('./neural-network-gpu');\nconst TrainStream = require('./train-stream');\nconst { Recurrent } = require('./recurrent');\nconst RNNTimeStep = require('./recurrent/rnn-time-step');\nconst LSTMTimeStep = require('./recurrent/lstm-time-step');\nconst GRUTimeStep = require('./recurrent/gru-time-step');\nconst RNN = require('./recurrent/rnn');\nconst LSTM = require('./recurrent/lstm');\nconst GRU = require('./recurrent/gru');\nconst max = require('./utilities/max');\nconst mse = require('./utilities/mse');\nconst ones = require('./utilities/ones');\nconst random = require('./utilities/random');\nconst randomWeight = require('./utilities/random-weight');\nconst randos = require('./utilities/randos');\nconst range = require('./utilities/range');\nconst toArray = require('./utilities/to-array');\nconst DataFormatter = require('./utilities/data-formatter');\nconst zeros = require('./utilities/zeros');\nconst toSVG = require('./utilities/to-svg');\n\nconst brain = {\n  activation,\n  CrossValidate,\n  likely,\n  layer,\n  layerTypes,\n  lookup,\n  praxis,\n  FeedForward,\n  NeuralNetwork,\n  NeuralNetworkGPU,\n  Recurrent,\n  TrainStream,\n  recurrent: {\n    RNNTimeStep,\n    LSTMTimeStep,\n    GRUTimeStep,\n    RNN,\n    LSTM,\n    GRU,\n  },\n  utilities: {\n    max,\n    mse,\n    ones,\n    random,\n    randomWeight,\n    randos,\n    range,\n    toArray,\n    DataFormatter,\n    zeros,\n    toSVG,\n  },\n};\n\nif (typeof window !== 'undefined') {\n  window.brain = brain //eslint-disable-line\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = brain;\n}\n"]}