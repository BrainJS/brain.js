{"version":3,"sources":["../src/lookup.js"],"names":["lookup","hashes","hash","reduce","memo","Object","assign","lookupFromHash","index","i","array","z","length"],"mappings":";;;;;;;;;;AAAA;IACqBA,M;;;;;;;;AACnB;;;;;gCAKmBC,M,EAAQ;AACzB,UAAIC,OAAOD,OAAOE,MAAP,CAAc,UAACC,IAAD,EAAOF,IAAP,EAAgB;AACvC,eAAOG,OAAOC,MAAP,CAAcF,IAAd,EAAoBF,IAApB,CAAP;AACD,OAFU,EAER,EAFQ,CAAX;;AAIA,aAAOF,OAAOO,cAAP,CAAsBL,IAAtB,CAAP;AACD;;AAED;;;;;;;;mCAKsBA,I,EAAM;AAC1B,UAAIF,SAAS,EAAb;AACA,UAAIQ,QAAQ,CAAZ;AACA,WAAK,IAAIC,CAAT,IAAcP,IAAd,EAAoB;AAClBF,eAAOS,CAAP,IAAYD,OAAZ;AACD;AACD,aAAOR,MAAP;AACD;;AAED;;;;;;;;;4BAMeA,M,EAAQE,I,EAAM;AAC3B,UAAIQ,QAAQ,EAAZ;AACA,WAAK,IAAID,CAAT,IAAcT,MAAd,EAAsB;AACpBU,cAAMV,OAAOS,CAAP,CAAN,IAAmBP,KAAKO,CAAL,KAAW,CAA9B;AACD;AACD,aAAOC,KAAP;AACD;;AAED;;;;;;;;;2BAMcV,M,EAAQU,K,EAAO;AAC3B,UAAIR,OAAO,EAAX;AACA,WAAK,IAAIO,CAAT,IAAcT,MAAd,EAAsB;AACpBE,aAAKO,CAAL,IAAUC,MAAMV,OAAOS,CAAP,CAAN,CAAV;AACD;AACD,aAAOP,IAAP;AACD;;AAED;;;;;;;;oCAKuBQ,K,EAAO;AAC5B,UAAIV,SAAS,EAAb;AACA,UAAIW,IAAI,CAAR;AACA,UAAIF,IAAIC,MAAME,MAAd;AACA,aAAOH,MAAM,CAAb,EAAgB;AACdT,eAAOU,MAAMD,CAAN,CAAP,IAAmBE,GAAnB;AACD;AACD,aAAOX,MAAP;AACD;;;;;;kBArEkBA,M","file":"lookup.js","sourcesContent":["/* Functions for turning sparse hashes into arrays and vice versa */\r\nexport default class lookup {\r\n  /**\r\n   * Performs `[{a: 1}, {b: 6, c: 7}] -> {a: 0, b: 1, c: 2}`\r\n   * @param {Object} hashes\r\n   * @returns {Object}\r\n   */\r\n  static buildLookup(hashes) {\r\n    let hash = hashes.reduce((memo, hash) => {\r\n      return Object.assign(memo, hash);\r\n    }, {});\r\n\r\n    return lookup.lookupFromHash(hash);\r\n  }\r\n\r\n  /**\r\n   * performs `{a: 6, b: 7} -> {a: 0, b: 1}`\r\n   * @param {Object} hash\r\n   * @returns {Object}\r\n   */\r\n  static lookupFromHash(hash) {\r\n    let lookup = {};\r\n    let index = 0;\r\n    for (let i in hash) {\r\n      lookup[i] = index++;\r\n    }\r\n    return lookup;\r\n  }\r\n\r\n  /**\r\n   * performs `{a: 0, b: 1}, {a: 6} -> [6, 0]`\r\n   * @param {*} lookup\r\n   * @param {*} hash\r\n   * @returns {Array}\r\n   */\r\n  static toArray(lookup, hash) {\r\n    let array = [];\r\n    for (let i in lookup) {\r\n      array[lookup[i]] = hash[i] || 0;\r\n    }\r\n    return array;\r\n  }\r\n\r\n  /**\r\n   * performs `{a: 0, b: 1}, [6, 7] -> {a: 6, b: 7}`\r\n   * @param {Object} lookup\r\n   * @param {Array} array\r\n   * @returns {Object}\r\n   */\r\n  static toHash(lookup, array) {\r\n    let hash = {};\r\n    for (let i in lookup) {\r\n      hash[i] = array[lookup[i]];\r\n    }\r\n    return hash;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Array} array\r\n   * @returns {*}\r\n   */\r\n  static lookupFromArray(array) {\r\n    let lookup = {};\r\n    let z = 0;\r\n    let i = array.length;\r\n    while (i-- > 0) {\r\n      lookup[array[i]] = z++;\r\n    }\r\n    return lookup;\r\n  }\r\n}"]}