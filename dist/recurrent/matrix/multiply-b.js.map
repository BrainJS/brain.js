{"version":3,"sources":["../../../src/recurrent/matrix/multiply-b.js"],"names":["multiplyB","product","left","right","leftRows","rows","leftColumns","columns","rightColumns","leftRow","leftRowBase","rightRowBase","rightColumn","leftColumn","rightColumnBase","rightRow","backPropagateValue","deltas","weights"],"mappings":";;;;;kBAMwBA,S;AANxB;;;;;;AAMe,SAASA,SAAT,CAAmBC,OAAnB,EAA4BC,IAA5B,EAAkCC,KAAlC,EAAyC;AACtD,MAAMC,WAAWF,KAAKG,IAAtB;AACA,MAAMC,cAAcJ,KAAKK,OAAzB;AACA,MAAMC,eAAeL,MAAMI,OAA3B;;AAEA;AACA,OAAI,IAAIE,UAAU,CAAlB,EAAqBA,UAAUL,QAA/B,EAAyCK,SAAzC,EAAoD;AAClD,QAAMC,cAAcJ,cAAcG,OAAlC;AACA,QAAME,eAAeH,eAAeC,OAApC;AACA;AACA,SAAI,IAAIG,cAAc,CAAtB,EAAyBA,cAAcJ,YAAvC,EAAqDI,aAArD,EAAoE;;AAElE;AACA,WAAI,IAAIC,aAAa,CAArB,EAAwBA,aAAaP,WAArC,EAAkDO,YAAlD,EAAgE;AAC9D,YAAMC,kBAAkBN,eAAeK,UAAvC;AACA,YAAMJ,WAAUC,cAAcG,UAA9B;AACA,YAAME,WAAWD,kBAAkBF,WAAnC;AACA,YAAMI,qBAAqBf,QAAQgB,MAAR,CAAeN,eAAeC,WAA9B,CAA3B;AACAV,aAAKe,MAAL,CAAYR,QAAZ,KAAwBN,MAAMe,OAAN,CAAcH,QAAd,IAA0BC,kBAAlD;AACAb,cAAMc,MAAN,CAAaF,QAAb,KAA0Bb,KAAKgB,OAAL,CAAaT,QAAb,IAAwBO,kBAAlD;AACD;AACF;AACF;AACF","file":"multiply-b.js","sourcesContent":["/**\r\n * multiplies {from} deltas to {left} and {right}\r\n * @param {Matrix} product\r\n * @param {Matrix} left\r\n * @param {Matrix} right\r\n */\r\nexport default function multiplyB(product, left, right) {\r\n  const leftRows = left.rows;\r\n  const leftColumns = left.columns;\r\n  const rightColumns = right.columns;\r\n\r\n  // loop over rows of left\r\n  for(let leftRow = 0; leftRow < leftRows; leftRow++) {\r\n    const leftRowBase = leftColumns * leftRow;\r\n    const rightRowBase = rightColumns * leftRow;\r\n    // loop over cols of right\r\n    for(let rightColumn = 0; rightColumn < rightColumns; rightColumn++) {\r\n\r\n      //loop over columns of left\r\n      for(let leftColumn = 0; leftColumn < leftColumns; leftColumn++) {\r\n        const rightColumnBase = rightColumns * leftColumn;\r\n        const leftRow = leftRowBase + leftColumn;\r\n        const rightRow = rightColumnBase + rightColumn;\r\n        const backPropagateValue = product.deltas[rightRowBase + rightColumn];\r\n        left.deltas[leftRow] += right.weights[rightRow] * backPropagateValue;\r\n        right.deltas[rightRow] += left.weights[leftRow] * backPropagateValue;\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}