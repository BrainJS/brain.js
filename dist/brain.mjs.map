{"version":3,"file":"brain.mjs","sources":["../src/activation/relu.ts","../src/activation/sigmoid.ts","../node_modules/core-js/modules/_global.js","../node_modules/core-js/modules/_core.js","../node_modules/core-js/modules/_is-object.js","../node_modules/core-js/modules/_an-object.js","../node_modules/core-js/modules/_fails.js","../node_modules/core-js/modules/_descriptors.js","../node_modules/core-js/modules/_dom-create.js","../node_modules/core-js/modules/_ie8-dom-define.js","../node_modules/core-js/modules/_to-primitive.js","../node_modules/core-js/modules/_object-dp.js","../node_modules/core-js/modules/_property-desc.js","../node_modules/core-js/modules/_hide.js","../node_modules/core-js/modules/_has.js","../node_modules/core-js/modules/_uid.js","../node_modules/core-js/modules/_library.js","../node_modules/core-js/modules/_shared.js","../node_modules/core-js/modules/_function-to-string.js","../node_modules/core-js/modules/_redefine.js","../node_modules/core-js/modules/_a-function.js","../node_modules/core-js/modules/_ctx.js","../node_modules/core-js/modules/_export.js","../node_modules/core-js/modules/_math-expm1.js","../node_modules/core-js/modules/es6.math.tanh.js","../src/activation/tanh.ts","../src/activation/leaky-relu.ts","../node_modules/core-js/modules/_wks.js","../node_modules/core-js/modules/_add-to-unscopables.js","../node_modules/core-js/modules/_iter-step.js","../node_modules/core-js/modules/_iterators.js","../node_modules/core-js/modules/_cof.js","../node_modules/core-js/modules/_iobject.js","../node_modules/core-js/modules/_defined.js","../node_modules/core-js/modules/_to-iobject.js","../node_modules/core-js/modules/_to-integer.js","../node_modules/core-js/modules/_to-length.js","../node_modules/core-js/modules/_to-absolute-index.js","../node_modules/core-js/modules/_array-includes.js","../node_modules/core-js/modules/_shared-key.js","../node_modules/core-js/modules/_object-keys-internal.js","../node_modules/core-js/modules/_enum-bug-keys.js","../node_modules/core-js/modules/_object-keys.js","../node_modules/core-js/modules/_object-dps.js","../node_modules/core-js/modules/_html.js","../node_modules/core-js/modules/_object-create.js","../node_modules/core-js/modules/_set-to-string-tag.js","../node_modules/core-js/modules/_iter-create.js","../node_modules/core-js/modules/_to-object.js","../node_modules/core-js/modules/_object-gpo.js","../node_modules/core-js/modules/_iter-define.js","../node_modules/core-js/modules/es6.array.iterator.js","../node_modules/core-js/modules/web.dom.iterable.js","../node_modules/core-js/modules/_classof.js","../node_modules/core-js/modules/es6.object.to-string.js","../node_modules/core-js/modules/_object-sap.js","../node_modules/core-js/modules/es6.object.keys.js","../node_modules/core-js/modules/_object-gops.js","../node_modules/core-js/modules/_object-pie.js","../node_modules/core-js/modules/_object-assign.js","../node_modules/core-js/modules/es6.object.assign.js","../src/cross-validate.js","../node_modules/core-js/modules/es6.function.name.js","../node_modules/core-js/modules/_typed.js","../node_modules/core-js/modules/_redefine-all.js","../node_modules/core-js/modules/_an-instance.js","../node_modules/core-js/modules/_to-index.js","../node_modules/core-js/modules/_object-gopn.js","../node_modules/core-js/modules/_array-fill.js","../node_modules/core-js/modules/_typed-buffer.js","../node_modules/core-js/modules/_is-array-iter.js","../node_modules/core-js/modules/core.get-iterator-method.js","../node_modules/core-js/modules/_is-array.js","../node_modules/core-js/modules/_array-species-constructor.js","../node_modules/core-js/modules/_array-species-create.js","../node_modules/core-js/modules/_array-methods.js","../node_modules/core-js/modules/_species-constructor.js","../node_modules/core-js/modules/_iter-detect.js","../node_modules/core-js/modules/_set-species.js","../node_modules/core-js/modules/_array-copy-within.js","../node_modules/core-js/modules/_object-gopd.js","../node_modules/core-js/modules/_typed-array.js","../node_modules/core-js/modules/es6.typed.float32-array.js","../src/lookup.js","../node_modules/core-js/modules/_invoke.js","../node_modules/core-js/modules/_bind.js","../node_modules/core-js/modules/es6.reflect.construct.js","../node_modules/core-js/modules/_set-proto.js","../node_modules/core-js/modules/_inherit-if-required.js","../node_modules/core-js/modules/_string-ws.js","../node_modules/core-js/modules/_string-trim.js","../node_modules/core-js/modules/es6.number.constructor.js","../node_modules/core-js/modules/es6.number.is-nan.js","../node_modules/core-js/modules/es6.array.fill.js","../src/utilities/kernel.ts","../src/layer/base-layer.ts","../src/utilities/zeros.ts","../src/utilities/zeros-2d.ts","../src/utilities/zeros-3d.ts","../src/layer/activation.ts","../src/layer/operator.ts","../src/layer/types.ts","../src/utilities/layer-size.js","../src/layer/add.ts","../src/praxis/base-praxis.ts","../src/praxis/arthur-deviation-weights.ts","../src/praxis/arthur-deviation-biases.ts","../src/utilities/random-weight.ts","../src/utilities/random.ts","../src/utilities/randos.ts","../src/utilities/randos-2d.ts","../src/layer/random.ts","../src/layer/multiply.ts","../src/layer/sigmoid.js","../src/layer/arthur-feed-forward.js","../src/utilities/layer-setup.js","../src/utilities/randos-3d.ts","../src/utilities/values.ts","../src/layer/convolution.js","../src/layer/dropout.js","../src/layer/feed-forward.js","../src/layer/fully-connected.js","../src/layer/negative.js","../src/layer/multiply-element.js","../src/utilities/ones.js","../src/utilities/ones-2d.js","../src/layer/ones.js","../src/layer/tanh.js","../src/layer/zeros.js","../src/layer/gru.js","../src/layer/input.ts","../src/layer/leaky-relu.js","../src/layer/lstm-cell.js","../src/layer/target.js","../src/layer/output.js","../src/layer/pool.js","../src/layer/relu.js","../src/layer/rnn-cell.js","../src/layer/regression.js","../src/layer/soft-max.js","../src/layer/svm.js","../src/layer/transpose.js","../src/layer/index.js","../src/utilities/layer-from-json.js","../src/praxis/adam.js","../src/praxis/momentum-root-mean-squared-propagation.js","../src/utilities/traverse-layers-from.js","../src/utilities/flatten-layers.js","../src/estimator/mean-squared-error.ts","../src/feed-forward.js","../src/likely.js","../node_modules/core-js/modules/_iter-call.js","../node_modules/core-js/modules/_for-of.js","../node_modules/core-js/modules/_task.js","../node_modules/core-js/modules/_microtask.js","../node_modules/core-js/modules/_new-promise-capability.js","../node_modules/core-js/modules/_perform.js","../node_modules/core-js/modules/_user-agent.js","../node_modules/core-js/modules/_promise-resolve.js","../node_modules/core-js/modules/es6.promise.js","../node_modules/thaw.js/dist/thaw.js","../node_modules/thaw.js/dist/block.js","../node_modules/thaw.js/dist/index.js","../node_modules/core-js/modules/_object-to-array.js","../node_modules/core-js/modules/es7.object.values.js","../src/utilities/to-array.js","../src/utilities/max.js","../src/utilities/mse.js","../src/utilities/range.js","../src/utilities/lookup-table.js","../src/utilities/cast.ts","../src/neural-network.js","../node_modules/core-js/modules/_string-at.js","../node_modules/core-js/modules/es6.string.iterator.js","../node_modules/core-js/modules/_create-property.js","../node_modules/core-js/modules/es6.array.from.js","../src/neural-network-gpu.js","../src/layer/recurrent-connection.js","../src/layer/recurrent-input.js","../src/layer/recurrent-zeros.js","../src/recurrent.js","../src/recurrent/matrix/index.js","../src/recurrent/matrix/random-matrix.js","../node_modules/core-js/modules/_advance-string-index.js","../node_modules/core-js/modules/_regexp-exec-abstract.js","../node_modules/core-js/modules/_flags.js","../node_modules/core-js/modules/_regexp-exec.js","../node_modules/core-js/modules/es6.regexp.exec.js","../node_modules/core-js/modules/_fix-re-wks.js","../node_modules/core-js/modules/es6.regexp.replace.js","../node_modules/core-js/modules/es6.regexp.flags.js","../node_modules/core-js/modules/es6.regexp.to-string.js","../node_modules/core-js/modules/_is-regexp.js","../node_modules/core-js/modules/es6.regexp.split.js","../node_modules/core-js/modules/es6.math.log2.js","../src/recurrent/matrix/clone-negative.js","../src/recurrent/matrix/add.js","../src/recurrent/matrix/add-b.js","../src/recurrent/matrix/all-ones.js","../src/recurrent/matrix/multiply.js","../src/recurrent/matrix/multiply-b.js","../src/recurrent/matrix/multiply-element.js","../src/recurrent/matrix/multiply-element-b.js","../src/recurrent/matrix/relu.js","../src/recurrent/matrix/relu-b.js","../src/recurrent/matrix/row-pluck.js","../src/recurrent/matrix/row-pluck-b.js","../src/recurrent/matrix/sigmoid.js","../src/recurrent/matrix/sigmoid-b.js","../src/recurrent/matrix/tanh.js","../src/recurrent/matrix/tanh-b.js","../src/recurrent/matrix/softmax.js","../src/recurrent/matrix/equation.js","../src/recurrent/matrix/sample-i.js","../src/recurrent/matrix/max-i.js","../src/recurrent/matrix/copy.js","../node_modules/core-js/modules/_meta.js","../node_modules/core-js/modules/_validate-collection.js","../node_modules/core-js/modules/_collection-strong.js","../node_modules/core-js/modules/_collection.js","../node_modules/core-js/modules/es6.set.js","../src/utilities/data-formatter.js","../src/recurrent/rnn.js","../src/recurrent/gru.js","../src/utilities/array-lookup-table.js","../src/recurrent/rnn-time-step.js","../src/recurrent/gru-time-step.js","../src/recurrent/lstm.js","../src/recurrent/lstm-time-step.js","../node_modules/rollup-plugin-node-builtins/src/es6/events.js","../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/buffer-es6/base64.js","../node_modules/buffer-es6/ieee754.js","../node_modules/buffer-es6/isArray.js","../node_modules/buffer-es6/index.js","../node_modules/process-es6/browser.js","../node_modules/rollup-plugin-node-builtins/src/es6/inherits.js","../node_modules/rollup-plugin-node-builtins/src/es6/util.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/buffer-list.js","../node_modules/rollup-plugin-node-builtins/src/es6/string-decoder.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/readable.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/writable.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/duplex.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/transform.js","../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/passthrough.js","../node_modules/rollup-plugin-node-builtins/src/es6/stream.js","../src/train-stream.js","../src/utilities/to-svg.js","../src/index.ts"],"sourcesContent":["/**\n * Relu Activation, aka Rectified Linear Unit Activation\n * @description https://en.wikipedia.org/wiki/Rectifier_(neural_networks)\n */\nexport function activate(weight: number): number {\n  return Math.max(0, weight);\n}\n\n/**\n * Relu derivative\n */\nexport function measure(weight: number, delta: number): number {\n  if (weight <= 0) {\n    return 0;\n  }\n  return delta;\n}\n","/**\n * sigmoid activation\n */\nexport function activate(value: number): number {\n  return 1 / (1 + Math.exp(-value));\n}\n\n/**\n * sigmoid derivative\n */\nexport function measure(weight: number, error: number): number {\n  return weight * (1 - weight) * error;\n}\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","module.exports = false;\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: 'Â© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n","// 20.2.2.33 Math.tanh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","/**\n * Hyperbolic tan\n */\nexport function activate(weight: number): number {\n  return Math.tanh(weight);\n}\n\n/**\n * @description grad for z = tanh(x) is (1 - z^2)\n */\nexport function measure(weight: number, error: number): number {\n  return (1 - weight * weight) * error;\n}\n","/**\n * Leaky Relu Activation, aka Leaky Rectified Linear Unit Activation\n * @description https://en.wikipedia.org/wiki/Rectifier_(neural_networks)\n */\nexport function activate(weight: number): number {\n  return weight > 0 ? weight : 0.01 * weight;\n}\n\n/**\n * Leaky Relu derivative\n */\nexport function measure(weight: number, error: number): number {\n  return weight > 0 ? error : 0.01 * error;\n}\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","class CrossValidate {\n  /**\n   *\n   * @param {NeuralNetwork|constructor} Classifier\n   * @param {object} [options]\n   */\n  constructor(Classifier, options) {\n    this.Classifier = Classifier;\n    this.options = options;\n    this.json = null;\n  }\n\n  /**\n   *\n   * @param {object} trainOpts\n   * @param {object} trainSet\n   * @param {object} testSet\n   * @returns {void|*}\n   */\n  testPartition(trainOpts, trainSet, testSet) {\n    const classifier = new this.Classifier(this.options);\n    const beginTrain = Date.now();\n    const trainingStats = classifier.train(trainSet, trainOpts);\n    const beginTest = Date.now();\n    const testStats = classifier.test(testSet);\n    const endTest = Date.now();\n    const stats = Object.assign({}, testStats, {\n      trainTime: beginTest - beginTrain,\n      testTime: endTest - beginTest,\n      iterations: trainingStats.iterations,\n      error: trainingStats.error,\n      total: testStats.total,\n      learningRate: classifier.trainOpts.learningRate,\n      hiddenLayers: classifier.hiddenLayers,\n      network: classifier.toJSON(),\n    });\n\n    return stats;\n  }\n\n  /**\n   * Randomize array element order in-place.\n   * Using Durstenfeld shuffle algorithm.\n   * source: http://stackoverflow.com/a/12646864/1324039\n   */\n  shuffleArray(array) {\n    for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      const temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n    return array;\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} trainOpts\n   * @param {number} [k]\n   * @returns {\n   *  {\n   *    avgs: {\n   *      error: number,\n   *      trainTime: number,\n   *      testTime: number,\n   *      iterations: number,\n   *      error: number\n   *    },\n   *    stats: {\n   *      truePos: number,\n   *      trueNeg: number,\n   *      falsePos: number,\n   *      falseNeg: number,\n   *      total: number\n   *    },\n   *    sets: Array\n   *  }\n   * }\n   */\n  train(data, trainOpts = {}, k = 4) {\n    if (data.length < k) {\n      throw new Error(\n        `Training set size is too small for ${data.length} k folds of ${k}`\n      );\n    }\n\n    const size = data.length / k;\n\n    if (data.constructor === Array) {\n      this.shuffleArray(data);\n    } else {\n      const newData = {};\n      this.shuffleArray(Object.keys(data)).forEach((key) => {\n        newData[key] = data[key];\n      });\n      data = newData;\n    }\n\n    const avgs = {\n      trainTime: 0,\n      testTime: 0,\n      iterations: 0,\n      error: 0,\n    };\n\n    const stats = {\n      total: 0,\n    };\n\n    const binaryStats = {\n      total: 0,\n      truePos: 0,\n      trueNeg: 0,\n      falsePos: 0,\n      falseNeg: 0,\n    };\n\n    const results = [];\n    let stat;\n    let isBinary = null;\n\n    for (let i = 0; i < k; i++) {\n      const dclone = data.slice(0);\n      const testSet = dclone.splice(i * size, size);\n      const trainSet = dclone;\n      const result = this.testPartition(trainOpts, trainSet, testSet);\n\n      if (isBinary === null) {\n        isBinary =\n          result.hasOwnProperty('falseNeg') &&\n          result.hasOwnProperty('falsePos') &&\n          result.hasOwnProperty('trueNeg') &&\n          result.hasOwnProperty('truePos');\n        if (isBinary) {\n          Object.assign(stats, binaryStats);\n        }\n      }\n\n      for (stat in avgs) {\n        if (stat in avgs) {\n          avgs[stat] += result[stat];\n        }\n      }\n\n      for (stat in stats) {\n        if (stat in stats) {\n          stats[stat] += result[stat];\n        }\n      }\n\n      results.push(result);\n    }\n\n    for (stat in avgs) {\n      if (stat in avgs) {\n        avgs[stat] /= k;\n      }\n    }\n\n    if (isBinary) {\n      stats.precision = stats.truePos / (stats.truePos + stats.falsePos);\n      stats.recall = stats.truePos / (stats.truePos + stats.falseNeg);\n      stats.accuracy = (stats.trueNeg + stats.truePos) / stats.total;\n    }\n\n    stats.testSize = size;\n    stats.trainSize = data.length - size;\n\n    return (this.json = {\n      avgs: avgs,\n      stats: stats,\n      sets: results,\n    });\n  }\n\n  toNeuralNetwork() {\n    return this.fromJSON(this.json);\n  }\n\n  toJSON() {\n    return this.json;\n  }\n\n  fromJSON(crossValidateJson) {\n    const Classifier = this.Classifier;\n    const json = crossValidateJson.sets.reduce(\n      (prev, cur) => (prev.error < cur.error ? prev : cur),\n      { error: Infinity }\n    ).network;\n    if (Classifier.fromJSON) {\n      return Classifier.fromJSON(json);\n    }\n    const instance = new Classifier();\n    instance.fromJSON(json);\n    return instance;\n  }\n}\n\nmodule.exports = CrossValidate;\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","/* Functions for turning sparse hashes into arrays and vice versa */\nclass Lookup {\n  /**\n   * Performs `[{a: 1}, {b: 6, c: 7}] -> {a: 0, b: 1, c: 2}`\n   * @param {Object} hashes\n   * @returns {Object}\n   */\n  static toTable(hashes) {\n    const hash = hashes.reduce((memo, hash) => {\n      return Object.assign(memo, hash);\n    }, {});\n\n    return Lookup.toHash(hash);\n  }\n\n  /**\n   * Performs `[{a: 1}, {b: 6, c: 7}] -> {a: 0, b: 1, c: 2}`\n   * @param {Object} objects2D\n   * @returns {Object}\n   */\n  static toTable2D(objects2D) {\n    const table = {};\n    let valueIndex = 0;\n    for (let i = 0; i < objects2D.length; i++) {\n      const objects = objects2D[i];\n      for (let j = 0; j < objects.length; j++) {\n        const object = objects[j];\n        for (const p in object) {\n          if (object.hasOwnProperty(p) && !table.hasOwnProperty(p)) {\n            table[p] = valueIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  }\n\n  static toInputTable(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      for (const p in data[dataIndex].input) {\n        if (!table.hasOwnProperty(p)) {\n          table[p] = tableIndex++;\n        }\n      }\n    }\n    return table;\n  }\n\n  static toInputTable2D(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      const input = data[dataIndex].input;\n      for (let i = 0; i < input.length; i++) {\n        const object = input[i];\n        for (const p in object) {\n          if (!table.hasOwnProperty(p)) {\n            table[p] = tableIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  }\n\n  static toOutputTable(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      for (const p in data[dataIndex].output) {\n        if (!table.hasOwnProperty(p)) {\n          table[p] = tableIndex++;\n        }\n      }\n    }\n    return table;\n  }\n\n  static toOutputTable2D(data) {\n    const table = {};\n    let tableIndex = 0;\n    for (let dataIndex = 0; dataIndex < data.length; dataIndex++) {\n      const output = data[dataIndex].output;\n      for (let i = 0; i < output.length; i++) {\n        const object = output[i];\n        for (const p in object) {\n          if (!table.hasOwnProperty(p)) {\n            table[p] = tableIndex++;\n          }\n        }\n      }\n    }\n    return table;\n  }\n\n  /**\n   * performs `{a: 6, b: 7} -> {a: 0, b: 1}`\n   * @param {Object} hash\n   * @returns {Object}\n   */\n  static toHash(hash) {\n    const lookup = {};\n    let index = 0;\n    for (const i in hash) {\n      lookup[i] = index++;\n    }\n    return lookup;\n  }\n\n  /**\n   * performs `{a: 0, b: 1}, {a: 6} -> [6, 0]`\n   * @param {*} lookup\n   * @param {*} object\n   * @param {*} arrayLength\n   * @returns {Float32Array}\n   */\n  static toArray(lookup, object, arrayLength) {\n    const result = new Float32Array(arrayLength);\n    for (const p in lookup) {\n      result[lookup[p]] = object.hasOwnProperty(p) ? object[p] : 0;\n    }\n    return result;\n  }\n\n  static toArrayShort(lookup, object) {\n    const result = [];\n    for (const p in lookup) {\n      if (!object.hasOwnProperty(p)) break;\n      result[lookup[p]] = object[p];\n    }\n    return Float32Array.from(result);\n  }\n\n  static toArrays(lookup, objects, arrayLength) {\n    const result = [];\n    for (let i = 0; i < objects.length; i++) {\n      result.push(this.toArray(lookup, objects[i], arrayLength));\n    }\n    return result;\n  }\n\n  /**\n   * performs `{a: 0, b: 1}, [6, 7] -> {a: 6, b: 7}`\n   * @param {Object} lookup\n   * @param {Array} array\n   * @returns {Object}\n   */\n  static toObject(lookup, array) {\n    const object = {};\n    for (const p in lookup) {\n      object[p] = array[lookup[p]];\n    }\n    return object;\n  }\n\n  static toObjectPartial(lookup, array, offset = 0, limit = 0) {\n    const object = {};\n    let i = 0;\n    for (const p in lookup) {\n      if (offset > 0) {\n        if (i++ < offset) continue;\n      }\n      if (limit > 0) {\n        if (i++ >= limit) continue;\n      }\n      object[p] = array[lookup[p] - offset];\n    }\n    return object;\n  }\n\n  /**\n   *\n   * @param {Array} array\n   * @returns {*}\n   */\n  static lookupFromArray(array) {\n    const lookup = {};\n    let z = 0;\n    let i = array.length;\n    while (i-- > 0) {\n      lookup[array[i]] = z++;\n    }\n    return lookup;\n  }\n\n  static dataShape(data) {\n    const shape = [];\n\n    if (data.input) {\n      shape.push('datum');\n      data = data.input;\n    } else if (Array.isArray(data)) {\n      if (data[0].input) {\n        shape.push('array', 'datum');\n        data = data[0].input;\n      } else {\n        shape.push('array');\n        data = data[0];\n      }\n    }\n\n    let p;\n    while (data) {\n      for (p in data) {\n        break;\n      }\n      if (!data.hasOwnProperty(p)) break;\n      if (Array.isArray(data) || data.buffer instanceof ArrayBuffer) {\n        shape.push('array');\n        data = data[p];\n      } else if (typeof data === 'object') {\n        shape.push('object');\n        data = data[p];\n      } else {\n        throw new Error('unhandled signature');\n      }\n    }\n    shape.push(typeof data);\n    return shape;\n  }\n\n  static addKeys(value, table) {\n    if (Array.isArray(value)) return;\n    table = table || {};\n    let i = Object.keys(table).length;\n    for (const p in value) {\n      if (!value.hasOwnProperty(p)) continue;\n      if (table.hasOwnProperty(p)) continue;\n      table[p] = i++;\n    }\n    return table;\n  }\n}\n\nmodule.exports = Lookup;\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","'use strict';\nvar aFunction = require('./_a-function');\nvar isObject = require('./_is-object');\nvar invoke = require('./_invoke');\nvar arraySlice = [].slice;\nvar factories = {};\n\nvar construct = function (F, len, args) {\n  if (!(len in factories)) {\n    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = arraySlice.call(arguments, 1);\n  var bound = function (/* args... */) {\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n  return bound;\n};\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","import {\n  GPU,\n  Input,\n  IKernelSettings,\n  IKernelRunShortcut,\n  IKernelMapRunShortcut,\n  KernelFunction,\n  OutputDimensions,\n  Texture,\n  ThreadKernelVariable,\n  KernelOutput,\n  IConstantsThis,\n  ISubKernelObject,\n  ISubKernelsResults,\n  ThreadFunction,\n} from 'gpu.js';\n\nlet gpuInstance: GPU | null = null;\n\n/**\n * Sets up the gpu.js instance\n * @param value Instance of gpu.js\n */\nexport function setup(value: GPU): void {\n  gpuInstance = value;\n}\n\n/**\n * Destroys any existing gpu.js instance\n */\nexport function teardown(): void {\n  if (gpuInstance !== null) {\n    gpuInstance.destroy().catch(console.log);\n  }\n  gpuInstance = null;\n}\n\n/**\n * Compiles a function into a gpu.js kernel\n * @param fn The function to be compiled\n * @param settings Kernel settings/options\n */\nexport function makeKernel<\n  ArgTypes extends ThreadKernelVariable[] = ThreadKernelVariable[],\n  ConstantsTypes extends IConstantsThis = IConstantsThis\n>(\n  fn: KernelFunction<ArgTypes, ConstantsTypes>,\n  settings: IKernelSettings\n): IKernelRunShortcut {\n  let _gpuInstance: GPU = gpuInstance as GPU;\n  if (_gpuInstance === null) {\n    _gpuInstance = new GPU({ mode: 'gpu' });\n    setup(_gpuInstance);\n  }\n\n  return _gpuInstance\n    .createKernel<ArgTypes, ConstantsTypes>(fn, settings)\n    .setPipeline(true);\n}\n\nexport function makeKernelMap<\n  SubKernelResultTypes,\n  FunctionType extends ThreadFunction,\n  ConstantsTypes\n>(\n  map: ISubKernelObject,\n  fn: FunctionType,\n  settings: IKernelSettings\n): IKernelMapRunShortcut<SubKernelResultTypes> {\n  let _gpuInstance: GPU = gpuInstance as GPU;\n  if (_gpuInstance === null) {\n    _gpuInstance = new GPU({ mode: 'gpu' });\n    setup(_gpuInstance);\n  }\n\n  return _gpuInstance\n    .createKernelMap<SubKernelResultTypes, FunctionType, ConstantsTypes>(\n      map,\n      fn,\n      settings\n    )\n    .setPipeline(true);\n}\n\n/**\n * Compiles a function into a gpu.js dev mode kernel\n * @param fn The function to be compiled\n * @param settings Kernel settings/options\n */\n// export function makeDevKernel(\n//   fn: ThreadFunction,\n//   settings: makeKernelSettings\n// ): IKernelRunShortcut {\n//   if ('map' in settings) {\n//     throw new Error('map kernels are not supported by dev kernels');\n//   }\n//   const gpu = new GPU({ mode: 'dev' });\n//   return gpu.createKernel(fn, settings);\n// }\n\nexport function kernelInput(value: number[], size: OutputDimensions): Input {\n  return new Input(value, size);\n}\n\n/**\n * Deletes a gpu.js texture and frees VRAM\n * @param possibleTexture Texture to be deleted\n */\nexport function release(possibleTexture: KernelOutput | Input): void {\n  if (possibleTexture instanceof Texture) {\n    possibleTexture.delete();\n  }\n}\n\n/**\n * Cleans ie sets all elements to 0 of a Texture or a js array\n * @param value The value to be cleared\n */\nexport function clear(value: KernelOutput): void {\n  if (value instanceof Texture) {\n    value.clear();\n    return;\n  }\n\n  // array\n  if (Array.isArray(value)) {\n    if (typeof value[0] === 'number') {\n      (value as number[]).fill(0);\n    } else if (typeof value[0][0] === 'number') {\n      for (let x = 0; x < value.length; x++) {\n        (value[x] as number[]).fill(0);\n      }\n      return;\n    } else if (typeof value[0][0][0] === 'number') {\n      // cube\n      for (let y = 0; y < value.length; y++) {\n        const row: number[][] = value[y] as number[][];\n        for (let x = 0; x < row.length; x++) {\n          row[x].fill(0);\n        }\n      }\n      return;\n    }\n  }\n  throw new Error('unhandled value');\n}\n\n/**\n * Clones a value\n * @param value to be cloned\n */\nexport function clone(value: KernelOutput): KernelOutput {\n  if (value instanceof Texture) {\n    return value.clone();\n  }\n\n  if (Array.isArray(value)) {\n    if (typeof value[0] === 'number') {\n      return value.slice(0);\n    } else if (typeof value[0][0] === 'number') {\n      const matrix = new Array(value.length);\n      for (let x = 0; x < value.length; x++) {\n        matrix[x] = (value[x] as Float32Array).slice(0);\n      }\n      return matrix;\n    } else if (typeof value[0][0][0] === 'number') {\n      const cube = new Array(value.length);\n      for (let y = 0; y < value.length; y++) {\n        const row = value[y] as number[][];\n        const matrix = new Array(row.length);\n        for (let x = 0; x < row.length; x++) {\n          matrix[x] = row[x].slice(0);\n        }\n      }\n      return cube;\n    }\n  }\n  throw new Error('unhandled value');\n}\n","import { release, clear } from '../utilities/kernel';\nimport {\n  IKernelRunShortcut,\n  Kernel,\n  KernelOutput,\n  Texture,\n  TextureArrayOutput,\n  Input,\n} from 'gpu.js';\nimport { IPraxis } from '../praxis/base-praxis';\n\nexport interface ILayer {\n  width: number;\n  height: number;\n  depth: number;\n  weights: KernelOutput | Input;\n  deltas: KernelOutput;\n  praxis: IPraxis | null;\n  predictKernel: IKernelRunShortcut | null;\n  compareKernel: IKernelRunShortcut | null;\n  settings: IBaseLayerSettings;\n}\n\nexport interface IBaseLayerSettings {\n  width?: number | null;\n  height?: number | null;\n  depth?: number | null;\n  weights?: KernelOutput | null;\n  deltas?: KernelOutput | null;\n  name?: string | null;\n  praxis?: IPraxis | null;\n  praxisOpts?: any | null;\n  initPraxis?: (layerTemplate: BaseLayer, settings?: any) => IPraxis;\n}\n\nexport const defaults: IBaseLayerSettings = {\n  width: 1,\n  height: 1,\n  depth: null,\n  weights: null,\n  deltas: null,\n  praxis: null,\n  praxisOpts: null,\n};\n\nexport abstract class BaseLayer implements ILayer {\n  praxis: IPraxis | null = null;\n  predictKernel: IKernelRunShortcut | null = null;\n  compareKernel: IKernelRunShortcut | null = null;\n  settings: IBaseLayerSettings;\n\n  get width(): number {\n    return this.settings.width as number;\n  }\n\n  get height(): number {\n    return this.settings.height as number;\n  }\n\n  get depth(): number {\n    return this.settings.depth as number;\n  }\n\n  get weights(): KernelOutput | Input {\n    return this.settings.weights as KernelOutput;\n  }\n\n  set weights(weights: KernelOutput | Input) {\n    this.settings.weights = weights as KernelOutput;\n  }\n\n  get deltas(): KernelOutput {\n    return this.settings.deltas as KernelOutput;\n  }\n\n  set deltas(deltas: KernelOutput) {\n    this.settings.deltas = deltas;\n  }\n\n  constructor(settings?: IBaseLayerSettings) {\n    this.settings = { ...defaults, ...settings };\n    this.setupPraxis();\n  }\n\n  setupPraxis(): void {\n    const { initPraxis, praxis, praxisOpts } = this.settings;\n    if (!this.praxis) {\n      if (initPraxis) {\n        if (!praxisOpts) {\n          throw new Error(\n            'settings.praxisOpts not included with settings.initPraxis'\n          );\n        }\n        this.praxis = initPraxis(this, praxisOpts);\n      } else if (praxis) {\n        this.praxis = praxis;\n      }\n    }\n  }\n\n  /*\n  get weights() {\n    return this._weights;\n  }\n\n  set weights(value) {\n    if (value) {\n      if (value.dimensions) {\n        if (value.dimensions[0] !== this.width) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value width`);\n        }\n        if (value.dimensions[1] !== this.height) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value height`);\n        }\n      } else {\n        if (value[0].length !== this.width) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value width`);\n        }\n        if (value.length !== this.height) {\n          throw new Error(`${this.constructor.name}.weights being set with improper value height`);\n        }\n      }\n    }\n    this._weights = value;\n  }\n\n  get deltas() {\n    return this._deltas;\n  }\n\n  set deltas(value) {\n    if (value) {\n      if (value.dimensions) {\n        if (value.dimensions[0] !== this.width) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value width`);\n        }\n        if (value.dimensions[1] !== this.height) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value height`);\n        }\n      } else {\n        if (value[0].length !== this.width) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value width`);\n        }\n        if (value.length !== this.height) {\n          throw new Error(`${this.constructor.name}.deltas being set with improper value height`);\n        }\n      }\n    }\n    this._deltas = value;\n  } */\n\n  validate(): void {\n    if (Number.isNaN(this.height)) {\n      throw new Error(`${this.constructor.name} layer height is not a number`);\n    }\n    if (Number.isNaN(this.width)) {\n      throw new Error(`${this.constructor.name} layer width is not a number`);\n    }\n    if (this.height < 1) {\n      throw new Error(`${this.constructor.name} layer height is less than 1`);\n    }\n    if (this.width < 1) {\n      throw new Error(`${this.constructor.name} layer width is less than 1`);\n    }\n  }\n\n  setupKernels(): void {}\n\n  reuseKernels(layer: ILayer): void {\n    if (layer.width !== this.width) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${layer.width} is not ${this.width}`\n      );\n    }\n    if (layer.height !== this.height) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${layer.height} is not ${this.height}`\n      );\n    }\n    if (layer.hasOwnProperty('predictKernel')) {\n      if (!(layer.predictKernel as Kernel).immutable) {\n        throw new Error(\n          `${layer.constructor.name}.predictKernel is not reusable, set kernel.immutable = true`\n        );\n      }\n      this.predictKernel = layer.predictKernel;\n    }\n    if (layer.hasOwnProperty('compareKernel')) {\n      if (!(layer.compareKernel as Kernel).immutable) {\n        throw new Error(\n          `${layer.constructor.name}.compareKernel is not reusable, set kernel.immutable = true`\n        );\n      }\n      this.compareKernel = layer.compareKernel as IKernelRunShortcut;\n    }\n    this.praxis = layer.praxis;\n  }\n\n  predict(inputs?: KernelOutput): void {}\n\n  compare(): void {}\n\n  learn(learningRate: number): void {\n    // TODO: do we need to release here?\n    const { weights: oldWeights } = this;\n    if (!this.praxis) throw new Error('this.praxis not defined');\n    this.weights = this.praxis.run(this, learningRate);\n    release(oldWeights);\n    clear(this.deltas);\n  }\n\n  toArray(): TextureArrayOutput {\n    return Array.isArray(this.weights)\n      ? this.weights\n      : (this.weights as Texture).toArray();\n  }\n\n  toJSON(): IBaseLayerSettings {\n    return {\n      ...this.settings,\n      weights: Array.isArray(this.weights)\n        ? this.weights\n        : (this.weights as Texture).toArray(),\n      deltas: null,\n      praxis: null,\n      name: this.constructor.name,\n    };\n  }\n}\n","/**\n * Returns an array of zeros\n */\nexport function zeros(size: number): Float32Array {\n  return new Float32Array(size);\n}\n","import { zeros } from './zeros';\n\n/**\n * Returns a 2D tensor(matrix) of zeros\n */\nexport function zeros2D(width: number, height: number): Float32Array[] {\n  const result: Float32Array[] = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = zeros(width);\n  }\n  return result;\n}\n","import { zeros2D } from './zeros-2d';\n\n/**\n * Returns a 3D tensor of arrays\n */\nexport function zeros3D(\n  width: number,\n  height: number,\n  depth: number\n): Float32Array[][] {\n  const result: Float32Array[][] = new Array(depth);\n  for (let z = 0; z < depth; z++) {\n    result[z] = zeros2D(width, height);\n  }\n  return result;\n}\n","import { BaseLayer, IBaseLayerSettings, ILayer } from './base-layer';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport { zeros3D } from '../utilities/zeros-3d';\n\nexport class Activation extends BaseLayer {\n  inputLayer: ILayer;\n\n  get width(): number {\n    return this.inputLayer.width;\n  }\n\n  get height(): number {\n    return this.inputLayer.height;\n  }\n\n  get depth(): number {\n    return this.inputLayer.depth;\n  }\n\n  constructor(inputLayer: ILayer, settings?: IBaseLayerSettings) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    const { width, height, depth } = this;\n    this.predictKernel = null;\n    this.compareKernel = null;\n    this.validate();\n    if (depth > 0) {\n      this.weights = zeros3D(width, height, depth);\n      this.deltas = zeros3D(width, height, depth);\n    } else if (height > 0) {\n      this.weights = zeros2D(width, height);\n      this.deltas = zeros2D(width, height);\n    }\n    this.setupPraxis();\n  }\n}\n","import { BaseLayer, IBaseLayerSettings, ILayer } from './base-layer';\nimport { zeros2D } from '../utilities/zeros-2d';\n\nexport abstract class Operator extends BaseLayer {\n  inputLayer1: ILayer;\n  inputLayer2: ILayer;\n  constructor(\n    inputLayer1: ILayer,\n    inputLayer2: ILayer,\n    settings?: IBaseLayerSettings\n  ) {\n    super(settings);\n    this.inputLayer1 = inputLayer1;\n    this.inputLayer2 = inputLayer2;\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n    this.setupPraxis();\n  }\n}\n","import { BaseLayer } from './base-layer';\n\nexport { Activation } from './activation';\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Internal {}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class InternalModel {}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class EntryPoint extends BaseLayer {}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Filter extends BaseLayer {}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Model extends BaseLayer {}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Modifier extends BaseLayer {}\n","/**\n *\n * @param {Base} layer1\n * @param {Base} layer2\n */\nfunction checkSameSize(layer1, layer2) {\n  if (layer1.width !== layer2.width) {\n    throw new Error(\n      `Layer width mismatch of ${layer1.width} and ${layer2.width}`\n    );\n  }\n\n  if (layer1.height !== layer2.height) {\n    throw new Error(\n      `Layer height mismatch of ${layer1.height} and ${layer2.height}`\n    );\n  }\n}\n\nmodule.exports = {\n  checkSameSize,\n};\n","import { makeKernel, release, clone, clear } from '../utilities/kernel';\nimport { checkSameSize } from '../utilities/layer-size';\nimport { Operator } from './operator';\nimport { IKernelFunctionThis, IKernelRunShortcut, Texture } from 'gpu.js';\nimport { IBaseLayerSettings, ILayer } from './base-layer';\n\nexport function predict(\n  this: IKernelFunctionThis,\n  inputWeights1: number[][],\n  inputWeights2: number[][]\n): number {\n  return (\n    inputWeights1[this.thread.y as number][this.thread.x] +\n    inputWeights2[this.thread.y as number][this.thread.x]\n  );\n}\n\nexport class Add extends Operator {\n  validate(): void {\n    super.validate();\n    checkSameSize(this.inputLayer1, this.inputLayer2);\n  }\n\n  setupKernels(): void {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n  }\n\n  predict(): void {\n    release(this.weights);\n    this.weights = (this.predictKernel as IKernelRunShortcut)(\n      this.inputLayer1.weights,\n      this.inputLayer2.weights\n    ) as Texture;\n    clear(this.deltas);\n  }\n\n  compare(): void {\n    // TODO: Do we need release and clone here?\n    release(this.inputLayer1.deltas);\n    release(this.inputLayer2.deltas);\n    this.inputLayer1.deltas = clone(this.deltas);\n    this.inputLayer2.deltas = clone(this.deltas);\n  }\n\n  /**\n   * @abstract\n   */\n  learn(): void {}\n}\n\nexport function add(\n  inputLayer1: ILayer,\n  inputLayer2: ILayer,\n  settings: IBaseLayerSettings\n): Add {\n  return new Add(inputLayer1, inputLayer2, settings);\n}\n","import { BaseLayer, ILayer } from '../layer/base-layer';\nimport { IKernelRunShortcut, KernelOutput } from 'gpu.js';\n\nexport interface IPraxis {\n  settings: any;\n  layerTemplate: ILayer;\n  kernel: IKernelRunShortcut | null;\n  width: number;\n  height: number;\n  depth: number;\n  run: (layer: BaseLayer, learningRate: number) => KernelOutput;\n}\n\nexport abstract class BasePraxis<PraxisSettingsType> implements IPraxis {\n  settings: PraxisSettingsType;\n  layerTemplate: ILayer;\n  kernel: IKernelRunShortcut | null;\n\n  get width(): number {\n    return this.layerTemplate.width;\n  }\n\n  get height(): number {\n    return this.layerTemplate.height;\n  }\n\n  get depth(): number {\n    return this.layerTemplate.depth;\n  }\n\n  constructor(layerTemplate: ILayer, settings: PraxisSettingsType) {\n    this.layerTemplate = layerTemplate;\n    this.settings = {\n      ...settings,\n    };\n    this.kernel = null;\n  }\n\n  setupKernels(): void {}\n\n  reuseKernels(praxis: BasePraxis<PraxisSettingsType>): void {\n    if (praxis.width !== this.width) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${praxis.width} is not ${this.width}`\n      );\n    }\n    if (praxis.height !== this.height) {\n      throw new Error(\n        `${this.constructor.name} kernel width mismatch ${praxis.height} is not ${this.height}`\n      );\n    }\n    if (praxis.hasOwnProperty('kernel')) {\n      this.kernel = praxis.kernel;\n    }\n  }\n\n  abstract run(layer: BaseLayer, learningRate: number): KernelOutput;\n}\n","import { makeKernelMap } from '../utilities/kernel';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport { BasePraxis } from './base-praxis';\nimport { ILayer } from '../layer/base-layer';\nimport {\n  IKernelFunctionThis,\n  IKernelMapRunShortcut,\n  ISubKernelsResults,\n  KernelOutput,\n} from 'gpu.js';\n\nfunction updateChange(value: number): number {\n  return value;\n}\n\nexport interface IUpdateFunctionConstants {\n  learningRate: number;\n  momentum: number;\n}\n\nfunction update(\n  this: IKernelFunctionThis<IUpdateFunctionConstants>,\n  changes: number[][],\n  weights: number[][],\n  incomingWeights: number[][],\n  inputDeltas: number[][]\n): number {\n  const lastChange: number = changes[this.thread.y][this.thread.x];\n  const inputDelta: number = inputDeltas[this.thread.y][0];\n  const weight: number = weights[this.thread.y][this.thread.x];\n  const incoming: number = incomingWeights[this.thread.x][0];\n\n  const change =\n    this.constants.learningRate * inputDelta * incoming +\n    this.constants.momentum * lastChange;\n  updateChange(change);\n  return weight + change;\n}\n\nexport interface IArthurDeviationWeightsSettings {\n  learningRate: number;\n  momentum: number;\n  weightsLayer: ILayer;\n  incomingLayer: ILayer;\n  deltaLayer: ILayer;\n}\n\nexport interface IUpdateKernelResults extends ISubKernelsResults {\n  changes: KernelOutput;\n}\n\nexport class ArthurDeviationWeights<\n  PraxisSettingsType extends IArthurDeviationWeightsSettings = IArthurDeviationWeightsSettings\n> extends BasePraxis<PraxisSettingsType> {\n  static get defaults() {\n    return {\n      learningRate: 0.3,\n      momentum: 0.1,\n    };\n  }\n\n  weightsLayer: ILayer | null = null;\n  incomingLayer: ILayer | null = null;\n  deltaLayer: ILayer | null = null;\n  changes: KernelOutput;\n  kernelMap: IKernelMapRunShortcut<IUpdateKernelResults> | null = null;\n\n  get learningRate(): number {\n    return this.settings.learningRate;\n  }\n\n  get momentum(): number {\n    return this.settings.momentum;\n  }\n\n  constructor(layer: ILayer, settings: PraxisSettingsType) {\n    super(layer, settings);\n    if (settings) {\n      if (settings.weightsLayer) {\n        this.weightsLayer = settings.weightsLayer;\n      }\n      if (settings.incomingLayer) {\n        this.incomingLayer = settings.incomingLayer;\n      }\n      if (settings.deltaLayer) {\n        this.deltaLayer = settings.deltaLayer;\n      }\n    }\n    this.changes = zeros2D(layer.width, layer.height);\n  }\n\n  run(): KernelOutput {\n    const output = (this.kernelMap as IKernelMapRunShortcut<\n      IUpdateKernelResults\n    >)(\n      this.changes,\n      (this.weightsLayer as ILayer).weights,\n      (this.incomingLayer as ILayer).weights,\n      (this.deltaLayer as ILayer).deltas\n    );\n    this.changes = output.changes;\n    return output.result;\n  }\n\n  setupKernels(): void {\n    this.kernelMap = makeKernelMap<\n      IUpdateKernelResults,\n      typeof update,\n      IUpdateFunctionConstants\n    >(\n      {\n        changes: updateChange,\n      },\n      update,\n      {\n        output: [this.width, this.height],\n        constants: {\n          learningRate: this.learningRate,\n          momentum: this.momentum,\n        },\n      }\n    );\n  }\n}\n\nexport function arthurDeviationWeights(\n  layer: ILayer,\n  settings: IArthurDeviationWeightsSettings\n): ArthurDeviationWeights {\n  return new ArthurDeviationWeights(layer, settings);\n}\n","import { makeKernel } from '../utilities/kernel';\nimport { BasePraxis } from './base-praxis';\nimport { BaseLayer, ILayer } from '../layer/base-layer';\nimport { IKernelFunctionThis, IKernelRunShortcut, KernelOutput } from 'gpu.js';\n\nexport interface IUpdateThis extends IKernelFunctionThis {\n  constants: {\n    learningRate: number;\n  };\n}\n\nexport function update(\n  this: IUpdateThis,\n  weights: number[][],\n  deltas: number[][]\n): number {\n  return (\n    weights[this.thread.y][this.thread.x] +\n    this.constants.learningRate * deltas[this.thread.y][this.thread.x]\n  );\n}\n\nexport interface IArthurDeviationBiasesSettings {\n  learningRate: number;\n}\n\nexport class ArthurDeviationBiases extends BasePraxis<IArthurDeviationBiasesSettings> {\n  static get defaults(): IArthurDeviationBiasesSettings {\n    return {\n      learningRate: 0.3,\n    };\n  }\n\n  constructor(layer: BaseLayer, settings: IArthurDeviationBiasesSettings) {\n    super(layer, settings);\n    this.kernel = null;\n  }\n\n  run(layer: ILayer, learningRate: number): KernelOutput {\n    return (this.kernel as IKernelRunShortcut)(layer.weights, layer.deltas);\n  }\n\n  setupKernels(): void {\n    this.kernel = makeKernel(update, {\n      output: [this.width, this.height],\n      constants: {\n        learningRate: this.settings.learningRate,\n      },\n    });\n  }\n}\n\nexport function arthurDeviationBiases(\n  layer: BaseLayer,\n  settings: IArthurDeviationBiasesSettings\n): ArthurDeviationBiases {\n  return new ArthurDeviationBiases(layer, settings);\n}\n","export function randomWeight(): number {\n  return Math.random() * 0.4 - 0.2;\n}\n","export function randomFloat(a: number, b: number): number {\n  return Math.random() * (b - a) + a;\n}\n\n// Random numbers utils\nexport function gaussRandom(): number {\n  if (returnV) {\n    returnV = false;\n    return vVal;\n  }\n  const u = 2 * Math.random() - 1;\n  const v = 2 * Math.random() - 1;\n  const r = u * u + v * v;\n  if (r === 0 || r > 1) {\n    return gaussRandom();\n  }\n  const c = Math.sqrt((-2 * Math.log(r)) / r);\n  vVal = v * c; // cache this\n  returnV = true;\n  return u * c;\n}\n\nlet returnV = false;\nlet vVal = 0;\n\nexport function randomInteger(a: number, b: number): number {\n  return Math.floor(Math.random() * (b - a) + a);\n}\n\nexport function randomN(mu: number, std: number): number {\n  return mu + gaussRandom() * std;\n}\n","import { randomWeight } from './random-weight';\nimport { randomFloat } from './random';\n\nexport function randos(\n  size: number,\n  std: number | undefined | null\n): Float32Array {\n  const array = new Float32Array(size);\n  if (std) {\n    for (let i = 0; i < size; i++) {\n      array[i] = randomFloat(-std, std);\n    }\n  } else {\n    for (let i = 0; i < size; i++) {\n      array[i] = randomWeight();\n    }\n  }\n  return array;\n}\n","import { randos } from './randos';\n\nexport function randos2D(\n  width: number,\n  height: number,\n  std?: number | undefined | null\n): Float32Array[] {\n  const result = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = randos(width, std);\n  }\n  return result;\n}\n","import { IBaseLayerSettings } from './base-layer';\n\nimport { Model } from './types';\nimport { randos2D } from '../utilities/randos-2d';\nimport { zeros2D } from '../utilities/zeros-2d';\n\nexport interface IRandomSettings extends IBaseLayerSettings {\n  std?: number | null;\n}\n\nexport const defaults: IRandomSettings = {\n  std: null,\n};\n\nexport class Random extends Model {\n  constructor(settings: IRandomSettings) {\n    super(settings);\n    this.validate();\n\n    if (!this.weights) {\n      // @ts-ignore\n      this.weights = randos2D(this.width, this.height, settings.std);\n    }\n    if (!this.deltas) {\n      // @ts-ignore\n      this.deltas = zeros2D(this.width, this.height);\n    }\n  }\n\n  predict(): void {}\n\n  compare(): void {}\n}\n\nexport function random(settings: IRandomSettings): Random {\n  return new Random(settings);\n}\n","import { makeKernel, release, clear } from '../utilities/kernel';\nimport { Operator } from './operator';\nimport { IKernelFunctionThis, IKernelRunShortcut, Texture } from 'gpu.js';\nimport { BaseLayer, IBaseLayerSettings } from './base-layer';\n\nexport function predict(\n  this: IKernelFunctionThis,\n  weights1: number[][],\n  weights2: number[][]\n): number {\n  let sum = 0;\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += weights1[this.thread.y][i] * weights2[i][this.thread.x];\n  }\n  return sum;\n}\n\nexport function compareFromX(\n  this: IKernelFunctionThis,\n  deltas: number[][],\n  inputDeltas: number[][],\n  inputWeights: number[][]\n): number {\n  let sum = inputDeltas[this.thread.y][this.thread.x];\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += deltas[this.thread.y][i] * inputWeights[this.thread.x][i];\n  }\n  return sum;\n}\n\nexport function compareFromY(\n  this: IKernelFunctionThis,\n  deltas: number[][],\n  inputDeltas: number[][],\n  inputWeights: number[][]\n): number {\n  let sum = inputDeltas[this.thread.y][this.thread.x];\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += deltas[i][this.thread.x] * inputWeights[i][this.thread.y];\n  }\n  return sum;\n}\n\nexport class Multiply extends Operator {\n  compareKernel1: IKernelRunShortcut | null = null;\n  compareKernel2: IKernelRunShortcut | null = null;\n\n  get width() {\n    return this.inputLayer2.width;\n  }\n\n  set width(width: number) {\n    throw new Error('Cannot set width on Multiply');\n  }\n\n  get height() {\n    return this.inputLayer1.height;\n  }\n\n  set height(height: number) {\n    throw new Error('Cannot set height on Multiply');\n  }\n\n  validate(): void {\n    super.validate();\n    if (this.inputLayer1.width !== this.inputLayer2.height) {\n      throw new Error(\n        `Layer width mismatch of ${this.inputLayer1.width} and ${this.inputLayer2.height}`\n      );\n    }\n  }\n\n  setupKernels(): void {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      constants: {\n        size: this.inputLayer2.height,\n      },\n      immutable: true,\n    });\n    this.compareKernel1 = makeKernel(compareFromX, {\n      output: [this.inputLayer1.width, this.inputLayer1.height],\n      constants: {\n        size: this.inputLayer2.width,\n      },\n      immutable: true,\n    });\n    this.compareKernel2 = makeKernel(compareFromY, {\n      output: [this.inputLayer2.width, this.inputLayer2.height],\n      constants: {\n        size: this.inputLayer1.height,\n      },\n      immutable: true,\n    });\n  }\n\n  reuseKernels(layer: Multiply): void {\n    super.reuseKernels(layer);\n    this.compareKernel1 = layer.compareKernel1;\n    this.compareKernel2 = layer.compareKernel2;\n  }\n\n  predict(): void {\n    release(this.weights);\n    if (!this.predictKernel) throw new Error('this.predictKernel is not set');\n    this.weights = this.predictKernel(\n      this.inputLayer1.weights,\n      this.inputLayer2.weights\n    ) as Texture;\n    clear(this.deltas);\n  }\n\n  compare(): void {\n    if (!this.compareKernel1) throw new Error('this.compareKernel1 not set');\n    if (!this.compareKernel2) throw new Error('this.compareKernel2 not set');\n\n    const inputLayer1Deltas = this.inputLayer1.deltas;\n    const inputLayer2Deltas = this.inputLayer2.deltas;\n\n    const newDeltas1 = this.compareKernel1(\n      this.deltas,\n      this.inputLayer1.deltas,\n      this.inputLayer2.weights\n    );\n    const newDeltas2 = this.compareKernel2(\n      this.deltas,\n      this.inputLayer2.deltas,\n      this.inputLayer1.weights\n    );\n\n    this.inputLayer2.deltas = newDeltas2 as Texture;\n    this.inputLayer1.deltas = newDeltas1 as Texture;\n\n    release(inputLayer1Deltas);\n    release(inputLayer2Deltas);\n  }\n\n  setupPraxis(): void {}\n  learn(): void {}\n\n  toJSON(): IBaseLayerSettings {\n    return {\n      ...super.toJSON(),\n      width: this.width,\n      height: this.height,\n    };\n  }\n}\n\nexport function multiply(\n  inputLayer1: BaseLayer,\n  inputLayer2: BaseLayer,\n  settings: IBaseLayerSettings\n): Multiply {\n  return new Multiply(inputLayer1, inputLayer2, settings);\n}\n","const { Activation } = require('./types');\nconst { makeKernel, release, clear } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/sigmoid');\n\nfunction predict2D(inputs) {\n  return 1 / (1 + Math.exp(-inputs[this.thread.y][this.thread.x]));\n}\n\nfunction predict3D(inputs) {\n  return (\n    1 / (1 + Math.exp(-inputs[this.thread.z][this.thread.y][this.thread.x]))\n  );\n}\n\nfunction compare2D(weights, deltas) {\n  const weight = weights[this.thread.y][this.thread.x];\n  const delta = deltas[this.thread.y][this.thread.x];\n  return weight * (1 - weight) * delta;\n}\n\nfunction compare3D(weights, deltas) {\n  const weight = weights[this.thread.z][this.thread.y][this.thread.x];\n  const delta = deltas[this.thread.z][this.thread.y][this.thread.x];\n  return weight * (1 - weight) * delta;\n}\n\nclass Sigmoid extends Activation {\n  setupKernels() {\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [this.width, this.height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [this.width, this.height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = this.compareKernel(this.weights, this.deltas);\n  }\n}\n\nfunction sigmoid(inputLayer, settings) {\n  return new Sigmoid(inputLayer, settings);\n}\n\nmodule.exports = {\n  Sigmoid,\n  sigmoid,\n  predict2D,\n  predict3D,\n  compare2D,\n  compare3D,\n};\n","const {\n  arthurDeviationWeights,\n} = require('../praxis/arthur-deviation-weights');\nconst { arthurDeviationBiases } = require('../praxis/arthur-deviation-biases');\nconst { add } = require('./add');\nconst { random } = require('./random');\nconst { multiply } = require('./multiply');\nconst { sigmoid } = require('./sigmoid');\n\nfunction arthurFeedForward(settings, inputLayer) {\n  const { height } = settings;\n  function weightsPraxis(layer, settings) {\n    const praxis = arthurDeviationWeights(layer, settings);\n    praxis.setupKernels();\n    return praxis;\n  }\n  function biasesPraxis(layer, settings) {\n    const praxis = arthurDeviationBiases(layer, settings);\n    praxis.setupKernels();\n    return praxis;\n  }\n  const weightsLayer = random({\n    name: 'weights',\n    height,\n    width: inputLayer.height,\n    praxis: weightsPraxis,\n  });\n\n  const biasesLayer = random({\n    name: 'biases',\n    height,\n    praxis: biasesPraxis,\n  });\n\n  const multiplyLayer = multiply(weightsLayer, inputLayer);\n  const addLayer = add(multiplyLayer, biasesLayer);\n  const sigmoidLayer = sigmoid(addLayer);\n\n  weightsLayer.praxis.weightsLayer = weightsLayer;\n  weightsLayer.praxis.incomingLayer = inputLayer;\n  weightsLayer.praxis.deltaLayer = sigmoidLayer;\n  return sigmoidLayer;\n}\n\nmodule.exports = {\n  arthurFeedForward,\n};\n","function setStride(layer, settings) {\n  const { defaults } = layer.constructor;\n\n  if (settings.hasOwnProperty('stride')) {\n    layer.strideX = settings.stride;\n    layer.strideY = settings.stride;\n  } else {\n    if (settings.hasOwnProperty('strideX')) {\n      layer.strideX = settings.strideX;\n    } else {\n      layer.strideX = defaults.stride;\n    }\n\n    if (settings.hasOwnProperty('strideY')) {\n      layer.strideY = settings.strideY;\n    } else {\n      layer.strideY = defaults.stride;\n    }\n  }\n}\n\nfunction setPadding(layer, settings) {\n  const { defaults } = layer.constructor;\n\n  if (settings.hasOwnProperty('padding')) {\n    layer.paddingX = settings.padding;\n    layer.paddingY = settings.padding;\n  } else {\n    if (settings.hasOwnProperty('paddingX')) {\n      layer.paddingX = settings.paddingX;\n    } else {\n      layer.paddingX = defaults.padding;\n    }\n\n    if (settings.hasOwnProperty('paddingY')) {\n      layer.paddingY = settings.paddingY;\n    } else {\n      layer.paddingY = defaults.padding;\n    }\n  }\n}\n\nmodule.exports = { setStride, setPadding };\n","import { randos2D } from './randos-2d';\n\nexport function randos3D(\n  width: number,\n  height: number,\n  depth: number,\n  std?: number\n): Float32Array[][] {\n  const result = new Array(depth);\n  for (let z = 0; z < depth; z++) {\n    result[z] = randos2D(width, height, std);\n  }\n  return result;\n}\n","/**\n * Returns an array of a given size with each element filled with a single value\n */\nexport function values(size: number, value: number): Float32Array {\n  return new Float32Array(size).fill(value);\n}\n","const { makeKernel, release, clone, clear } = require('../utilities/kernel');\nconst { setStride, setPadding } = require('../utilities/layer-setup');\nconst { Filter } = require('./types');\nconst randos = require('../utilities/randos');\nconst randos3D = require('../utilities/randos-3d');\nconst { zeros3D } = require('../utilities/zeros-3d');\nconst values = require('../utilities/values');\n\nfunction predict(inputs, filters, biases) {\n  const startFilterX =\n    this.constants.paddingX - this.thread.x * this.constants.strideX;\n  const startInputX =\n    this.thread.x * this.constants.strideX - this.constants.paddingX;\n  const endFilterX = Math.min(\n    this.constants.filterWidth,\n    startFilterX + this.constants.inputWidth\n  );\n\n  const startFilterY =\n    this.constants.paddingY - this.thread.y * this.constants.strideY;\n  const startInputY =\n    this.thread.y * this.constants.strideY - this.constants.paddingY;\n  const endFilterY = Math.min(\n    this.constants.filterHeight,\n    startFilterY + this.constants.inputHeight\n  );\n\n  let sum = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (\n      let filterY = Math.max(0, startFilterY),\n        inputY = Math.max(0, startInputY);\n      filterY < endFilterY;\n      filterY++, inputY++\n    ) {\n      for (\n        let filterX = Math.max(0, startFilterX),\n          inputX = Math.max(0, startInputX);\n        filterX < endFilterX;\n        filterX++, inputX++\n      ) {\n        sum += filters[z][filterY][filterX] * inputs[z][inputY][inputX];\n      }\n    }\n  }\n  return sum + biases[this.thread.z];\n}\n\nfunction compareFilterDeltas(filterDeltas, inputs, deltas) {\n  const startDeltaX = Math.max(\n    0,\n    Math.ceil(\n      (this.constants.paddingX - this.thread.x) / this.constants.strideX\n    )\n  );\n  const startInputX =\n    startDeltaX * this.constants.strideX +\n    this.thread.x -\n    this.constants.paddingX;\n  const endDeltaX = Math.min(\n    this.constants.deltaWidth,\n    Math.floor(\n      (this.constants.inputWidth -\n        1 -\n        this.thread.x +\n        this.constants.paddingX) /\n        this.constants.strideX\n    ) + 1\n  );\n\n  const startDeltaY = Math.max(\n    0,\n    Math.ceil(\n      (this.constants.paddingY - this.thread.y) / this.constants.strideY\n    )\n  );\n  const startInputY =\n    startDeltaY * this.constants.strideY +\n    this.thread.y -\n    this.constants.paddingY;\n  const endDeltaY = Math.min(\n    this.constants.deltaHeight,\n    Math.floor(\n      (this.constants.inputHeight -\n        1 -\n        this.thread.y +\n        this.constants.paddingY) /\n        this.constants.strideY\n    ) + 1\n  );\n\n  let sum = filterDeltas[this.thread.z][this.thread.y][this.thread.x];\n  for (\n    let deltaY = startDeltaY, inputY = startInputY;\n    deltaY < endDeltaY;\n    deltaY++, inputY += this.constants.strideY\n  ) {\n    for (\n      let deltaX = startDeltaX, inputX = startInputX;\n      deltaX < endDeltaX;\n      deltaX++, inputX += this.constants.strideX\n    ) {\n      sum +=\n        inputs[this.thread.z][inputY][inputX] *\n        deltas[this.constants.deltaZ][deltaY][deltaX];\n    }\n  }\n  return sum;\n}\n\nfunction compareInputDeltas(inputDeltas, filters, deltas) {\n  const x = this.thread.x + this.constants.paddingX;\n  const startDeltaX =\n    x < this.constants.filterWidth\n      ? 0\n      : Math.floor(\n          (x - this.constants.filterWidth + this.constants.strideX) /\n            this.constants.strideX\n        );\n  const startFilterX = x - startDeltaX * this.constants.strideX;\n  const endDeltaX = Math.min(\n    startDeltaX + Math.floor(startFilterX / this.constants.strideX) + 1,\n    this.constants.deltaWidth\n  );\n\n  const y = this.thread.y + this.constants.paddingY;\n  const startDeltaY =\n    y < this.constants.filterHeight\n      ? 0\n      : Math.floor(\n          (y - this.constants.filterHeight + this.constants.strideY) /\n            this.constants.strideY\n        );\n  const startFilterY = y - startDeltaY * this.constants.strideY;\n  const endDeltaY = Math.min(\n    startDeltaY + Math.floor(startFilterY / this.constants.strideY) + 1,\n    this.constants.deltaHeight\n  );\n\n  let sum = inputDeltas[this.thread.z][this.thread.y][this.thread.x];\n  let deltaY = startDeltaY;\n  for (\n    let filterY = startFilterY;\n    deltaY < endDeltaY;\n    filterY -= this.constants.strideY, deltaY++\n  ) {\n    let deltaX = startDeltaX;\n    for (\n      let filterX = startFilterX;\n      deltaX < endDeltaX;\n      filterX -= this.constants.strideX, deltaX++\n    ) {\n      sum +=\n        filters[this.thread.z][filterY][filterX] *\n        deltas[this.constants.deltaZ][deltaY][deltaX];\n    }\n  }\n  return sum;\n}\n\nfunction compareBiases(biasDeltas, deltas) {\n  let sum = 0;\n  for (let y = 0; y < this.constants.deltaHeight; y++) {\n    for (let x = 0; x < this.constants.deltaWidth; x++) {\n      sum += deltas[this.thread.z][y][x];\n    }\n  }\n  return biasDeltas[this.thread.z][this.thread.y][this.thread.x] + sum;\n}\n\nclass Convolution extends Filter {\n  static get defaults() {\n    return {\n      stride: 0,\n      padding: 0,\n      bias: 0.1,\n      filterCount: 1,\n      filterWidth: 0,\n      filterHeight: 0,\n    };\n  }\n\n  constructor(settings, inputLayer) {\n    super(settings);\n\n    this.stride = null;\n    this.strideX = null;\n    this.strideY = null;\n    setStride(this, settings);\n\n    this.padding = null;\n    this.paddingX = null;\n    this.paddingY = null;\n    setPadding(this, settings);\n\n    this.filterCount = settings.filterCount;\n    this.filterWidth = settings.filterWidth;\n    this.filterHeight = settings.filterHeight;\n\n    this.width = Math.floor(\n      (inputLayer.width + this.paddingX * 2 - this.filterWidth) / this.strideX +\n        1\n    );\n    this.height = Math.floor(\n      (inputLayer.height + this.paddingY * 2 - this.filterHeight) /\n        this.strideY +\n        1\n    );\n    this.depth = this.filterCount;\n    this.weights = randos3D(this.width, this.height, this.depth);\n    this.deltas = zeros3D(this.width, this.height, this.depth);\n\n    this.biases = values(this.depth, this.bias);\n    this.biasDeltas = randos(this.depth);\n\n    this.filters = randos3D(\n      this.filterWidth,\n      this.filterHeight,\n      this.filterCount\n    );\n    this.filterDeltas = zeros3D(\n      this.filterWidth,\n      this.filterHeight,\n      this.filterCount\n    );\n\n    this.learnFilters = null;\n    this.learnInputs = null;\n    this.inputLayer = inputLayer;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      constants: {\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        inputDepth: this.inputLayer.depth,\n        strideX: this.strideX,\n        strideY: this.strideY,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterWidth: this.filterWidth,\n        filterHeight: this.filterHeight,\n      },\n      output: [this.width, this.height, this.depth],\n      immutable: true,\n    });\n\n    this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas, {\n      constants: {\n        deltasWidth: this.width,\n        deltasHeight: this.height,\n        deltasDepth: this.depth,\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        inputDepth: this.inputLayer.depth,\n        strideX: this.strideX,\n        strideY: this.strideY,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterWidth: this.filterWidth,\n        filterHeight: this.filterHeight,\n      },\n      output: [this.width, this.height, this.depth],\n      immutable: true,\n    });\n\n    this.compareInputDeltasKernel = makeKernel(compareInputDeltas, {\n      constants: {\n        filterCount: this.filterCount,\n      },\n      output: [\n        this.inputLayer.width,\n        this.inputLayer.height,\n        this.inputLayer.depth,\n      ],\n      immutable: true,\n    });\n\n    this.compareBiasesKernel = makeKernel(compareBiases, {\n      output: [1, 1, this.depth],\n      constants: {\n        deltaWidth: this.width,\n        deltaHeight: this.height,\n      },\n      immutable: true,\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(\n      this.inputLayer.weights,\n      this.filters,\n      this.biases\n    );\n  }\n\n  compare() {\n    const { filterDeltas, biasDeltas } = this;\n    this.filterDeltas = this.compareFilterDeltasKernel(\n      filterDeltas,\n      this.inputLayer.weights,\n      this.deltas\n    );\n    release(filterDeltas);\n    this.biasDeltas = this.compareBiasesKernel(biasDeltas, this.deltas);\n    release(biasDeltas);\n    release(this.deltas);\n    this.deltas = this.compareInputDeltasKernel(\n      this.filters,\n      this.inputLayer.deltas\n    );\n\n    release(this.inputLayer.deltas);\n    // TODO: do we need to clone here?\n    this.inputLayer.deltas = clone(this.deltas);\n  }\n\n  learn(learningRate) {\n    // TODO: handle filters\n    // TODO: do we need to release here?\n    const { weights: oldWeights } = this;\n    this.weights = this.praxis.run(\n      this,\n      learningRate\n    );\n    release(oldWeights);\n    clear(this.deltas);\n  }\n}\n\nfunction convolution(settings, inputLayer) {\n  return new Convolution(settings, inputLayer);\n}\n\nmodule.exports = {\n  Convolution,\n  convolution,\n  predict,\n  compareFilterDeltas,\n  compareInputDeltas,\n  compareBiases,\n};\n","const { Filter } = require('./types');\nconst { makeKernel, release } = require('../utilities/kernel');\n\nfunction setDropout(dropout) {\n  return dropout;\n}\nfunction trainingPredict(inputs) {\n  if (setDropout(Math.random()) < this.constants.probability) {\n    return 0;\n  }\n  return inputs[this.thread.y][this.thread.x];\n}\n\nfunction predict(inputs) {\n  return inputs[this.thread.y][this.thread.x] * this.constants.probability;\n}\n\nfunction compare(dropouts, deltas) {\n  if (dropouts[this.thread.y][this.thread.x] === 0) {\n    return 0;\n  }\n  return deltas[this.thread.y][this.thread.x];\n}\n\nclass Dropout extends Filter {\n  static get defaults() {\n    return {\n      width: 1,\n      height: 1,\n      depth: null,\n      probability: 0.5,\n    };\n  }\n\n  constructor(inputLayer, settings) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.height = inputLayer.height;\n    this.width = inputLayer.width;\n    this.dropouts = null;\n    this.validate();\n  }\n\n  setupKernels(isTraining) {\n    const output = [this.width, this.height];\n\n    if (isTraining) {\n      this.predictKernel = makeKernel(trainingPredict, {\n        output,\n        map: { dropouts: setDropout },\n        immutable: true,\n      });\n      this.compareKernel = makeKernel(compare, { output, immutable: true });\n    } else {\n      this.predictKernel = makeKernel(predict, { output, immutable: true });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    release(this.dropouts);\n    const { result, dropouts } = this.predictKernel(this.inputLayer.weights);\n    this.weights = result;\n    this.dropouts = dropouts;\n  }\n\n  compare() {\n    release(this.deltas);\n    this.deltas = this.compareKernel(this.dropouts, this.inputLayer.deltas);\n  }\n}\n\nfunction dropout(settings, inputLayer) {\n  return new Dropout(settings, inputLayer);\n}\n\nmodule.exports = {\n  Dropout,\n  dropout,\n  setDropout,\n  trainingPredict,\n  predict,\n  compare,\n};\n","const { random } = require('./random');\nconst { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { sigmoid } = require('./sigmoid');\n\nfunction feedForward(settings, input) {\n  const { height, praxisOpts } = settings;\n  const weights = random({\n    name: 'weights',\n    height,\n    width: input.height,\n    praxisOpts,\n  });\n  const biases = random({ name: 'biases', height, praxisOpts });\n  return sigmoid(\n    add(multiply(weights, input, { praxisOpts }), biases, { praxisOpts }),\n    { praxisOpts }\n  );\n}\n\nmodule.exports = {\n  feedForward,\n};\n","const { Filter } = require('./types');\nconst { makeKernel, release } = require('../utilities/kernel');\nconst values = require('../utilities/values');\nconst randos2D = require('../utilities/randos-2d');\nconst randos3D = require('../utilities/randos-3d');\nconst { zeros } = require('../utilities/zeros');\nconst { zeros2D } = require('../utilities/zeros-2d');\nconst { zeros3D } = require('../utilities/zeros-3d');\n\nfunction predict(inputs, filters, biases) {\n  let output = 0;\n  let i = 0;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      output += inputs[y][x] * filters[this.thread.x][i];\n      i++;\n    }\n  }\n  return output + biases[this.thread.x];\n}\n\nfunction predict3D(inputs, filters, biases) {\n  let output = 0;\n  let i = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        output += inputs[z][y][x] * filters[this.thread.x][i];\n        i++;\n      }\n    }\n  }\n  return output + biases[this.thread.x];\n}\n\nfunction compareInputDeltas(inputDeltas, deltas, filters) {\n  let sum = 0;\n  const filterX = this.thread.x + this.thread.y * this.output.x;\n  for (let filterY = 0; filterY < this.constants.filterCount; filterY++) {\n    sum += filters[filterY][filterX] * deltas[0][filterY];\n  }\n  return sum + inputDeltas[this.thread.y][this.thread.x];\n}\n\nfunction compareInputDeltas3D(inputDeltas, deltas, filters) {\n  let sum = 0;\n  const filterX = this.thread.x + this.thread.y * this.output.x;\n  for (let filterY = 0; filterY < this.constants.filterCount; filterY++) {\n    sum += filters[filterY][filterX] * deltas[0][filterY];\n  }\n  return sum + inputDeltas[this.thread.z][this.thread.y][this.thread.x];\n}\n\nfunction compareBiases(biases, deltas) {\n  return biases[this.thread.x] + deltas[this.thread.y][this.thread.x];\n}\n\nfunction compareFilterDeltas(filterDeltas, inputWeights, deltas) {\n  return (\n    filterDeltas[this.thread.y][this.thread.x] +\n    inputWeights[this.thread.y][this.thread.x] *\n      deltas[this.constants.deltaY][this.constants.deltaX]\n  );\n}\n\nfunction compareFilterDeltas3D(filterDeltas, inputWeights, deltas) {\n  const inputZ = Math.floor(\n    this.thread.x / (this.constants.inputWidth * this.constants.inputHeight)\n  );\n  const inputY = Math.floor(\n    (this.thread.x -\n      inputZ * this.constants.inputWidth * this.constants.inputHeight) /\n      this.constants.inputWidth\n  );\n  const inputX =\n    this.thread.x -\n    this.constants.inputWidth * (inputY + this.constants.inputHeight * inputZ);\n  return (\n    filterDeltas[this.thread.y][this.thread.x] +\n    inputWeights[inputZ][inputY][inputX] * deltas[0][this.thread.y]\n  );\n}\n\nclass FullyConnected extends Filter {\n  static get defaults() {\n    return {\n      bias: 0.1,\n    };\n  }\n\n  constructor(settings, inputLayer) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.validate();\n    this.compareFilterDeltasKernel = null;\n    this.compareInputDeltasKernel = null;\n    this.compareBiasesKernel = null;\n\n    const connectionCount =\n      inputLayer.width * inputLayer.height * inputLayer.depth;\n\n    this.biases = values(this.height, this.bias);\n    this.biasDeltas = zeros(this.height);\n\n    this.filters = randos2D(connectionCount, this.height);\n    this.filterDeltas = zeros2D(connectionCount, this.height);\n\n    if (this.depth > 0) {\n      this.weights = randos3D(this.width, this.height);\n      this.deltas = zeros3D(this.width, this.height);\n    } else if (this.height > 0) {\n      this.weights = randos2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n    }\n  }\n\n  validate() {\n    super.validate();\n    if (this.depth > 0) throw new Error('depth not supported');\n  }\n\n  setupKernels() {\n    const { inputLayer } = this;\n    const connectionCount =\n      inputLayer.width * inputLayer.height * inputLayer.depth;\n    if (inputLayer.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height],\n        constants: {\n          inputHeight: inputLayer.height,\n          inputWidth: inputLayer.width,\n          inputDepth: inputLayer.depth,\n        },\n      });\n\n      this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas3D, {\n        output: [connectionCount, this.height],\n        constants: {\n          inputWidth: inputLayer.width,\n          inputHeight: inputLayer.height,\n        },\n        immutable: true,\n      });\n\n      this.compareInputDeltasKernel = makeKernel(compareInputDeltas3D, {\n        output: [inputLayer.width, inputLayer.height, inputLayer.depth],\n        constants: {\n          filterCount: this.height,\n        },\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict, {\n        output: [this.width, this.height],\n        constants: {\n          inputHeight: inputLayer.height,\n          inputWidth: inputLayer.width,\n        },\n      });\n\n      this.compareFilterDeltasKernel = makeKernel(compareFilterDeltas, {\n        output: [connectionCount, this.height],\n        constants: {\n          inputWidth: inputLayer.width,\n        },\n      });\n\n      this.compareInputDeltasKernel = makeKernel(compareInputDeltas, {\n        output: [inputLayer.width, inputLayer.height],\n        constants: {\n          filterCount: this.height,\n        },\n      });\n    }\n\n    this.compareBiasesKernel = makeKernel(compareBiases, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(\n      this.inputLayer.weights,\n      this.filters,\n      this.biases\n    );\n  }\n\n  compare() {\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = this.compareInputDeltasKernel(\n      inputLayerDeltas,\n      this.deltas,\n      this.filters\n    );\n    release(inputLayerDeltas);\n\n    const { biasDeltas, filterDeltas } = this;\n    // TODO: handle biasDeltas learn\n    this.biasDeltas = this.compareBiasesKernel(this.biases, this.deltas);\n\n    // TODO: handle filterDeltas learn\n    this.filterDeltas = this.compareFilterDeltasKernel(\n      filterDeltas,\n      this.inputLayer.weights,\n      this.deltas\n    );\n    release(biasDeltas);\n    release(filterDeltas);\n  }\n}\n\nfunction fullyConnected(settings, inputLayer) {\n  return new FullyConnected(settings, inputLayer);\n}\n\nmodule.exports = {\n  FullyConnected,\n  fullyConnected,\n  predict,\n  predict3D,\n  compareInputDeltas,\n  compareInputDeltas3D,\n  compareBiases,\n  compareFilterDeltas,\n  compareFilterDeltas3D,\n};\n","const { makeKernel } = require('../utilities/kernel');\nconst { Modifier } = require('./types');\n\nfunction predict(weights) {\n  return -weights[this.thread.y][this.thread.x];\n}\n\nclass Negative extends Modifier {\n  constructor(settings, inputLayer) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(this.inputLayer.weights);\n  }\n}\n\nfunction negative(settings, inputLayer) {\n  return new Negative(settings, inputLayer);\n}\n\nmodule.exports = { Negative, negative, predict };\n","const { makeKernel, release, clear } = require('../utilities/kernel');\nconst { Operator } = require('./types');\nconst { zeros2D } = require('../utilities/zeros-2d');\nconst { checkSameSize } = require('../utilities/layer-size');\n\nfunction predict(inputLayerWeights1, inputLayerWeights2) {\n  return (\n    inputLayerWeights1[this.thread.y][this.thread.x] *\n    inputLayerWeights2[this.thread.y][this.thread.x]\n  );\n}\n\nfunction compare(weights, deltas) {\n  return (\n    weights[this.thread.y][this.thread.x] * deltas[this.thread.y][this.thread.x]\n  );\n}\n\nclass MultiplyElement extends Operator {\n  constructor(inputLayer1, inputLayer2) {\n    super();\n    this.inputLayer1 = inputLayer1;\n    this.inputLayer2 = inputLayer2;\n\n    this.width = inputLayer1.width;\n    this.height = inputLayer1.height;\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n  }\n\n  validate() {\n    super.validate();\n    checkSameSize(this.inputLayer1, this.inputLayer2);\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n\n    this.compareKernel = makeKernel(compare, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(\n      this.inputLayer1.weights,\n      this.inputLayer2.weights\n    );\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer1.deltas);\n    release(this.inputLayer2.deltas);\n    this.inputLayer1.deltas = this.compareKernel(\n      this.inputLayer2.weights,\n      this.deltas\n    );\n    this.inputLayer2.deltas = this.compareKernel(\n      this.inputLayer1.weights,\n      this.deltas\n    );\n  }\n}\n\nfunction multiplyElement(inputLayer1, inputLayer2) {\n  return new MultiplyElement(inputLayer1, inputLayer2);\n}\n\nmodule.exports = { MultiplyElement, multiplyElement, predict, compare };\n","module.exports = function ones(size) {\n  return new Float32Array(size).fill(1);\n};\n","const ones = require('./ones');\n\nmodule.exports = function ones2D(width, height) {\n  const result = new Array(height);\n  for (let y = 0; y < height; y++) {\n    result[y] = ones(width);\n  }\n  return result;\n};\n","const ones2D = require('../utilities/ones-2d');\nconst { zeros2D } = require('../utilities/zeros-2d');\nconst { Model } = require('./types');\n\nclass Ones extends Model {\n  constructor(settings) {\n    super(settings);\n    this.validate();\n    this.weights = ones2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n  }\n}\n\nfunction ones(settings) {\n  return new Ones(settings);\n}\n\nmodule.exports = {\n  Ones,\n  ones,\n};\n","const { Activation } = require('./activation');\nconst { makeKernel } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/tanh');\nconst { release, clear } = require('../utilities/kernel');\n\nfunction predict2D(inputs) {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nfunction predict3D(inputs) {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nfunction compare2D(weights, errors) {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    errors[this.thread.y][this.thread.x]\n  );\n}\n\nfunction compare3D(weights, errors) {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    errors[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nclass Tanh extends Activation {\n  setupKernels() {\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [this.width, this.height, this.depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [this.width, this.height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [this.width, this.height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = this.compareKernel(this.weights, this.deltas);\n  }\n}\n\nfunction tanh(inputLayer, settings) {\n  return new Tanh(inputLayer, settings);\n}\n\nmodule.exports = { Tanh, tanh, predict2D, predict3D, compare2D, compare3D };\n","const { zeros2D } = require('../utilities/zeros-2d');\nconst { Model } = require('./types');\n\nclass Zeros extends Model {\n  constructor(settings) {\n    super(settings);\n    this.validate();\n    this.weights = zeros2D(this.width, this.height);\n    this.deltas = zeros2D(this.width, this.height);\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n}\n\nfunction zeros(settings) {\n  return new Zeros(settings);\n}\n\nmodule.exports = {\n  Zeros,\n  zeros,\n};\n","const { add } = require('./add');\nconst { negative } = require('./negative');\nconst { multiply } = require('./multiply');\nconst { multiplyElement } = require('./multiply-element');\nconst { ones } = require('./ones');\nconst { sigmoid } = require('./sigmoid');\nconst { random } = require('./random');\nconst { tanh } = require('./tanh');\nconst { zeros } = require('./zeros');\n\nfunction gru(settings, recurrentInput, input) {\n  const { height } = settings;\n  const updateGateWeights = random({ height, width: input.height });\n  const updateGatePeepholes = random({ width: height, height });\n  const updateGateBias = zeros({ height });\n  const updateGate = sigmoid(\n    add(\n      add(\n        multiply(updateGateWeights, input),\n        multiply(updateGatePeepholes, recurrentInput)\n      ),\n      updateGateBias\n    )\n  );\n\n  const resetGateWeights = random({ height, width: input.height });\n  const resetGatePeepholes = random({ width: height, height });\n  const resetGateBias = zeros({ height });\n  const resetGate = sigmoid(\n    add(\n      add(\n        multiply(resetGateWeights, input),\n        multiply(resetGatePeepholes, recurrentInput)\n      ),\n      resetGateBias\n    )\n  );\n\n  const cellWeights = random({ height, width: input.height });\n  const cellPeepholes = random({ width: height, height });\n  const cellBias = zeros({ height });\n  const cell = tanh(\n    add(\n      add(\n        multiply(cellWeights, input),\n        multiply(cellPeepholes, multiplyElement(resetGate, recurrentInput))\n      ),\n      cellBias\n    )\n  );\n\n  // compute hidden state as gated, saturated cell activations\n  // negate updateGate\n  return add(\n    multiplyElement(\n      add(ones(updateGate.rows, updateGate.columns), negative(updateGate)),\n      cell\n    ),\n    multiplyElement(recurrentInput, updateGate)\n  );\n}\n\nmodule.exports = {\n  gru,\n};\n","import { IKernelRunShortcut, KernelOutput } from 'gpu.js';\nimport { EntryPoint } from './types';\nimport { IBaseLayerSettings } from './base-layer';\nimport { zeros2D } from '../utilities/zeros-2d';\nimport {\n  makeKernel,\n  release,\n  kernelInput,\n  clear,\n  clone,\n} from '../utilities/kernel';\n\nexport const defaults: IBaseLayerSettings = {\n  weights: null,\n};\n\nexport class Input extends EntryPoint {\n  reshapeInput: IKernelRunShortcut | null = null;\n  constructor(settings: IBaseLayerSettings) {\n    super({ ...defaults, ...settings });\n    this.validate();\n    this.reshapeInput = null;\n    this.deltas = zeros2D(this.width, this.height);\n  }\n\n  setupKernels(): void {\n    if (this.width === 1) {\n      this.predict = this.predict1D;\n      this.reshapeInput = makeKernel(\n        function (value: number[]) {\n          return value[this.thread.y];\n        },\n        {\n          output: [1, this.height],\n          immutable: true,\n        }\n      );\n    }\n  }\n\n  reuseKernels(layer: Input): void {\n    super.reuseKernels(layer);\n    this.reshapeInput = layer.reshapeInput;\n  }\n\n  predict(inputs: KernelOutput): void {\n    if (\n      (Array.isArray(inputs) || inputs instanceof Float32Array) &&\n      typeof inputs[0] === 'number' &&\n      inputs.length === this.height * this.width\n    ) {\n      release(this.weights);\n      this.weights = kernelInput(inputs as number[], [this.width, this.height]);\n    } else if (\n      Array.isArray(inputs) &&\n      inputs.length === this.height &&\n      (Array.isArray(inputs[0]) || inputs[0] instanceof Float32Array) &&\n      inputs[0].length === this.width\n    ) {\n      this.weights = clone(inputs);\n    } else {\n      throw new Error('Inputs are not of sized correctly');\n    }\n    clear(this.deltas);\n  }\n\n  predict1D(inputs: KernelOutput): void {\n    if (this.weights) release(this.weights);\n    if (this.reshapeInput) {\n      this.weights = this.reshapeInput(inputs);\n    } else {\n      this.weights = inputs;\n    }\n    clear(this.deltas);\n  }\n\n  compare(): void {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  toJSON(): IBaseLayerSettings {\n    return {\n      ...this.settings,\n      weights: null,\n      deltas: null,\n    };\n  }\n}\n\nexport function input(settings: IBaseLayerSettings): Input {\n  return new Input(settings);\n}\n","const { Activation } = require('./types');\nconst { makeKernel, release, clear } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/leaky-relu');\n\nfunction predict2D(inputs) {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nfunction predict3D(inputs) {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nfunction compare2D(weights, deltas) {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    deltas[this.thread.y][this.thread.x]\n  );\n}\n\nfunction compare3D(weights, deltas) {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    deltas[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nclass LeakyRelu extends Activation {\n  setupKernels() {\n    const { width, height, depth } = this.inputLayer;\n    if (this.depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    const { deltas } = this;\n    this.deltas = this.compareKernel(this.weights, deltas);\n    release(deltas);\n  }\n}\n\nfunction leakyRelu(inputLayer, settings) {\n  return new LeakyRelu(inputLayer, settings);\n}\n\nmodule.exports = {\n  LeakyRelu,\n  leakyRelu,\n  predict2D,\n  predict3D,\n  compare2D,\n  compare3D,\n};\n","const { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { multiplyElement } = require('./multiply-element');\nconst { random } = require('./random');\nconst { sigmoid } = require('./sigmoid');\nconst { tanh } = require('./tanh');\nconst { zeros } = require('./zeros');\n\nfunction lstmCell(settings, input, recurrentInput) {\n  const { height } = settings;\n\n  if (recurrentInput.setDimensions) recurrentInput.setDimensions(1, height);\n\n  const inputGateWeights = random({ height, width: input.height, std: 0.08 });\n  const inputGatePeepholes = random({ width: height, height, std: 0.08 });\n  const inputGateBias = zeros({ height });\n  const inputGate = sigmoid(\n    add(\n      add(\n        multiply(inputGateWeights, input),\n        multiply(inputGatePeepholes, recurrentInput)\n      ),\n      inputGateBias\n    )\n  );\n\n  const forgetGateWeights = random({ height, width: input.height, std: 0.08 });\n  const forgetGatePeepholes = random({ width: height, height, std: 0.08 });\n  const forgetGateBias = zeros({ height });\n  const forgetGate = sigmoid(\n    add(\n      add(\n        multiply(forgetGateWeights, input),\n        multiply(forgetGatePeepholes, recurrentInput)\n      ),\n      forgetGateBias\n    )\n  );\n\n  const outputGateWeights = random({ height, width: input.height, std: 0.08 });\n  const outputGatePeepholes = random({ width: height, height, std: 0.08 });\n  const outputGateBias = zeros({ height });\n  const outputGate = sigmoid(\n    add(\n      add(\n        multiply(outputGateWeights, input),\n        multiply(outputGatePeepholes, recurrentInput)\n      ),\n      outputGateBias\n    )\n  );\n\n  const memoryWeights = random({ height, width: input.height, std: 0.08 });\n  const memoryPeepholes = random({ width: height, height, std: 0.08 });\n  const memoryBias = zeros({ height });\n  const memory = tanh(\n    add(\n      add(\n        multiply(memoryWeights, input),\n        multiply(memoryPeepholes, recurrentInput)\n      ),\n      memoryBias\n    )\n  );\n\n  // compute new cell activation\n  const retainCell = multiplyElement(forgetGate, recurrentInput); // what do we keep from cell\n  const writeCell = multiplyElement(inputGate, memory); // what do we write to cell\n  const cell = add(retainCell, writeCell); // new cell contents\n\n  // compute hidden state as gated, saturated cell activations\n  return multiplyElement(outputGate, tanh(cell));\n}\n\nmodule.exports = {\n  lstmCell,\n};\n","const { makeKernel, release, clone, clear } = require('../utilities/kernel');\nconst { zeros } = require('../utilities/zeros');\nconst { zeros2D } = require('../utilities/zeros-2d');\n// const { zeros3D } = require('../utilities/zeros-3d');\nconst { Filter } = require('./types');\n\nfunction compare1D(weights, targetValues) {\n  // return targetValues[this.thread.x] - weights[this.thread.y][this.thread.x];\n  return weights[this.thread.y][this.thread.x] - targetValues[this.thread.x];\n}\n\nfunction compare2D(weights, targetValues) {\n  // return targetValues[this.thread.y][this.thread.x] - weights[this.thread.y][this.thread.x];\n  return (\n    weights[this.thread.y][this.thread.x] -\n    targetValues[this.thread.y][this.thread.x]\n  );\n}\n\nclass Target extends Filter {\n  constructor(settings, inputLayer) {\n    super(settings);\n    this.inputLayer = inputLayer;\n    this.width = inputLayer.width;\n    this.height = inputLayer.height;\n    this.depth = inputLayer.depth;\n    this.validate();\n    if (this.depth) {\n      throw new Error('Target layer not implemented for depth');\n    } else if (this.height) {\n      this.weights = zeros2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n      this.errors = zeros2D(this.width, this.height);\n    } else {\n      this.weights = zeros(this.width);\n      this.deltas = zeros(this.width);\n      this.errors = zeros(this.width);\n    }\n  }\n\n  setupKernels() {\n    const compareFn = this.width === 1 ? compare1D : compare2D;\n    this.compareKernel = makeKernel(compareFn, {\n      output: [this.width, this.height],\n      immutable: true,\n    });\n  }\n\n  predict() {\n    // TODO: should we clone here?\n    // NOTE: this looks like it shouldn't be, but the weights are immutable, and this is where they are reused.\n    release(this.weights);\n    this.weights = clone(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare(targetValues) {\n    // this is where weights attach to deltas\n    // deltas will be zero on learn, so save it in error for comparing to mse later\n    release(this.deltas);\n    release(this.errors);\n    release(this.inputLayer.deltas);\n    this.deltas = this.compareKernel(this.weights, targetValues);\n    this.inputLayer.deltas = clone(this.deltas);\n    this.errors = clone(this.deltas);\n  }\n\n  setupPraxis() {}\n}\n\nfunction target(settings, inputLayer) {\n  return new Target(settings, inputLayer);\n}\n\nmodule.exports = {\n  Target,\n  target,\n};\n","const { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { random } = require('./random');\nconst { target } = require('./target');\n\nfunction output(settings, inputLayer) {\n  const { height } = settings;\n  const outputGate = random({\n    height,\n    width: inputLayer.height,\n    name: 'outputGate',\n    std: 0.08,\n  });\n  const output = random({ height, name: 'output', std: 0.08 });\n  const outputGateConnector = multiply(outputGate, inputLayer, {\n    name: 'outputGateConnected',\n  });\n  return target(\n    { name: 'target', ...settings },\n    add(outputGateConnector, output)\n  );\n}\n\nmodule.exports = {\n  output,\n};\n","const { Filter } = require('./types');\nconst { makeKernel, release } = require('../utilities/kernel');\nconst { setPadding, setStride } = require('../utilities/layer-setup');\nconst { zeros3D } = require('../utilities/zeros-3d');\nconst randos3D = require('../utilities/randos-3d');\n\nfunction setSwitchY(value) {\n  return value;\n}\n\nfunction setSwitchX(value) {\n  return value;\n}\n\nfunction predict(inputs) {\n  const x = Math.floor(\n    (this.thread.x / this.output.x) * this.constants.inputWidth -\n      this.constants.paddingX\n  );\n  const y = Math.floor(\n    (this.thread.y / this.output.y) * this.constants.inputHeight -\n      this.constants.paddingY\n  );\n  let largestValue = -Infinity;\n  let largestX = -1;\n  let largestY = -1;\n\n  // convolve centered at this particular location\n  for (let filterY = 0; filterY < this.constants.filterHeight; filterY++) {\n    // coordinates in the original input array coordinates\n    const inputY = filterY + y;\n    for (let filterX = 0; filterX < this.constants.filterWidth; filterX++) {\n      const inputX = filterX + x;\n      if (\n        inputY >= 0 &&\n        inputY < this.constants.inputHeight &&\n        inputX >= 0 &&\n        inputX < this.constants.inputWidth\n      ) {\n        const input = inputs[this.thread.z][inputY][inputX];\n        if (input > largestValue) {\n          largestValue = input;\n          largestY = inputY;\n          largestX = inputX;\n        }\n      }\n    }\n  }\n  setSwitchY(largestY);\n  setSwitchX(largestX);\n  return largestValue;\n}\n\nfunction compare(deltas, switchY, switchX) {\n  const x = Math.floor(\n    (this.thread.x / this.output.x) * this.constants.outputWidth\n  );\n  const y = Math.floor(\n    (this.thread.y / this.output.y) * this.constants.outputHeight\n  );\n\n  let value = 0;\n\n  for (let deltasY = 0; deltasY < this.constants.inputHeight; deltasY++) {\n    for (let deltasX = 0; deltasX < this.constants.inputWidth; deltasX++) {\n      const switchXValue = switchX[deltasY][deltasX];\n      const switchYValue = switchY[deltasY][deltasX];\n      if (switchXValue === x && switchYValue === y) {\n        value += deltas[deltasY][deltasX];\n      }\n    }\n  }\n\n  return value;\n}\n\nfunction compare3D(deltas, switchY, switchX) {\n  const x = Math.floor(\n    (this.thread.x / this.output.x) * this.constants.outputWidth\n  );\n  const y = Math.floor(\n    (this.thread.y / this.output.y) * this.constants.outputHeight\n  );\n\n  let value = 0;\n\n  for (let deltasY = 0; deltasY < this.constants.inputHeight; deltasY++) {\n    for (let deltasX = 0; deltasX < this.constants.inputWidth; deltasX++) {\n      const switchXValue = switchX[this.thread.z][deltasY][deltasX];\n      const switchYValue = switchY[this.thread.z][deltasY][deltasX];\n      if (switchXValue === x && switchYValue === y) {\n        value += deltas[this.thread.z][deltasY][deltasX];\n      }\n    }\n  }\n\n  return value;\n}\n\nclass Pool extends Filter {\n  static get defaults() {\n    return {\n      padding: 0,\n      bias: 0,\n      filterWidth: 0,\n      filterHeight: 0,\n      filterCount: 0,\n    };\n  }\n\n  constructor(settings, inputLayer) {\n    super(settings);\n\n    this.stride = null;\n    this.strideX = null;\n    this.strideY = null;\n    setStride(this, settings);\n\n    this.padding = null;\n    this.paddingX = null;\n    this.paddingY = null;\n    setPadding(this, settings);\n\n    this.filterCount = settings.filterCount;\n    this.filterWidth = settings.filterWidth;\n    this.filterHeight = settings.filterHeight;\n\n    this.width = Math.floor(\n      (inputLayer.width + this.paddingX * 2 - this.filterWidth) / this.strideX +\n        1\n    );\n    this.height = Math.floor(\n      (inputLayer.height + this.paddingY * 2 - this.filterHeight) /\n        this.strideY +\n        1\n    );\n    // TODO: handle 1 depth?\n    this.depth = this.filterCount;\n\n    this.weights = randos3D(this.width, this.height, this.depth);\n    this.deltas = zeros3D(this.width, this.height, this.depth);\n\n    this.filters = randos3D(\n      this.filterWidth,\n      this.filterHeight,\n      this.filterCount\n    );\n    this.filterDeltas = zeros3D(\n      this.filterWidth,\n      this.filterHeight,\n      this.filterCount\n    );\n\n    this.learnFilters = null;\n    this.learnInputs = null;\n    this.inputLayer = inputLayer;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.width, this.height, this.depth],\n      map: {\n        switchX: setSwitchX,\n        switchY: setSwitchY,\n      },\n      constants: {\n        inputWidth: this.inputLayer.width,\n        inputHeight: this.inputLayer.height,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n        filterHeight: this.filterHeight,\n        filterWidth: this.filterWidth,\n      },\n    });\n\n    this.compareKernel = makeKernel(compare, {\n      output: [\n        this.inputLayer.width,\n        this.inputLayer.height,\n        this.inputLayer.depth,\n      ],\n      constants: {\n        outputWidth: this.width,\n        outputHeight: this.height,\n        outputDepth: this.depth,\n        paddingX: this.paddingX,\n        paddingY: this.paddingY,\n      },\n    });\n  }\n\n  predict() {\n    const { result: weights, switchX, switchY } = this.predictKernel(\n      this.inputLayer.weights\n    );\n    this.switchX = switchX;\n    this.switchY = switchY;\n    this.weights = weights;\n    return this.weights;\n  }\n\n  compare() {\n    // debugger;\n    // const depth = this.inputLayer.deltas.length;\n    // const height = this.inputLayer.deltas[0].length;\n    // const width = this.inputLayer.deltas[0][0].length;\n    // const type = typeof this.inputLayer.deltas[0][0][0];\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = this.compareKernel(\n      this.deltas,\n      this.switchX,\n      this.switchY\n    );\n    release(inputLayerDeltas);\n    // debugger;\n    // if (depth !== this.inputLayer.deltas.length) debugger;\n    // if (height !== this.inputLayer.deltas[0].length) debugger;\n    // if (width !== this.inputLayer.deltas[0][0].length) debugger;\n    // if (type !== typeof this.inputLayer.deltas[0][0][0]) debugger;\n  }\n}\n\nfunction pool(settings, inputLayer) {\n  return new Pool(settings, inputLayer);\n}\n\nmodule.exports = { Pool, pool, predict, compare, compare3D };\n","const { Activation } = require('./types');\nconst { makeKernel, release, clear } = require('../utilities/kernel');\nconst { activate, measure } = require('../activation/relu');\n// const { zeros2D } = require('../utilities/zeros-2d');\n\nfunction predict2D(inputs) {\n  return activate(inputs[this.thread.y][this.thread.x]);\n}\n\nfunction compare2D(weights, deltas) {\n  return measure(\n    weights[this.thread.y][this.thread.x],\n    deltas[this.thread.y][this.thread.x]\n  );\n}\n\nfunction predict3D(inputs) {\n  return activate(inputs[this.thread.z][this.thread.y][this.thread.x]);\n}\n\nfunction compare3D(weights, deltas) {\n  return measure(\n    weights[this.thread.z][this.thread.y][this.thread.x],\n    deltas[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nclass Relu extends Activation {\n  setupKernels() {\n    const { width, height, depth } = this.inputLayer;\n    if (depth > 0) {\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        functions: [measure],\n        immutable: true,\n      });\n    } else {\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n        functions: [activate],\n        immutable: true,\n      });\n\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        functions: [measure],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    release(this.weights);\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    release(this.inputLayer.deltas);\n    this.inputLayer.deltas = this.compareKernel(this.weights, this.deltas);\n  }\n}\n\nfunction relu(inputLayer, settings) {\n  return new Relu(inputLayer, settings);\n}\n\nmodule.exports = { Relu, relu, predict2D, compare2D, predict3D, compare3D };\n","const { relu } = require('./relu');\nconst { add } = require('./add');\nconst { multiply } = require('./multiply');\nconst { random } = require('./random');\nconst { zeros } = require('./zeros');\n\nfunction rnnCell(settings, input, recurrentInput) {\n  const { height } = settings;\n\n  if (recurrentInput.setDimensions) recurrentInput.setDimensions(1, height);\n\n  // wxh\n  const weight = random({\n    name: 'weight',\n    height,\n    width: input.height,\n    std: 0.08,\n  });\n  // whh\n  const transition = random({\n    name: 'transition',\n    height,\n    width: height,\n    std: 0.08,\n  });\n  // bhh\n  const bias = zeros({ name: 'bias', height });\n\n  return relu(\n    add(\n      add(multiply(weight, input), multiply(transition, recurrentInput)),\n      bias\n    )\n  );\n}\n\nmodule.exports = {\n  rnnCell,\n};\n","const { BaseLayer } = require('./base-layer');\n\nclass Regression extends BaseLayer {\n  constructor(settings) {\n    super(settings);\n    this.validate();\n  }\n\n  predict() {\n    this.weights = this.inputs;\n  }\n\n  learn() {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n}\n\nfunction learn(inputs, targets) {\n  return inputs[this.thread.x] - targets[this.thread.x];\n}\n\n// TODO: handle `loss += 0.5*dy*dy;` total and sum in learn\nfunction regression(settings, inputLayer) {\n  return new Regression(settings, inputLayer);\n}\n\nmodule.exports = {\n  Regression,\n  regression,\n  learn,\n};\n","const { makeKernel, release, clone } = require('../utilities/kernel');\nconst { Filter } = require('./types');\nconst randos = require('../utilities/randos');\nconst randos2D = require('../utilities/randos-2d');\nconst randos3D = require('../utilities/randos-3d');\nconst { zeros } = require('../utilities/zeros');\nconst { zeros2D } = require('../utilities/zeros-2d');\nconst { zeros3D } = require('../utilities/zeros-3d');\n\nfunction getMaxValue(inputs) {\n  let maxInput = -Infinity;\n  for (let x = 0; x < this.constants.inputWidth; x++) {\n    const input = inputs[x];\n    if (input > maxInput) {\n      maxInput = input;\n    }\n  }\n  return maxInput;\n}\n\nfunction getMaxValue2D(inputs) {\n  let maxInput = -Infinity;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      const input = inputs[y][x];\n      if (input > maxInput) {\n        maxInput = input;\n      }\n    }\n  }\n  return maxInput;\n}\n\nfunction getMaxValue3D(inputs) {\n  let maxInput = -Infinity;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        const input = inputs[z][y][x];\n        if (input > maxInput) {\n          maxInput = input;\n        }\n      }\n    }\n  }\n  return maxInput;\n}\n\nfunction getSum(inputs) {\n  let sum = 0;\n  for (let x = 0; x < this.constants.inputWidth; x++) {\n    sum += inputs[x];\n  }\n  return sum;\n}\n\nfunction getSum2D(inputs) {\n  let sum = 0;\n  for (let y = 0; y < this.constants.inputHeight; y++) {\n    for (let x = 0; x < this.constants.inputWidth; x++) {\n      sum += inputs[y][x];\n    }\n  }\n  return sum;\n}\n\nfunction getSum3D(inputs) {\n  let sum = 0;\n  for (let z = 0; z < this.constants.inputDepth; z++) {\n    for (let y = 0; y < this.constants.inputHeight; y++) {\n      for (let x = 0; x < this.constants.inputWidth; x++) {\n        sum += inputs[z][y][x];\n      }\n    }\n  }\n  return sum;\n}\n\nfunction getExponentials(inputs, maxInput) {\n  return Math.exp(inputs[this.thread.x] - maxInput[0]);\n}\n\nfunction getExponentials2D(inputs, maxInput) {\n  return Math.exp(inputs[this.thread.y][this.thread.x] - maxInput[0]);\n}\n\nfunction getExponentials3D(inputs, maxInput) {\n  return Math.exp(\n    inputs[this.thread.z][this.thread.y][this.thread.x] - maxInput[0]\n  );\n}\n\nfunction predict(exponentials, exponentialsSum) {\n  return exponentials[this.thread.x] / exponentialsSum[0];\n}\n\nfunction predict2D(exponentials, exponentialsSum) {\n  return exponentials[this.thread.y][this.thread.x] / exponentialsSum[0];\n}\n\nfunction predict3D(exponentials, exponentialsSum) {\n  return (\n    exponentials[this.thread.z][this.thread.y][this.thread.x] /\n    exponentialsSum[0]\n  );\n}\n\nfunction compare(target, exponentials) {\n  let indicator = 0;\n  if (this.thread.x === target) {\n    indicator = 1;\n  }\n  return -(indicator - exponentials[this.thread.x]);\n}\n\nfunction compare2D(target, exponentials) {\n  let indicator = 0;\n  const index = this.thread.x + this.thread.y * this.output.x;\n  if (index === target) {\n    indicator = 1;\n  }\n  return -(indicator - exponentials[this.thread.y][this.thread.x]);\n}\n\nfunction compare3D(target, exponentials) {\n  let indicator = 0;\n  const index =\n    this.thread.x +\n    this.thread.y * this.output.x +\n    this.thread.z * this.output.x * this.output.y;\n  if (index === target) {\n    indicator = 1;\n  }\n  return -(\n    indicator - exponentials[this.thread.z][this.thread.y][this.thread.x]\n  );\n}\n\nfunction loss() {\n  return -Math.log();\n}\n\n// TODO: handle: `return -Math.log(this.es[y]);` in learn\n\nclass SoftMax extends Filter {\n  constructor(inputLayer) {\n    super();\n    this.width = inputLayer.width;\n    this.height = inputLayer.height;\n    this.depth = inputLayer.depth;\n    this.getExponentialsKernel = null;\n    this.getMaxValueKernel = null;\n    this.getSumKernel = null;\n    this.inputLayer = inputLayer;\n    this.validate();\n\n    if (this.depth > 0) {\n      this.weights = randos3D(this.width, this.height, this.depth);\n      this.deltas = zeros3D(this.width, this.height, this.depth);\n    } else if (this.height > 0) {\n      this.weights = randos2D(this.width, this.height);\n      this.deltas = zeros2D(this.width, this.height);\n    } else {\n      this.weights = randos(this.width);\n      this.deltas = zeros(this.width);\n    }\n  }\n\n  setupKernels() {\n    const { width, height, depth } = this;\n    if (depth > 0) {\n      this.getExponentialsKernel = makeKernel(getExponentials3D, {\n        output: [width, height, depth],\n      });\n      this.getMaxValueKernel = makeKernel(getMaxValue3D, {\n        output: [1, 1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n          inputDepth: depth,\n        },\n      });\n      this.getSumKernel = makeKernel(getSum3D, {\n        output: [1, 1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n          inputDepth: depth,\n        },\n      });\n      this.predictKernel = makeKernel(predict3D, {\n        output: [width, height, depth],\n      });\n      this.compareKernel = makeKernel(compare3D, {\n        output: [width, height, depth],\n        immutable: true,\n      });\n    } else {\n      this.getExponentialsKernel = makeKernel(getExponentials, {\n        output: [width, height],\n      });\n      this.getMaxValueKernel = makeKernel(getMaxValue2D, {\n        output: [1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n        },\n      });\n      this.getSumKernel = makeKernel(getSum2D, {\n        output: [1, 1],\n        constants: {\n          inputWidth: width,\n          inputHeight: height,\n        },\n      });\n      this.predictKernel = makeKernel(predict2D, {\n        output: [width, height],\n      });\n      this.compareKernel = makeKernel(compare2D, {\n        output: [width, height],\n        immutable: true,\n      });\n    }\n  }\n\n  predict() {\n    const maxValue = this.getMaxValueKernel(this.inputLayer.weights);\n    const exponentials = this.getExponentialsKernel(\n      this.inputLayer.weights,\n      maxValue\n    );\n    const exponentialsSum = this.getSumKernel(exponentials);\n    this.weights = this.predictKernel(exponentials, exponentialsSum);\n  }\n\n  compare(targetValues) {\n    const { deltas, errors } = this;\n    this.errors = this.compareKernel(targetValues[0], deltas);\n    this.deltas = clone(this.errors);\n    release(deltas);\n    release(errors);\n\n    const inputLayerDeltas = this.inputLayer.deltas;\n    this.inputLayer.deltas = clone(this.deltas);\n    release(inputLayerDeltas);\n  }\n}\n\nfunction softMax(settings, inputLayer) {\n  return new SoftMax(settings, inputLayer);\n}\n\nmodule.exports = {\n  SoftMax,\n  softMax,\n  getMaxValue,\n  getMaxValue2D,\n  getMaxValue3D,\n  getSum,\n  getSum2D,\n  getSum3D,\n  getExponentials,\n  getExponentials2D,\n  getExponentials3D,\n  predict,\n  predict2D,\n  predict3D,\n  compare,\n  compare2D,\n  compare3D,\n  loss,\n};\n","const { BaseLayer } = require('./base-layer');\n\nclass SVM extends BaseLayer {\n  predict() {\n    this.weights = this.inputs;\n    this.validate();\n  }\n\n  learn() {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n}\n\n// function learn(target) {\n//   if (y === i) {\n//     continue;\n//   }\n//   const ydiff = -yscore + x.w[i] + margin;\n//   if (ydiff > 0) {\n//     // violating dimension, apply loss\n//     x.dw[i] += 1;\n//     x.dw[y] -= 1;\n//     loss += ydiff;\n//   }\n// }\n\nfunction svm(settings, inputLayer) {\n  return new SVM(settings, inputLayer);\n}\n\nmodule.exports = {\n  SVM,\n  svm,\n};\n","const { Modifier } = require('./types');\nconst { makeKernel, clear } = require('../utilities/kernel');\n\nfunction predict(array) {\n  return array[this.thread.x][this.thread.y];\n}\n\nconst compare = predict;\n\nclass Transpose extends Modifier {\n  constructor(inputLayer) {\n    super();\n    this.inputLayer = inputLayer;\n    this.width = this.inputLayer.height;\n    this.height = this.inputLayer.width;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(predict, {\n      output: [this.height, this.width],\n    });\n    this.compareKernel = makeKernel(compare, {\n      output: [this.width, this.height],\n    });\n  }\n\n  predict() {\n    this.weights = this.predictKernel(this.inputLayer.weights);\n    clear(this.deltas);\n  }\n\n  compare() {\n    // TODO: needs switched to this.compareKernel?\n    this.inputLayer.deltas = this.predictKernel(this.deltas);\n  }\n}\n\nfunction transpose(inputLayer) {\n  return new Transpose(inputLayer);\n}\n\nmodule.exports = {\n  Transpose,\n  transpose,\n};\n","import { Activation } from './activation';\nimport { Operator } from './operator';\nimport {\n  Internal,\n  InternalModel,\n  EntryPoint,\n  Filter,\n  Model,\n  Modifier,\n} from './types';\n\nexport { Add, add } from './add';\nexport { arthurFeedForward } from './arthur-feed-forward';\nexport { BaseLayer } from './base-layer';\nexport { Convolution, convolution } from './convolution';\nexport { Dropout, dropout } from './dropout';\nexport { feedForward } from './feed-forward';\nexport { FullyConnected, fullyConnected } from './fully-connected';\nexport { gru } from './gru';\nexport { Input, input } from './input';\nexport { LeakyRelu, leakyRelu } from './leaky-relu';\nexport { lstmCell } from './lstm-cell';\nexport { Multiply, multiply } from './multiply';\nexport { MultiplyElement, multiplyElement } from './multiply-element';\nexport { Negative, negative } from './negative';\nexport { Ones, ones } from './ones';\nexport { output } from './output';\nexport { Pool, pool } from './pool';\nexport { Random, random } from './random';\nexport { rnnCell } from './rnn-cell';\nexport { Regression, regression } from './regression';\nexport { Relu, relu } from './relu';\nexport { Sigmoid, sigmoid } from './sigmoid';\nexport { SoftMax, softMax } from './soft-max';\nexport { SVM, svm } from './svm';\nexport { Tanh, tanh } from './tanh';\nexport { Target, target } from './target';\nexport { Transpose, transpose } from './transpose';\nexport { Zeros, zeros } from './zeros';\n\nexport const layerTypes = {\n  Activation,\n  Operator,\n  Internal,\n  InternalModel,\n  EntryPoint,\n  Filter,\n  Model,\n  Modifier,\n};\n","const layer = require('../layer');\n\nmodule.exports = function layerFromJSON(jsonLayer) {\n  if (!layer.hasOwnProperty(jsonLayer.type)) return null;\n  const Layer = layer[jsonLayer.type];\n\n  // eslint-disable-next-line\n  const realLayer = Reflect.construct(Layer, arguments)\n\n  Object.keys(jsonLayer).forEach((p) => {\n    if (p !== 'type') {\n      realLayer[p] = jsonLayer[p];\n    }\n  });\n\n  return realLayer;\n};\n","// TODO: implement and test\nclass Adam {}\n\nfunction adam() {\n  // gradient = grad_fun(theta)\n  //\n  //           # Update moment estimates\n  // moment1 = beta1 * moment1 + (1 - beta1) * gradient\n  // moment2 = beta2 * moment2 + (1 - beta2) * np.square(gradient)\n  //\n  //           # Yield adapted gradient\n  // theta = ( theta - alpha * (1 - beta2**t)**0.5 / (1 - beta1**t) *\n  //   moment1 / (epsilon + np.sqrt(moment2)) )\n  // yield theta\n  // t += 1\n  // adam update\n  // gsumi[j] = gsumi[j] * this.beta1 + (1- this.beta1) * gij; // update biased first moment estimate\n  // xsumi[j] = xsumi[j] * this.beta2 + (1-this.beta2) * gij * gij; // update biased second moment estimate\n  // var biasCorr1 = gsumi[j] * (1 - Math.pow(this.beta1, this.k)); // correct bias first moment estimate\n  // var biasCorr2 = xsumi[j] * (1 - Math.pow(this.beta2, this.k)); // correct bias second moment estimate\n  // var dx =  - this.learning_rate * biasCorr1 / (Math.sqrt(biasCorr2) + this.eps);\n  // p[j] += dx;\n}\n\nmodule.exports = {\n  Adam,\n  adam,\n};\n","const { makeKernel, release } = require('../utilities/kernel');\nconst { zeros2D } = require('../utilities/zeros-2d');\n\nconst { Base } = require('./base-praxis');\n\nfunction getMomentum(delta, decay, previousMomentum) {\n  return previousMomentum * decay + (1 - decay) * delta * delta;\n}\n\nfunction clipByValue(value, max, min) {\n  if (value > max) {\n    return max;\n  }\n  if (value < min) {\n    return min;\n  }\n  return value;\n}\n\n/**\n * @description Momentum Root Mean Square Propagation Function\n * @returns {number}\n */\nfunction update(weights, deltas, previousMomenta) {\n  const delta = deltas[this.thread.y][this.thread.x];\n  const clippedDelta = clipByValue(\n    delta,\n    this.constants.clipValue,\n    -this.constants.clipValue\n  );\n  const weight = weights[this.thread.y][this.thread.x];\n  const previousMomentum = previousMomenta[this.thread.y][this.thread.x];\n  const momentum = getMomentum(\n    delta,\n    this.constants.decayRate,\n    previousMomentum\n  );\n  return (\n    weight +\n    (-this.constants.learningRate * clippedDelta) /\n      Math.sqrt(momentum + this.constants.smoothEps) -\n    this.constants.regularizationStrength * weight\n  );\n}\n\nfunction isClippedByValue(value, max, min) {\n  if (value > max) {\n    return 1;\n  }\n  if (value < min) {\n    return 1;\n  }\n  return 0;\n}\n\nclass MomentumRootMeanSquaredPropagation extends Base {\n  static get defaults() {\n    return {\n      decayRate: 0.999,\n      regularizationStrength: 0.0001,\n      learningRate: 0.01,\n      smoothEps: 1e-8,\n      clipValue: 5,\n    };\n  }\n\n  constructor(layerTemplate, settings = {}) {\n    super(layerTemplate, settings);\n    this.momenta = zeros2D(layerTemplate.width, layerTemplate.height);\n  }\n\n  run(layer) {\n    const { momenta, result } = this.kernel(\n      layer.weights,\n      layer.deltas,\n      this.momenta\n    );\n    release(this.momenta);\n    this.momenta = momenta;\n    return result;\n  }\n\n  setupKernels() {\n    this.kernel = makeKernel(update, {\n      output: [this.width, this.height],\n      constants: {\n        clipValue: this.clipValue,\n        decayRate: this.decayRate,\n        learningRate: this.learningRate,\n        regularizationStrength: this.regularizationStrength,\n        smoothEps: this.smoothEps,\n      },\n      functions: [clipByValue],\n      map: {\n        momenta: getMomentum,\n      },\n      immutable: true,\n    });\n  }\n}\n\nfunction momentumRootMeanSquaredPropagation(layer, settings) {\n  return new MomentumRootMeanSquaredPropagation(layer, settings);\n}\n\n/**\n * @description Mathematician friendly name of MomentumRootMeanSquaredPropagation class. For those that are not mere mortals\n * @type {MomentumRootMeanSquaredPropagation}\n */\nconst MRmsProp = MomentumRootMeanSquaredPropagation;\nconst mRmsProp = momentumRootMeanSquaredPropagation;\n\nmodule.exports = {\n  MomentumRootMeanSquaredPropagation,\n  momentumRootMeanSquaredPropagation,\n  MRmsProp,\n  mRmsProp,\n  getMomentum,\n  clipByValue,\n  isClippedByValue,\n};\n","module.exports = function traverseLayersFrom(layer, cb) {\n  if (layer.hasOwnProperty('inputLayer')) {\n    traverseLayersFrom(layer.inputLayer, cb);\n  } else {\n    if (layer.hasOwnProperty('inputLayer1')) {\n      traverseLayersFrom(layer.inputLayer1, cb);\n    }\n    if (layer.hasOwnProperty('inputLayer2')) {\n      traverseLayersFrom(layer.inputLayer2, cb);\n    }\n  }\n  cb(layer);\n};\n","const traverseLayersFrom = require('./traverse-layers-from');\n\nmodule.exports = function flattenLayers(layers) {\n  const result = layers.slice(0);\n  for (let i = 0; i < result.length; i++) {\n    let offset = 0;\n    traverseLayersFrom(result[i], (layer) => {\n      if (result.indexOf(layer) === -1) {\n        result.splice(i + offset, 0, layer);\n        offset++;\n      }\n    });\n  }\n  return result;\n};\n","import {\n  IKernelRunShortcut,\n  KernelFunction,\n  IKernelFunctionThis,\n} from 'gpu.js';\nimport { makeKernel } from '../utilities/kernel';\n\ninterface mse2dThis extends IKernelFunctionThis {\n  constants: { height: number; width: number; length: number };\n}\n\n/**\n * 2D Mean Squared Error\n */\nexport function mse2d(\n  this: mse2dThis,\n  errors: Array<[number, number]>\n): number {\n  let sum = 0;\n  for (let y = 0; y < this.constants.height; y++) {\n    for (let x = 0; x < this.constants.width; x++) {\n      sum += errors[y][x] ** 2;\n    }\n  }\n  return sum / this.constants.length;\n}\n\nexport class MeanSquaredError {\n  /** Calculate the mean squared error given an array of errors */\n  calculate: IKernelRunShortcut;\n  /** Returns the sum of absolute values of previuous error and previous layer errors */\n  addAbsolute: IKernelRunShortcut;\n  /** Adds two erros */\n  add: IKernelRunShortcut;\n  /** Returns the ratio of sum of errors and length (ie the average) */\n  divide: IKernelRunShortcut;\n\n  constructor({ width, height }: { width: number; height: number }) {\n    this.calculate = makeKernel(mse2d as KernelFunction, {\n      output: [1],\n      constants: {\n        width,\n        height,\n        length: width * height,\n      },\n      immutable: true,\n    });\n\n    this.addAbsolute = makeKernel(\n      function (prevError: number[], prevLayerErrors: number[][]) {\n        return prevError[0] + Math.abs(prevLayerErrors[0][0]);\n      } as KernelFunction,\n      {\n        output: [1],\n        immutable: true,\n      }\n    );\n\n    this.add = makeKernel(\n      function (value1: number[], value2: number[]) {\n        return value1[0] + value2[0];\n      } as KernelFunction,\n      {\n        output: [1],\n        immutable: true,\n      }\n    );\n\n    this.divide = makeKernel(\n      function (length: number, mseSum: number[]) {\n        const value = mseSum[0];\n        if (value > 0) {\n          return value / length;\n        }\n        return 0;\n      } as KernelFunction,\n      {\n        output: [1],\n        immutable: true,\n      }\n    );\n  }\n}\n","const lookup = require('./lookup');\nconst layerFromJSON = require('./utilities/layer-from-json');\nconst praxis = require('./praxis');\nconst flattenLayers = require('./utilities/flatten-layers');\nconst { makeKernel, release } = require('./utilities/kernel');\nconst { MeanSquaredError } = require('./estimator/mean-squared-error');\nconst { Model } = require('./layer/types');\n\nclass FeedForward {\n  static get trainDefaults() {\n    return {\n      iterations: 20000,\n      errorThresh: 0.005,\n      log: false,\n      logPeriod: 10,\n      learningRate: 0.3,\n      callback: null,\n      callbackPeriod: 10,\n      errorCheckInterval: 100,\n      reinforce: false,\n    };\n  }\n\n  static get defaults() {\n    return {\n      learningRate: 0.3,\n      binaryThresh: 0.5,\n      hiddenLayers: null,\n      inputLayer: null,\n      outputLayer: null,\n      praxisOpts: null,\n      praxis: (layer, settings) =>\n        praxis.momentumRootMeanSquaredPropagation(\n          { ...layer },\n          layer.praxisOpts || settings\n        ),\n    };\n  }\n\n  /**\n   *\n   * @param options\n   * @private\n   */\n  static _validateTrainingOptions(options) {\n    const validations = {\n      iterations: (val) => typeof val === 'number' && val > 0,\n      errorThresh: (val) => typeof val === 'number' && val > 0 && val < 1,\n      log: (val) => typeof val === 'function' || typeof val === 'boolean',\n      logPeriod: (val) => typeof val === 'number' && val > 0,\n      learningRate: (val) => typeof val === 'number' && val > 0 && val < 1,\n      callback: (val) => typeof val === 'function' || val === null,\n      callbackPeriod: (val) => typeof val === 'number' && val > 0,\n      timeout: (val) => typeof val === 'number' && val > 0,\n    };\n    Object.keys(FeedForward.trainDefaults).forEach((key) => {\n      if (validations.hasOwnProperty(key) && !validations[key](options[key])) {\n        throw new Error(\n          `[${key}, ${options[key]}] is out of normal training range, your network will probably not train.`\n        );\n      }\n    });\n  }\n\n  /**\n   *\n   * @param log\n   * if a method is passed in method is used\n   * if false passed in nothing is logged\n   * @returns error\n   */\n  _setLogMethod(log) {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      // eslint-disable-next-line\n      this.trainOpts.log = console.log;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  /**\n   *\n   * @param opts\n   *    Supports all `trainDefaults` properties\n   *    also supports:\n   *       learningRate: (number)\n   */\n  _updateTrainingOptions(opts) {\n    Object.keys(this.constructor.trainDefaults).forEach((opt) => {\n      this.trainOpts[opt] = opts.hasOwnProperty(opt)\n        ? opts[opt]\n        : this.trainOpts[opt];\n    });\n    this.constructor._validateTrainingOptions(this.trainOpts);\n    this._setLogMethod(opts.log || this.trainOpts.log);\n    if (\n      this.trainOpts.callback &&\n      this.trainOpts.callbackPeriod !== this.trainOpts.errorCheckInterval\n    ) {\n      console.warn(\n        `options.callbackPeriod with value of ${this.trainOpts.callbackPeriod} does not match options.errorCheckInterval with value of ${this.trainOpts.errorCheckInterval}, if logging error, it will repeat.  These values may need to match`\n      );\n    }\n  }\n\n  static get structure() {\n    return {\n      layers: null,\n      _inputLayer: null,\n      _outputLayer: null,\n      _model: null,\n    };\n  }\n\n  /**\n   *\n   * @param {object} options\n   * @constructor\n   */\n  constructor(options = {}) {\n    this.layers = null;\n    this.inputLayer = null;\n    this.hiddenLayers = null;\n    this.outputLayer = null;\n    this.praxisOpts = null;\n    this.praxis = null;\n    Object.assign(this, this.constructor.defaults, options);\n    this.trainOpts = {};\n    this._updateTrainingOptions({\n      ...this.constructor.trainDefaults,\n      ...options,\n    });\n    Object.assign(this, this.constructor.structure);\n    this._inputLayer = null;\n    this._hiddenLayers = null;\n    this._outputLayer = null;\n  }\n\n  _connectLayers() {\n    const layers = [];\n    this._inputLayer = this.inputLayer();\n    const hiddenLayers = this._connectHiddenLayers(this._inputLayer);\n    this._outputLayer = this.outputLayer(\n      hiddenLayers[hiddenLayers.length - 1],\n      hiddenLayers.length\n    );\n    layers.push(this._inputLayer);\n    layers.push(...hiddenLayers);\n    layers.push(this._outputLayer);\n    this.layers = flattenLayers(layers);\n  }\n\n  _connectHiddenLayers(previousLayer) {\n    this._hiddenLayers = [];\n    const hiddenLayers = [];\n    for (let i = 0; i < this.hiddenLayers.length; i++) {\n      const hiddenLayer = this.hiddenLayers[i](previousLayer, i);\n      hiddenLayers.push(hiddenLayer);\n      this._hiddenLayers.push(hiddenLayer);\n      previousLayer = hiddenLayer;\n    }\n    return hiddenLayers;\n  }\n\n  initialize() {\n    this._connectLayers();\n    this.initializeLayers(this.layers);\n    this._model = this.layers.filter((l) => l instanceof Model);\n  }\n\n  initializeLayers(layers) {\n    for (let i = 0; i < layers.length; i++) {\n      const layer = layers[i];\n      // TODO: optimize for when training or just running\n      layer.setupKernels(true);\n      if (\n        layer instanceof Model &&\n        layer.hasOwnProperty('praxis') &&\n        layer.praxis === null\n      ) {\n        layer.praxis = this.praxis(layer, layer.praxisOpts || this.praxisOpts);\n        layer.praxis.setupKernels();\n      }\n    }\n\n    const lastLayer = layers[layers.length - 1];\n    this.meanSquaredError = new MeanSquaredError({\n      width: lastLayer.width,\n      height: lastLayer.height,\n    });\n    // this._getMSE = makeKernel(mse2d, {\n    //   output: [1],\n    //   constants: {\n    //     width: this._outputLayer.width,\n    //     height: this._outputLayer.height,\n    //     length: this._outputLayer.width * this._outputLayer.height,\n    //   }\n    // });\n    // this._addMSE = makeKernel(function(value1, value2) {\n    //   return value1[0] + value2[0];\n    // }, {\n    //   output: [1]\n    // });\n    // this._divideMSESum = makeKernel(function(length, mseSum) {\n    //   const value = mseSum[0];\n    //   if (value > 0) {\n    //     return value / length;\n    //   }\n    //   return 0;\n    // }, {\n    //   output: [1]\n    // });\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  run(input) {\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input);\n    }\n\n    let output = this.runInput(input);\n\n    if (output.toArray) {\n      output = output.toArray();\n    }\n\n    if (this.outputLookup) {\n      output = lookup.toHash(this.outputLookup, output);\n    }\n    return output;\n  }\n\n  runInput(input) {\n    this.layers[0].predict(input);\n    for (let i = 1; i < this.layers.length; i++) {\n      this.layers[i].predict();\n    }\n    return this.layers[this.layers.length - 1].weights;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @returns {{error: number, iterations: number}}\n   */\n  train(data, options = {}) {\n    let status;\n    let endTime;\n    ({ data, status, endTime } = this._prepTraining(data, options));\n\n    while (this._trainingTick(data, status, endTime));\n    return status;\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} status { iterations: number, error: number }\n   * @param {Number} endTime\n   */\n  _trainingTick(data, status, endTime) {\n    if (\n      status.iterations >= this.trainOpts.iterations ||\n      status.error <= this.trainOpts.errorThresh ||\n      Date.now() >= endTime\n    ) {\n      return false;\n    }\n\n    if (\n      this.trainOpts.log &&\n      status.iterations % this.trainOpts.logPeriod === 0\n    ) {\n      status.error = this._calculateTrainingError(data);\n      this.trainOpts.log(\n        `iterations: ${status.iterations}, training error: ${status.error}`\n      );\n    } else if (status.iterations % this.trainOpts.errorCheckInterval === 0) {\n      status.error = this._calculateTrainingError(data);\n    } else {\n      this._trainPatterns(data);\n    }\n\n    if (\n      this.trainOpts.callback &&\n      status.iterations % this.trainOpts.callbackPeriod === 0\n    ) {\n      this.trainOpts.callback(Object.assign(status));\n    }\n\n    status.iterations++;\n    return true;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return { data, status, endTime }\n   */\n  _prepTraining(data, options) {\n    this._updateTrainingOptions(options);\n\n    const formattedData = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized();\n\n    return {\n      data: this.transferData(formattedData),\n      status,\n      endTime,\n    };\n  }\n\n  verifyIsInitialized() {\n    if (!this._model) {\n      this.initialize();\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {Number} error\n   */\n  _calculateTrainingError(data) {\n    let sum = new Float32Array([0]);\n    for (let i = 0; i < data.length; ++i) {\n      const prevSum = sum;\n      const error = this._trainPattern(data[i].input, data[i].output, true);\n      sum = this.meanSquaredError.add(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = this.meanSquaredError.divide(data.length, sum);\n    release(sum);\n    if (result.toArray) {\n      const resultArray = result.toArray();\n      release(result);\n      return resultArray[0];\n    }\n    return result[0];\n  }\n\n  /**\n   * @param data\n   * @private\n   */\n  _trainPatterns(data) {\n    for (let i = 0; i < data.length; ++i) {\n      this._trainPattern(data[i].input, data[i].output, false);\n    }\n  }\n\n  /**\n   *\n   * @param input\n   * @param target\n   * @param {Boolean} logErrorRate\n   */\n  _trainPattern(input, target, logErrorRate) {\n    // forward propagate\n    this.runInput(input);\n\n    // back propagate\n    this._calculateDeltas(target);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return this.meanSquaredError.calculate(this._outputLayer.errors);\n    }\n    return null;\n  }\n\n  _calculateDeltas(target) {\n    for (let i = this.layers.length - 1; i > -1; i--) {\n      this.layers[i].compare(target);\n    }\n  }\n\n  /**\n   *\n   */\n  adjustWeights() {\n    const { _model } = this;\n    for (let i = 0; i < _model.length; i++) {\n      _model[i].learn(this.trainOpts.learningRate);\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {*}\n   */\n  formatData(data) {\n    if (!Array.isArray(data)) {\n      // turn stream datum into array\n      const tmp = [];\n      tmp.push(data);\n      data = tmp;\n    }\n\n    // turn sparse hash input into arrays with 0s as filler\n    const inputDatumCheck = data[0].input;\n    if (\n      !Array.isArray(inputDatumCheck) &&\n      !(inputDatumCheck instanceof Float32Array)\n    ) {\n      if (!this.inputLookup) {\n        this.inputLookup = lookup.buildLookup(data.map((value) => value.input));\n      }\n      data = data.map((datumParam) => {\n        const array = lookup.toArray(this.inputLookup, datumParam.input);\n        return { ...datumParam, input: array };\n      }, this);\n    }\n\n    const outputDatumCheck = data[0].output;\n    if (\n      !Array.isArray(outputDatumCheck) &&\n      !(outputDatumCheck instanceof Float32Array)\n    ) {\n      if (!this.outputLookup) {\n        this.outputLookup = lookup.buildLookup(\n          data.map((value) => value.output)\n        );\n      }\n      data = data.map((datumParam) => {\n        const array = lookup.toArray(this.outputLookup, datumParam.output);\n        return { ...datumParam, output: array };\n      }, this);\n    }\n    return data;\n  }\n\n  transferData(formattedData) {\n    const transferredData = new Array(formattedData.length);\n    const transferInput = makeKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [formattedData[0].input.length],\n        immutable: true,\n      }\n    );\n    const transferOutput = makeKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [formattedData[0].output.length],\n        immutable: true,\n      }\n    );\n\n    for (let i = 0; i < formattedData.length; i++) {\n      const formattedDatum = formattedData[i];\n      transferredData[i] = {\n        input: transferInput(formattedDatum.input),\n        output: transferOutput(formattedDatum.output),\n      };\n    }\n    return transferredData;\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {\n   *  {\n   *    error: number,\n   *    misclasses: Array\n   *  }\n   * }\n   */\n  test() {\n    throw new Error(`${this.constructor.name}-test is not yet implemented`);\n  }\n\n  /**\n   *\n   */\n  toJSON() {\n    if (!this.layers) {\n      this.initialize();\n    }\n    const jsonLayers = [];\n    for (let i = 0; i < this.layers.length; i++) {\n      const layer = this.layers[i];\n      const jsonLayer = layer.toJSON();\n      if (layer.hasOwnProperty('inputLayer')) {\n        jsonLayer.inputLayerIndex = this.layers.indexOf(layer.inputLayer);\n      } else if (\n        layer.hasOwnProperty('inputLayer1') &&\n        layer.hasOwnProperty('inputLayer2')\n      ) {\n        jsonLayer.inputLayer1Index = this.layers.indexOf(layer.inputLayer1);\n        jsonLayer.inputLayer2Index = this.layers.indexOf(layer.inputLayer2);\n      }\n      jsonLayers.push(jsonLayer);\n    }\n\n    return {\n      type: this.constructor.name,\n      sizes: [this._inputLayer.height]\n        .concat(this._hiddenLayers.map((l) => l.height))\n        .concat([this._outputLayer.height]),\n      layers: jsonLayers,\n    };\n  }\n\n  /**\n   *\n   * @param json\n   * @param [getLayer]\n   * @returns {FeedForward}\n   */\n  static fromJSON(json, getLayer) {\n    const jsonLayers = json.layers;\n    const layers = [];\n    const inputLayer = layerFromJSON(jsonLayers[0]) || getLayer(jsonLayers[0]);\n    layers.push(inputLayer);\n\n    for (let i = 1; i < jsonLayers.length; i++) {\n      const jsonLayer = jsonLayers[i];\n      if (jsonLayer.hasOwnProperty('inputLayerIndex')) {\n        const inputLayer1 = layers[jsonLayer.inputLayerIndex];\n        layers.push(\n          layerFromJSON(jsonLayer, inputLayer1) ||\n            getLayer(jsonLayer, inputLayer1)\n        );\n      } else {\n        if (!jsonLayer.hasOwnProperty('inputLayer1Index'))\n          throw new Error(\n            'Cannot create network from provided JOSN. inputLayer1Index not defined.'\n          );\n        if (!jsonLayer.hasOwnProperty('inputLayer2Index'))\n          throw new Error(\n            'Cannot create network from provided JOSN. inputLayer2Index not defined.'\n          );\n        const inputLayer1 = layers[jsonLayer.inputLayer1Index];\n        const inputLayer2 = layers[jsonLayer.inputLayer2Index];\n\n        if (inputLayer1 === undefined)\n          throw new Error(\n            `Cannot create network from provided JOSN. layer of index ${jsonLayer.inputLayer1Index} not found.`\n          );\n        if (inputLayer2 === undefined)\n          throw new Error(\n            `Cannot create network from provided JOSN. layer of index ${jsonLayer.inputLayer2Index} not found.`\n          );\n\n        layers.push(\n          layerFromJSON(jsonLayer, inputLayer) ||\n            getLayer(jsonLayer, inputLayer1, inputLayer2)\n        );\n      }\n    }\n\n    const net = new FeedForward(json);\n    net.layers = layers;\n    return net;\n  }\n\n  /**\n   *\n   * @returns {Function}\n   */\n  toFunction() {\n    throw new Error(\n      `${this.constructor.name}-toFunction is not yet implemented`\n    );\n  }\n\n  /**\n   * This will create a TrainStream (WriteStream) for us to send the training data to.\n   * @param opts training options\n   * @returns {TrainStream|*}\n   */\n  createTrainStream() {\n    throw new Error(\n      `${this.constructor.name}-createTrainStream is not yet implemented`\n    );\n  }\n}\n\nmodule.exports = {\n  FeedForward,\n};\n","/**\n *\n * @param {*} input\n * @param {brain.NeuralNetwork} net\n * @returns {*}\n */\nmodule.exports = function likely(input, net) {\n  if (!net) {\n    throw new TypeError(\n      `Required parameter 'net' is of type ${typeof net}. Must be of type 'brain.NeuralNetwork'`\n    );\n  }\n\n  const output = net.run(input);\n  let maxProp = null;\n  let maxValue = -1;\n\n  Object.keys(output).forEach((key) => {\n    const value = output[key];\n    if (value > maxValue) {\n      maxProp = key;\n      maxValue = value;\n    }\n  });\n\n  return maxProp;\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thaw = exports.Thaw = void 0;\n/**\n * thaw an array of items\n */\nvar Thaw = /** @class */ (function () {\n    function Thaw(items, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        var _a = __assign(__assign({}, Thaw.defaultSettings), options), each = _a.each, done = _a.done;\n        this.i = 0;\n        this.isStopped = false;\n        this.items = items;\n        this.options = options;\n        this.tick = function () {\n            if (_this.isStopped)\n                return;\n            _this.timeout = setTimeout(_this.tick, 0);\n            if (Thaw.thawing)\n                return;\n            var item = _this.items[_this.i];\n            if (_this.i >= _this.items.length) {\n                if (done !== null) {\n                    Thaw.thawing = true;\n                    done();\n                    Thaw.thawing = false;\n                }\n                _this.isStopped = true;\n                clearTimeout(_this.timeout);\n                return;\n            }\n            if (each !== null) {\n                Thaw.thawing = true;\n                each(item, _this.i);\n                Thaw.thawing = false;\n            }\n            else if (item !== undefined) {\n                item();\n            }\n            _this.i++;\n        };\n        Thaw.thaws.push(this);\n        if (!options.delay) {\n            this.tick();\n        }\n    }\n    Object.defineProperty(Thaw, \"isThawing\", {\n        /**\n         * returns if Thaw.js is thawing\n         */\n        get: function () {\n            return Thaw.thawing;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Stops all Thaw instances\n     */\n    Thaw.stopAll = function () {\n        for (var i = 0; i < Thaw.thaws.length; i++) {\n            Thaw.thaws[i].stop();\n        }\n    };\n    /**\n     * readies thaw to continue\n     */\n    Thaw.prototype.makeReady = function () {\n        if (this.isStopped) {\n            this.isStopped = false;\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Adds an item to the end of this instance of Thaw and readies Thaw to process it\n     */\n    Thaw.prototype.add = function (item) {\n        this.items.push(item);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Inserts an item just after the current item being processed in Thaw and readies Thaw to process it\n     */\n    Thaw.prototype.insert = function (item) {\n        this.items.splice(this.i, 0, item);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Adds an Array to the end of this instance of Thaw and readies Thaw to process it\n     */\n    Thaw.prototype.addArray = function (items) {\n        this.items = this.items.concat(items);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Inserts an Array just after the current item being processed in Thaw and readies Thaw to process them\n     */\n    Thaw.prototype.insertArray = function (items) {\n        var before = this.items.splice(0, this.i);\n        var after = this.items;\n        this.items = before.concat(items, after);\n        if (this.makeReady()) {\n            this.tick();\n        }\n        return this;\n    };\n    /**\n     * Stops this instance of Thaw\n     */\n    Thaw.prototype.stop = function () {\n        this.isStopped = true;\n        clearTimeout(this.timeout);\n        if (this.options.done) {\n            this.options.done();\n        }\n        return this;\n    };\n    Thaw.thawing = false;\n    Thaw.thaws = [];\n    Thaw.defaultSettings = {\n        each: null,\n        done: null\n    };\n    return Thaw;\n}());\nexports.Thaw = Thaw;\n/**\n * simple thaw\n */\nfunction thaw(items, options) {\n    return new Thaw(items, options);\n}\nexports.thaw = thaw;\n//# sourceMappingURL=thaw.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Block = void 0;\nvar thaw_1 = require(\"./thaw\");\nvar Block = /** @class */ (function () {\n    function Block(options, count) {\n        if (count === void 0) { count = 200; }\n        this.index = 0;\n        this.thaws = [];\n        this.count = count;\n        this.options = options;\n    }\n    /**\n     * add an item to the end of items\n     */\n    Block.prototype.add = function (item) {\n        var next = this.next();\n        next.add(item);\n        return this;\n    };\n    /**\n     * add an Array to the end of items\n     */\n    Block.prototype.addArray = function (items) {\n        var next = this.next();\n        next.addArray(items);\n        return this;\n    };\n    /**\n     * insert an item into items @ current position\n     */\n    Block.prototype.insert = function (item) {\n        var next = this.next();\n        next.insert(item);\n        return this;\n    };\n    /**\n     * insert and array into items @ current position\n     */\n    Block.prototype.insertArray = function (items) {\n        var next = this.next();\n        next.insertArray(items);\n        return this;\n    };\n    /**\n     * Stops all thaws in this block\n     */\n    Block.prototype.stop = function () {\n        for (var i = 0; i < this.thaws.length; i++) {\n            this.thaws[i].stop();\n        }\n        return this;\n    };\n    /**\n     * Get next available in block\n     */\n    Block.prototype.next = function () {\n        var thaw;\n        var thaws = this.thaws;\n        if (thaws.length < this.count) {\n            thaw = new thaw_1.Thaw([], this.options);\n            thaws.push(thaw);\n        }\n        else {\n            thaw = thaws[this.index] || null;\n        }\n        this.index++;\n        if (this.index >= this.count) {\n            this.index = 0;\n        }\n        return thaw;\n    };\n    return Block;\n}());\nexports.Block = Block;\n//# sourceMappingURL=block.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Block = exports.thaw = exports.Thaw = void 0;\nvar thaw_1 = require(\"./thaw\");\nObject.defineProperty(exports, \"Thaw\", { enumerable: true, get: function () { return thaw_1.Thaw; } });\nObject.defineProperty(exports, \"thaw\", { enumerable: true, get: function () { return thaw_1.thaw; } });\nvar block_1 = require(\"./block\");\nObject.defineProperty(exports, \"Block\", { enumerable: true, get: function () { return block_1.Block; } });\nif (typeof window !== 'undefined') {\n    // @ts-ignore\n    window.Thaw = thaw_1.Thaw;\n    // @ts-ignore\n    window.thaw = thaw_1.thaw;\n    // @ts-ignore\n    window.Thaw.Block = block_1.Block;\n}\n//# sourceMappingURL=index.js.map","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","/**\n *\n * @param values\n * @returns {*}\n */\nmodule.exports = function toArray(values) {\n  if (Array.isArray(values)) {\n    return values;\n  }\n  return new Float32Array(Object.values(values));\n};\n","const toArray = require('./to-array');\n/**\n *\n * @param values\n * @returns {number}\n */\nmodule.exports = function max(values) {\n  return Math.max(...toArray(values));\n};\n","module.exports = function mse(errors) {\n  // mean squared error\n  let sum = 0;\n  for (let i = 0; i < errors.length; i++) {\n    sum += errors[i] ** 2;\n  }\n  return sum / errors.length;\n};\n","/**\n *\n * @param start\n * @param end\n * @returns {Array}\n */\nmodule.exports = function range(start, end) {\n  const result = [];\n  for (; start < end; start++) {\n    result.push(start);\n  }\n  return result;\n};\n","function LookupTable(data, prop) {\n  this.length = 0;\n  if (prop) {\n    this.prop = prop;\n    const table = (this.table = {});\n    for (let i = 0; i < data.length; i++) {\n      const datum = data[i];\n      const object = datum[prop];\n      for (const p in object) {\n        if (table.hasOwnProperty(p)) continue;\n        table[p] = this.length++;\n      }\n    }\n  } else if (Array.isArray(data[0])) {\n    const table = (this.table = {});\n    for (let i = 0; i < data.length; i++) {\n      const array = data[i];\n      for (let j = 0; j < array.length; j++) {\n        const object = array[j];\n        for (const p in object) {\n          if (table.hasOwnProperty(p)) continue;\n          table[p] = this.length++;\n        }\n      }\n    }\n  } else {\n    const table = (this.table = {});\n    for (let i = 0; i < data.length; i++) {\n      const object = data[i];\n      for (const p in object) {\n        if (table.hasOwnProperty(p)) continue;\n        table[p] = this.length++;\n      }\n    }\n  }\n}\n\nmodule.exports = LookupTable;\n","export function arraysToFloat32Arrays(arrays: number[][]): Float32Array[] {\n  const result: Float32Array[] = [];\n  for (let i = 0; i < arrays.length; i++) {\n    result.push(Float32Array.from(arrays[i]));\n  }\n  return result;\n}\n\nexport function arrayToFloat32Arrays(array: number[]): Float32Array[] {\n  const result: Float32Array[] = [];\n  for (let i = 0; i < array.length; i++) {\n    result.push(Float32Array.from([array[i]]));\n  }\n  return result;\n}\n\nexport function arrayToFloat32Array(array: number[]): Float32Array {\n  return Float32Array.from(array);\n}\n\nexport function objectsToFloat32Arrays(\n  objects: Array<Record<string, number>>,\n  table: Record<string, number>,\n  length: number\n): Float32Array[] {\n  const results: Float32Array[] = [];\n  for (let i = 0; i < objects.length; i++) {\n    const object = objects[i];\n    const result = new Float32Array(length);\n    for (const p in object) {\n      if (object.hasOwnProperty(p)) {\n        result[table[p]] = object[p];\n      }\n    }\n    results.push(result);\n  }\n  return results;\n}\n\nexport function objectToFloat32Arrays(\n  object: Record<string, number>\n): Float32Array[] {\n  const result: Float32Array[] = [];\n  for (const p in object) {\n    result.push(Float32Array.from([object[p]]));\n  }\n  return result;\n}\n\nexport function objectToFloat32Array(\n  object: Record<string, number>,\n  table: Record<string, number>,\n  length: number\n): Float32Array {\n  const result = new Float32Array(length);\n  for (const p in object) {\n    if (object.hasOwnProperty(p)) {\n      result[table[p]] = object[p];\n    }\n  }\n  return result;\n}\n","const { Thaw } = require('thaw.js');\nconst lookup = require('./lookup');\n// const TrainStream = require('./train-stream');\nconst max = require('./utilities/max');\nconst mse = require('./utilities/mse');\nconst randos = require('./utilities/randos');\nconst range = require('./utilities/range');\nconst toArray = require('./utilities/to-array');\nconst { zeros } = require('./utilities/zeros');\nconst LookupTable = require('./utilities/lookup-table');\nconst { arrayToFloat32Array } = require('./utilities/cast');\n\nfunction getTypedArrayFn(value, table) {\n  if (value.buffer instanceof ArrayBuffer) {\n    return null;\n  }\n  if (Array.isArray(value)) {\n    return arrayToFloat32Array;\n  }\n  const { length } = Object.keys(table);\n  return (v) => {\n    const array = new Float32Array(length);\n    for (const p in table) {\n      array[table[p]] = v[p] || 0;\n    }\n    return array;\n  };\n}\n\n/**\n * @param {object} options\n * @constructor\n */\nclass NeuralNetwork {\n  static get trainDefaults() {\n    return {\n      iterations: 20000, // the maximum times to iterate the training data\n      errorThresh: 0.005, // the acceptable error percentage from training data\n      log: false, // true to use console.log, when a function is supplied it is used\n      logPeriod: 10, // iterations between logging out\n      learningRate: 0.3, // multiply's against the input and the delta then adds to momentum\n      momentum: 0.1, // multiply's against the specified \"change\" then adds to learning rate for change\n      callback: null, // a periodic call back that can be triggered while training\n      callbackPeriod: 10, // the number of iterations through the training data between callback calls\n      timeout: Infinity, // the max number of milliseconds to train for\n      praxis: null,\n      beta1: 0.9,\n      beta2: 0.999,\n      epsilon: 1e-8,\n    };\n  }\n\n  static get defaults() {\n    return {\n      leakyReluAlpha: 0.01,\n      binaryThresh: 0.5,\n      hiddenLayers: null, // array of ints for the sizes of the hidden layers in the network\n      activation: 'sigmoid', // Supported activation types ['sigmoid', 'relu', 'leaky-relu', 'tanh']\n    };\n  }\n\n  constructor(options = {}) {\n    Object.assign(this, this.constructor.defaults, options);\n    this.trainOpts = {};\n    this.updateTrainingOptions({\n      ...this.constructor.trainDefaults,\n      ...options,\n    });\n\n    this.sizes = null;\n    this.outputLayer = null;\n    this.biases = null; // weights for bias nodes\n    this.weights = null;\n    this.outputs = null;\n\n    // state for training\n    this.deltas = null;\n    this.changes = null; // for momentum\n    this.errors = null;\n    this.errorCheckInterval = 1;\n    if (!this.constructor.prototype.hasOwnProperty('runInput')) {\n      this.runInput = null;\n    }\n    if (!this.constructor.prototype.hasOwnProperty('calculateDeltas')) {\n      this.calculateDeltas = null;\n    }\n    this.inputLookup = null;\n    this.inputLookupLength = null;\n    this.outputLookup = null;\n    this.outputLookupLength = null;\n\n    if (options.inputSize && options.hiddenLayers && options.outputSize) {\n      this.sizes = [options.inputSize]\n        .concat(options.hiddenLayers)\n        .concat([options.outputSize]);\n    }\n  }\n\n  /**\n   *\n   * Expects this.sizes to have been set\n   */\n  initialize() {\n    if (!this.sizes) throw new Error('Sizes must be set before initializing');\n\n    this.outputLayer = this.sizes.length - 1;\n    this.biases = []; // weights for bias nodes\n    this.weights = [];\n    this.outputs = [];\n\n    // state for training\n    this.deltas = [];\n    this.changes = []; // for momentum\n    this.errors = [];\n\n    for (let layer = 0; layer <= this.outputLayer; layer++) {\n      const size = this.sizes[layer];\n      this.deltas[layer] = zeros(size);\n      this.errors[layer] = zeros(size);\n      this.outputs[layer] = zeros(size);\n\n      if (layer > 0) {\n        this.biases[layer] = randos(size);\n        this.weights[layer] = new Array(size);\n        this.changes[layer] = new Array(size);\n\n        for (let node = 0; node < size; node++) {\n          const prevSize = this.sizes[layer - 1];\n          this.weights[layer][node] = randos(prevSize);\n          this.changes[layer][node] = zeros(prevSize);\n        }\n      }\n    }\n\n    this.setActivation();\n    if (this.trainOpts.praxis === 'adam') {\n      this._setupAdam();\n    }\n  }\n\n  /**\n   *\n   * @param activation supported inputs: 'sigmoid', 'relu', 'leaky-relu', 'tanh'\n   */\n  setActivation(activation) {\n    this.activation = activation || this.activation;\n    switch (this.activation) {\n      case 'sigmoid':\n        this.runInput = this.runInput || this._runInputSigmoid;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasSigmoid;\n        break;\n      case 'relu':\n        this.runInput = this.runInput || this._runInputRelu;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasRelu;\n        break;\n      case 'leaky-relu':\n        this.runInput = this.runInput || this._runInputLeakyRelu;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasLeakyRelu;\n        break;\n      case 'tanh':\n        this.runInput = this.runInput || this._runInputTanh;\n        this.calculateDeltas =\n          this.calculateDeltas || this._calculateDeltasTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n  }\n\n  /**\n   *\n   * @returns boolean\n   */\n  get isRunnable() {\n    if (!this.runInput) {\n      console.error(\n        'Activation function has not been initialized, did you run train()?'\n      );\n      return false;\n    }\n\n    const checkFns = [\n      'sizes',\n      'outputLayer',\n      'biases',\n      'weights',\n      'outputs',\n      'deltas',\n      'changes',\n      'errors',\n    ].filter((c) => this[c] === null);\n\n    if (checkFns.length > 0) {\n      console.error(\n        `Some settings have not been initialized correctly, did you run train()? Found issues with: ${checkFns.join(\n          ', '\n        )}`\n      );\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  run(input) {\n    if (!this.isRunnable) return null;\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input, this.inputLookupLength);\n    }\n\n    let output = this.runInput(input).slice(0);\n\n    if (this.outputLookup) {\n      output = lookup.toObject(this.outputLookup, output);\n    }\n    return output;\n  }\n\n  /**\n   * trains via sigmoid\n   * @param input\n   * @returns {*}\n   */\n  _runInputSigmoid(input) {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const activeLayer = this.sizes[layer];\n      const activeWeights = this.weights[layer];\n      const activeBiases = this.biases[layer];\n      const activeOutputs = this.outputs[layer];\n      for (let node = 0; node < activeLayer; node++) {\n        const weights = activeWeights[node];\n\n        let sum = activeBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // sigmoid\n        activeOutputs[node] = 1 / (1 + Math.exp(-sum));\n      }\n      output = input = this.outputs[layer];\n    }\n    return output;\n  }\n\n  _runInputRelu(input) {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const currentSize = this.sizes[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentOutputs = this.outputs[layer];\n      for (let node = 0; node < currentSize; node++) {\n        const weights = currentWeights[node];\n\n        let sum = currentBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // relu\n        currentOutputs[node] = sum < 0 ? 0 : sum;\n      }\n      output = input = currentOutputs;\n    }\n    return output;\n  }\n\n  _runInputLeakyRelu(input) {\n    this.outputs[0] = input; // set output state of input layer\n    const alpha = this.leakyReluAlpha;\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const currentSize = this.sizes[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentOutputs = this.outputs[layer];\n      for (let node = 0; node < currentSize; node++) {\n        const weights = currentWeights[node];\n\n        let sum = currentBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // leaky relu\n        currentOutputs[node] = sum < 0 ? 0 : alpha * sum;\n      }\n      output = input = currentOutputs;\n    }\n    return output;\n  }\n\n  _runInputTanh(input) {\n    this.outputs[0] = input; // set output state of input layer\n\n    let output = null;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const currentSize = this.sizes[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentOutputs = this.outputs[layer];\n      for (let node = 0; node < currentSize; node++) {\n        const weights = currentWeights[node];\n\n        let sum = currentBiases[node];\n        for (let k = 0; k < weights.length; k++) {\n          sum += weights[k] * input[k];\n        }\n        // tanh\n        currentOutputs[node] = Math.tanh(sum);\n      }\n      output = input = currentOutputs;\n    }\n    return output;\n  }\n\n  /**\n   *\n   * @param data\n   * Verifies network sizes are initialized\n   * If they are not it will initialize them based off the data set.\n   */\n  verifyIsInitialized(data) {\n    if (this.sizes) return;\n\n    this.sizes = [];\n    this.sizes.push(data[0].input.length);\n    if (!this.hiddenLayers) {\n      this.sizes.push(Math.max(3, Math.floor(data[0].input.length / 2)));\n    } else {\n      this.hiddenLayers.forEach((size) => {\n        this.sizes.push(size);\n      });\n    }\n    this.sizes.push(data[0].output.length);\n\n    this.initialize();\n  }\n\n  /**\n   *\n   * @param options\n   *    Supports all `trainDefaults` properties\n   *    also supports:\n   *       learningRate: (number),\n   *       momentum: (number),\n   *       activation: 'sigmoid', 'relu', 'leaky-relu', 'tanh'\n   */\n  updateTrainingOptions(options) {\n    const { trainDefaults } = this.constructor;\n    for (const p in trainDefaults) {\n      if (!trainDefaults.hasOwnProperty(p)) continue;\n      this.trainOpts[p] = options.hasOwnProperty(p)\n        ? options[p]\n        : trainDefaults[p];\n    }\n    this.validateTrainingOptions(this.trainOpts);\n    this.setLogMethod(options.log || this.trainOpts.log);\n    this.activation = options.activation || this.activation;\n  }\n\n  /**\n   *\n   * @param options\n   */\n  validateTrainingOptions(options) {\n    const validations = {\n      iterations: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n      errorThresh: (val) => {\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      log: (val) => {\n        return typeof val === 'function' || typeof val === 'boolean';\n      },\n      logPeriod: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n      learningRate: (val) => {\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      momentum: (val) => {\n        return typeof val === 'number' && val > 0 && val < 1;\n      },\n      callback: (val) => {\n        return typeof val === 'function' || val === null;\n      },\n      callbackPeriod: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n      timeout: (val) => {\n        return typeof val === 'number' && val > 0;\n      },\n    };\n    for (const p in validations) {\n      if (!validations.hasOwnProperty(p)) continue;\n      if (!options.hasOwnProperty(p)) continue;\n      if (!validations[p](options[p])) {\n        throw new Error(\n          `[${p}, ${options[p]}] is out of normal training range, your network will probably not train.`\n        );\n      }\n    }\n  }\n\n  /**\n   *\n   *  Gets JSON of trainOpts object\n   *    NOTE: Activation is stored directly on JSON object and not in the training options\n   */\n  getTrainOptsJSON() {\n    return Object.keys(this.constructor.trainDefaults).reduce((opts, opt) => {\n      if (opt === 'timeout' && this.trainOpts[opt] === Infinity) return opts;\n      if (opt === 'callback') return opts;\n      if (this.trainOpts[opt]) opts[opt] = this.trainOpts[opt];\n      if (opt === 'log') opts.log = typeof opts.log === 'function';\n      return opts;\n    }, {});\n  }\n\n  /**\n   *\n   * @param log\n   * if a method is passed in method is used\n   * if false passed in nothing is logged\n   * @returns error\n   */\n  setLogMethod(log) {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      this.trainOpts.log = this.logTrainingStatus;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  /**\n   *\n   * @param status\n   * log training status\n   */\n  logTrainingStatus(status) {\n    console.log(\n      `iterations: ${status.iterations}, training error: ${status.error}`\n    );\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {Number} error\n   */\n  calculateTrainingError(data) {\n    let sum = 0;\n    for (let i = 0; i < data.length; ++i) {\n      sum += this.trainPattern(data[i], true);\n    }\n    return sum / data.length;\n  }\n\n  /**\n   * @param data\n   */\n  trainPatterns(data) {\n    for (let i = 0; i < data.length; ++i) {\n      this.trainPattern(data[i]);\n    }\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} status { iterations: number, error: number }\n   * @param endTime\n   */\n  trainingTick(data, status, endTime) {\n    const {\n      callback,\n      callbackPeriod,\n      errorThresh,\n      iterations,\n      log,\n      logPeriod,\n    } = this.trainOpts;\n\n    if (\n      status.iterations >= iterations ||\n      status.error <= errorThresh ||\n      Date.now() >= endTime\n    ) {\n      return false;\n    }\n\n    status.iterations++;\n\n    if (log && status.iterations % logPeriod === 0) {\n      status.error = this.calculateTrainingError(data);\n      log(status);\n    } else if (status.iterations % this.errorCheckInterval === 0) {\n      status.error = this.calculateTrainingError(data);\n    } else {\n      this.trainPatterns(data);\n    }\n\n    if (callback && status.iterations % callbackPeriod === 0) {\n      callback({\n        iterations: status.iterations,\n        error: status.error,\n      });\n    }\n    return true;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return {object} { data, status, endTime }\n   */\n  prepTraining(data, options) {\n    this.updateTrainingOptions(options);\n    data = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized(data);\n\n    return {\n      data,\n      status,\n      endTime,\n    };\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @returns {object} {error: number, iterations: number}\n   */\n  train(data, options = {}) {\n    let status;\n    let endTime;\n\n    ({ data, status, endTime } = this.prepTraining(data, {\n      ...this.trainOpts,\n      ...options,\n    }));\n\n    while (this.trainingTick(data, status, endTime));\n    return status;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @returns {Promise}\n   * @resolves {{error: number, iterations: number}}\n   * @rejects {{trainError: string, status: {error: number, iterations: number}}\n   */\n  trainAsync(data, options = {}) {\n    let status;\n    let endTime;\n    ({ data, status, endTime } = this.prepTraining(data, options));\n\n    return new Promise((resolve, reject) => {\n      try {\n        const thawedTrain = new Thaw(new Array(this.trainOpts.iterations), {\n          delay: true,\n          each: () =>\n            this.trainingTick(data, status, endTime) || thawedTrain.stop(),\n          done: () => resolve(status),\n        });\n        thawedTrain.tick();\n      } catch (trainError) {\n        console.log(JSON.stringify(trainError));\n        reject(new Error({ trainError, status }));\n      }\n    });\n  }\n\n  /**\n   *\n   * @param {object} value\n   * @param {boolean} [logErrorRate]\n   */\n  trainPattern(value, logErrorRate) {\n    // forward propagate\n    this.runInput(value.input);\n\n    // back propagate\n    this.calculateDeltas(value.output);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return mse(this.errors[this.outputLayer]);\n    }\n    return null;\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasSigmoid(target) {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const activeSize = this.sizes[layer];\n      const activeOutput = this.outputs[layer];\n      const activeError = this.errors[layer];\n      const activeDeltas = this.deltas[layer];\n      const nextLayer = this.weights[layer + 1];\n\n      for (let node = 0; node < activeSize; node++) {\n        const output = activeOutput[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          const deltas = this.deltas[layer + 1];\n          for (let k = 0; k < deltas.length; k++) {\n            error += deltas[k] * nextLayer[k][node];\n          }\n        }\n        activeError[node] = error;\n        activeDeltas[node] = error * output * (1 - output);\n      }\n    }\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasRelu(target) {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextWeights = this.weights[layer + 1];\n      const nextDeltas = this.deltas[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = output > 0 ? error : 0;\n      }\n    }\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasLeakyRelu(target) {\n    const alpha = this.leakyReluAlpha;\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextDeltas = this.deltas[layer + 1];\n      const nextWeights = this.weights[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = output > 0 ? error : alpha * error;\n      }\n    }\n  }\n\n  /**\n   *\n   * @param target\n   */\n  _calculateDeltasTanh(target) {\n    for (let layer = this.outputLayer; layer >= 0; layer--) {\n      const currentSize = this.sizes[layer];\n      const currentOutputs = this.outputs[layer];\n      const nextDeltas = this.deltas[layer + 1];\n      const nextWeights = this.weights[layer + 1];\n      const currentErrors = this.errors[layer];\n      const currentDeltas = this.deltas[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const output = currentOutputs[node];\n\n        let error = 0;\n        if (layer === this.outputLayer) {\n          error = target[node] - output;\n        } else {\n          for (let k = 0; k < nextDeltas.length; k++) {\n            error += nextDeltas[k] * nextWeights[k][node];\n          }\n        }\n        currentErrors[node] = error;\n        currentDeltas[node] = (1 - output * output) * error;\n      }\n    }\n  }\n\n  /**\n   *\n   * Changes weights of networks\n   */\n  adjustWeights() {\n    const { learningRate, momentum } = this.trainOpts;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const incoming = this.outputs[layer - 1];\n      const activeSize = this.sizes[layer];\n      const activeDelta = this.deltas[layer];\n      const activeChanges = this.changes[layer];\n      const activeWeights = this.weights[layer];\n      const activeBiases = this.biases[layer];\n\n      for (let node = 0; node < activeSize; node++) {\n        const delta = activeDelta[node];\n\n        for (let k = 0; k < incoming.length; k++) {\n          let change = activeChanges[node][k];\n\n          change = learningRate * delta * incoming[k] + momentum * change;\n\n          activeChanges[node][k] = change;\n          activeWeights[node][k] += change;\n        }\n        activeBiases[node] += learningRate * delta;\n      }\n    }\n  }\n\n  _setupAdam() {\n    this.biasChangesLow = [];\n    this.biasChangesHigh = [];\n    this.changesLow = [];\n    this.changesHigh = [];\n    this.iterations = 0;\n\n    for (let layer = 0; layer <= this.outputLayer; layer++) {\n      const size = this.sizes[layer];\n      if (layer > 0) {\n        this.biasChangesLow[layer] = zeros(size);\n        this.biasChangesHigh[layer] = zeros(size);\n        this.changesLow[layer] = new Array(size);\n        this.changesHigh[layer] = new Array(size);\n\n        for (let node = 0; node < size; node++) {\n          const prevSize = this.sizes[layer - 1];\n          this.changesLow[layer][node] = zeros(prevSize);\n          this.changesHigh[layer][node] = zeros(prevSize);\n        }\n      }\n    }\n\n    this.adjustWeights = this._adjustWeightsAdam;\n  }\n\n  _adjustWeightsAdam() {\n    this.iterations++;\n\n    const { iterations } = this;\n    const { beta1, beta2, epsilon, learningRate } = this.trainOpts;\n\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const incoming = this.outputs[layer - 1];\n      const currentSize = this.sizes[layer];\n      const currentDeltas = this.deltas[layer];\n      const currentChangesLow = this.changesLow[layer];\n      const currentChangesHigh = this.changesHigh[layer];\n      const currentWeights = this.weights[layer];\n      const currentBiases = this.biases[layer];\n      const currentBiasChangesLow = this.biasChangesLow[layer];\n      const currentBiasChangesHigh = this.biasChangesHigh[layer];\n\n      for (let node = 0; node < currentSize; node++) {\n        const delta = currentDeltas[node];\n\n        for (let k = 0; k < incoming.length; k++) {\n          const gradient = delta * incoming[k];\n          const changeLow =\n            currentChangesLow[node][k] * beta1 + (1 - beta1) * gradient;\n          const changeHigh =\n            currentChangesHigh[node][k] * beta2 +\n            (1 - beta2) * gradient * gradient;\n\n          const momentumCorrection =\n            changeLow / (1 - Math.pow(beta1, iterations));\n          const gradientCorrection =\n            changeHigh / (1 - Math.pow(beta2, iterations));\n\n          currentChangesLow[node][k] = changeLow;\n          currentChangesHigh[node][k] = changeHigh;\n          currentWeights[node][k] +=\n            (learningRate * momentumCorrection) /\n            (Math.sqrt(gradientCorrection) + epsilon);\n        }\n\n        const biasGradient = currentDeltas[node];\n        const biasChangeLow =\n          currentBiasChangesLow[node] * beta1 + (1 - beta1) * biasGradient;\n        const biasChangeHigh =\n          currentBiasChangesHigh[node] * beta2 +\n          (1 - beta2) * biasGradient * biasGradient;\n\n        const biasMomentumCorrection =\n          currentBiasChangesLow[node] / (1 - Math.pow(beta1, iterations));\n        const biasGradientCorrection =\n          currentBiasChangesHigh[node] / (1 - Math.pow(beta2, iterations));\n\n        currentBiasChangesLow[node] = biasChangeLow;\n        currentBiasChangesHigh[node] = biasChangeHigh;\n        currentBiases[node] +=\n          (learningRate * biasMomentumCorrection) /\n          (Math.sqrt(biasGradientCorrection) + epsilon);\n      }\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {*}\n   */\n  formatData(data) {\n    if (!Array.isArray(data)) {\n      // turn stream datum into array\n      data = [data];\n    }\n\n    if (!Array.isArray(data[0].input)) {\n      if (this.inputLookup) {\n        this.inputLookupLength = Object.keys(this.inputLookup).length;\n      } else {\n        const inputLookup = new LookupTable(data, 'input');\n        this.inputLookup = inputLookup.table;\n        this.inputLookupLength = inputLookup.length;\n      }\n    }\n\n    if (!Array.isArray(data[0].output)) {\n      if (this.outputLookup) {\n        this.outputLookupLength = Object.keys(this.outputLookup).length;\n      } else {\n        const lookup = new LookupTable(data, 'output');\n        this.outputLookup = lookup.table;\n        this.outputLookupLength = lookup.length;\n      }\n    }\n\n    if (typeof this._formatInput === 'undefined') {\n      this._formatInput = getTypedArrayFn(data[0].input, this.inputLookup);\n      this._formatOutput = getTypedArrayFn(data[0].output, this.outputLookup);\n    }\n\n    // turn sparse hash input into arrays with 0s as filler\n    if (this._formatInput && this._formatOutput) {\n      const result = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: this._formatInput(data[i].input),\n          output: this._formatOutput(data[i].output),\n        });\n      }\n      return result;\n    }\n    if (this._formatInput) {\n      const result = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: this._formatInput(data[i].input),\n          output: data[i].output,\n        });\n      }\n      return result;\n    }\n    if (this._formatOutput) {\n      const result = [];\n      for (let i = 0; i < data.length; i++) {\n        result.push({\n          input: data[i].input,\n          output: this._formatOutput(data[i].output),\n        });\n      }\n      return result;\n    }\n    return data;\n  }\n\n  addFormat(data) {\n    this.inputLookup = lookup.addKeys(data.input, this.inputLookup);\n    if (this.inputLookup) {\n      this.inputLookupLength = Object.keys(this.inputLookup).length;\n    }\n    this.outputLookup = lookup.addKeys(data.output, this.outputLookup);\n    if (this.outputLookup) {\n      this.outputLookupLength = Object.keys(this.outputLookup).length;\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {\n   *  {\n   *    error: number,\n   *    misclasses: Array,\n   *  }\n   * }\n   */\n  test(data) {\n    data = this.formatData(data);\n    // for binary classification problems with one output node\n    const isBinary = data[0].output.length === 1;\n    // for classification problems\n    const misclasses = [];\n    // run each pattern through the trained network and collect\n    // error and misclassification statistics\n    let errorSum = 0;\n\n    if (isBinary) {\n      let falsePos = 0;\n      let falseNeg = 0;\n      let truePos = 0;\n      let trueNeg = 0;\n\n      for (let i = 0; i < data.length; i++) {\n        const output = this.runInput(data[i].input);\n        const target = data[i].output;\n        const actual = output[0] > this.binaryThresh ? 1 : 0;\n        const expected = target[0];\n\n        if (actual !== expected) {\n          const misclass = data[i];\n          misclasses.push({\n            input: misclass.input,\n            output: misclass.output,\n            actual,\n            expected,\n          });\n        }\n\n        if (actual === 0 && expected === 0) {\n          trueNeg++;\n        } else if (actual === 1 && expected === 1) {\n          truePos++;\n        } else if (actual === 0 && expected === 1) {\n          falseNeg++;\n        } else if (actual === 1 && expected === 0) {\n          falsePos++;\n        }\n\n        errorSum += mse(\n          output.map((value, i) => {\n            return target[i] - value;\n          })\n        );\n      }\n\n      return {\n        error: errorSum / data.length,\n        misclasses,\n        total: data.length,\n        trueNeg,\n        truePos,\n        falseNeg,\n        falsePos,\n        precision: truePos > 0 ? truePos / (truePos + falsePos) : 0,\n        recall: truePos > 0 ? truePos / (truePos + falseNeg) : 0,\n        accuracy: (trueNeg + truePos) / data.length,\n      };\n    }\n\n    for (let i = 0; i < data.length; i++) {\n      const output = this.runInput(data[i].input);\n      const target = data[i].output;\n      const actual = output.indexOf(max(output));\n      const expected = target.indexOf(max(target));\n\n      if (actual !== expected) {\n        const misclass = data[i];\n        misclasses.push({\n          input: misclass.input,\n          output: misclass.output,\n          actual,\n          expected,\n        });\n      }\n\n      errorSum += mse(\n        output.map((value, i) => {\n          return target[i] - value;\n        })\n      );\n    }\n    return {\n      error: errorSum / data.length,\n      misclasses,\n      total: data.length,\n    };\n  }\n\n  /**\n   *\n   * @returns\n   *  {\n   *    layers: [\n   *      {\n   *        x: {},\n   *        y: {}\n   *      },\n   *      {\n   *        '0': {\n   *          bias: -0.98771313,\n   *          weights: {\n   *            x: 0.8374838,\n   *            y: 1.245858\n   *          },\n   *        '1': {\n   *          bias: 3.48192004,\n   *          weights: {\n   *            x: 1.7825821,\n   *            y: -2.67899\n   *          }\n   *        }\n   *      },\n   *      {\n   *        f: {\n   *          bias: 0.27205739,\n   *          weights: {\n   *            '0': 1.3161821,\n   *            '1': 2.00436\n   *          }\n   *        }\n   *      }\n   *    ]\n   *  }\n   */\n  toJSON() {\n    if (this.sizes === null) {\n      this.initialize();\n    }\n    const layers = [];\n    for (let layer = 0; layer <= this.outputLayer; layer++) {\n      layers[layer] = {};\n\n      let nodes;\n      // turn any internal arrays back into hashes for readable json\n      if (layer === 0 && this.inputLookup) {\n        nodes = Object.keys(this.inputLookup);\n      } else if (this.outputLookup && layer === this.outputLayer) {\n        nodes = Object.keys(this.outputLookup);\n      } else {\n        nodes = range(0, this.sizes[layer]);\n      }\n\n      for (let j = 0; j < nodes.length; j++) {\n        const node = nodes[j];\n        layers[layer][node] = {};\n\n        if (layer > 0) {\n          layers[layer][node].bias = this.biases[layer][j];\n          layers[layer][node].weights = {};\n          for (const k in layers[layer - 1]) {\n            let index = k;\n            if (layer === 1 && this.inputLookup) {\n              index = this.inputLookup[k];\n            }\n            layers[layer][node].weights[k] = this.weights[layer][j][index];\n          }\n        }\n      }\n    }\n    return {\n      sizes: this.sizes.slice(0),\n      layers,\n      outputLookup: this.outputLookup !== null,\n      inputLookup: this.inputLookup !== null,\n      activation: this.activation,\n      trainOpts: this.getTrainOptsJSON(),\n    };\n  }\n\n  /**\n   *\n   * @param json\n   * @returns {NeuralNetwork}\n   */\n  fromJSON(json) {\n    Object.assign(this, this.constructor.defaults, json);\n    this.sizes = json.sizes;\n    this.initialize();\n\n    for (let i = 0; i <= this.outputLayer; i++) {\n      const layer = json.layers[i];\n      if (i === 0 && (!layer[0] || json.inputLookup)) {\n        this.inputLookup = lookup.toHash(layer);\n        this.inputLookupLength = Object.keys(this.inputLookup).length;\n      } else if (i === this.outputLayer && (!layer[0] || json.outputLookup)) {\n        this.outputLookup = lookup.toHash(layer);\n      }\n      if (i > 0) {\n        const nodes = Object.keys(layer);\n        this.sizes[i] = nodes.length;\n        for (const j in nodes) {\n          if (nodes.hasOwnProperty(j)) {\n            const node = nodes[j];\n            this.biases[i][j] = layer[node].bias;\n            this.weights[i][j] = toArray(layer[node].weights);\n          }\n        }\n      }\n    }\n    if (json.hasOwnProperty('trainOpts')) {\n      this.updateTrainingOptions(json.trainOpts);\n    }\n    return this;\n  }\n\n  /**\n   * @param {Function} [cb]\n   * @returns {Function}\n   */\n  toFunction(cb) {\n    const { activation } = this;\n    const { leakyReluAlpha } = this;\n    let needsVar = false;\n    function nodeHandle(layers, layerNumber, nodeKey) {\n      if (layerNumber === 0) {\n        return typeof nodeKey === 'string'\n          ? `(input['${nodeKey}']||0)`\n          : `(input[${nodeKey}]||0)`;\n      }\n\n      const layer = layers[layerNumber];\n      const node = layer[nodeKey];\n      const result = ['(', node.bias];\n      for (const w in node.weights) {\n        if (node.weights[w] < 0) {\n          result.push(\n            `${node.weights[w]}*${nodeHandle(layers, layerNumber - 1, w)}`\n          );\n        } else {\n          result.push(\n            `+${node.weights[w]}*${nodeHandle(layers, layerNumber - 1, w)}`\n          );\n        }\n      }\n      result.push(')');\n\n      switch (activation) {\n        case 'sigmoid':\n          return `1/(1+1/Math.exp(${result.join('')}))`;\n        case 'relu': {\n          needsVar = true;\n          return `((v=${result.join('')})<0?0:v)`;\n        }\n        case 'leaky-relu': {\n          needsVar = true;\n          return `((v=${result.join('')})<0?0:${leakyReluAlpha}*v)`;\n        }\n        case 'tanh':\n          return `Math.tanh(${result.join('')})`;\n        default:\n          throw new Error(\n            `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n          );\n      }\n    }\n\n    const { layers } = this.toJSON();\n    const layersAsMath = [];\n    let result;\n    for (const i in layers[layers.length - 1]) {\n      layersAsMath.push(nodeHandle(layers, layers.length - 1, i));\n    }\n    if (this.outputLookup) {\n      result = `{${Object.keys(this.outputLookup).map(\n        (key, i) => `'${key}':${layersAsMath[i]}`\n      )}}`;\n    } else {\n      result = `[${layersAsMath.join(',')}]`;\n    }\n\n    const source = `${needsVar ? 'var v;' : ''}return ${result};`;\n    // eslint-disable-next-line no-new-func\n    return new Function('input', cb ? cb(source) : source);\n  }\n}\n\nmodule.exports = NeuralNetwork;\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","const { GPU, alias, utils: gpuUtils } = require('gpu.js');\nconst NeuralNetwork = require('./neural-network');\nconst lookup = require('./lookup');\nconst { release } = require('./utilities/kernel');\n\nfunction weightedSumSigmoid(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // sigmoid\n  return 1 / (1 + Math.exp(-sum));\n}\n\nfunction weightedSumRelu(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // relu\n  return sum < 0 ? 0 : sum;\n}\n\nfunction weightedSumLeakyRelu(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // leaky relu\n  return sum < 0 ? 0 : 0.01 * sum;\n}\n\nfunction weightedSumTanh(weights, biases, inputs) {\n  let sum = biases[this.thread.x];\n  for (let k = 0; k < this.constants.size; k++) {\n    sum += weights[this.thread.x][k] * inputs[k];\n  }\n  // tanh\n  return Math.tanh(sum);\n}\n\nfunction calcErrorOutput(output, targets) {\n  return targets[this.thread.x] - output;\n}\n\nfunction calcDeltasSigmoid(error, output) {\n  // sigmoid derivative\n  return error * output * (1 - output);\n}\n\nfunction calcDeltasRelu(error, output) {\n  // relu derivative\n  return output > 0 ? error : 0;\n}\n\nfunction calcDeltasLeakyRelu(error, output) {\n  // leaky relu derivative\n  return output > 0 ? error : 0.01 * error;\n}\n\nfunction calcDeltasTanh(error, output) {\n  // tanh derivative\n  return (1 - output * output) * error;\n}\n\nfunction calcError(nextWeights, nextDeltas) {\n  let error = 0;\n  for (let k = 0; k < this.constants.size; k++) {\n    error += nextDeltas[k] * nextWeights[k][this.thread.x];\n  }\n  return error;\n}\n\nfunction calcChanges(previousChanges, deltas, previousOutputs) {\n  return (\n    this.constants.learningRate *\n      deltas[this.thread.y] *\n      previousOutputs[this.thread.x] +\n    this.constants.momentum * previousChanges[this.thread.y][this.thread.x]\n  );\n}\n\nfunction addWeights(change, weights) {\n  return change + weights[this.thread.y][this.thread.x];\n}\n\nfunction addBiases(biases, deltas) {\n  return (\n    biases[this.thread.x] + deltas[this.thread.x] * this.constants.learningRate\n  );\n}\n\n// mean squared error, reimplemented for GPU\nfunction mse(errors) {\n  let sum = 0;\n  for (let i = 0; i < this.constants.size; i++) {\n    sum += errors[i] ** 2;\n  }\n  return sum / this.constants.size;\n}\n\n/**\n *\n * @param {object} options\n * @constructor\n */\nclass NeuralNetworkGPU extends NeuralNetwork {\n  constructor(options = {}) {\n    super(options);\n    this.forwardPropagate = [];\n    this.backwardPropagate = [];\n    this.changesPropagate = [];\n    this.biasesPropagate = [];\n    this.errorCheckInterval = 100;\n    this.gpu = new GPU({ mode: options.mode });\n  }\n\n  /**\n   *\n   */\n  initialize() {\n    super.initialize();\n    this.buildRunInput();\n    this.buildCalculateDeltas();\n    this.buildGetChanges();\n    this.buildChangeBiases();\n    this.buildGetMSE();\n  }\n\n  setActivation() {}\n\n  /**\n   *\n   * @param value\n   * @param logErrorRate\n   */\n  trainPattern(value, logErrorRate) {\n    // forward propagate\n    this.runInput(value.input);\n\n    // back propagate\n    this.calculateDeltas(value.output);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return this.getMSE(this.errors[this.outputLayer]);\n    }\n    return null;\n  }\n\n  calculateTrainingError(data) {\n    let sum = new Float32Array([0]);\n    for (let i = 0; i < data.length; ++i) {\n      const prevSum = sum;\n      const error = this.trainPattern(data[i], true);\n      sum = this._addMSE(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = this._divideMSESum(data.length, sum)[0];\n    release(sum);\n    return result;\n  }\n\n  adjustWeights() {\n    this.getChanges();\n    this.changeBiases();\n  }\n\n  buildRunInput() {\n    let weightedSum = null;\n\n    switch (this.activation) {\n      case 'sigmoid':\n        weightedSum = weightedSumSigmoid;\n        break;\n      case 'relu':\n        weightedSum = weightedSumRelu;\n        break;\n      case 'leaky-relu':\n        weightedSum = weightedSumLeakyRelu;\n        break;\n      case 'tanh':\n        weightedSum = weightedSumTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      this.forwardPropagate[layer] = this.gpu.createKernel(weightedSum, {\n        output: [this.sizes[layer]],\n        pipeline: true,\n        constants: {\n          size: this.sizes[layer - 1],\n        },\n        immutable: true,\n      });\n    }\n\n    this.texturizeInputData = this.gpu.createKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [this.sizes[1]],\n        pipeline: true,\n        immutable: true,\n      }\n    );\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  runInput(input) {\n    let output;\n    this.outputs[0] = input;\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      release(this.outputs[layer]);\n      this.outputs[layer] = this.forwardPropagate[layer](\n        this.weights[layer],\n        this.biases[layer],\n        input\n      );\n      output = input = this.outputs[layer];\n    }\n    return output;\n  }\n\n  buildCalculateDeltas() {\n    let calcDeltas = null;\n    switch (this.activation) {\n      case 'sigmoid':\n        calcDeltas = calcDeltasSigmoid;\n        break;\n      case 'relu':\n        calcDeltas = calcDeltasRelu;\n        break;\n      case 'leaky-relu':\n        calcDeltas = calcDeltasLeakyRelu;\n        break;\n      case 'tanh':\n        calcDeltas = calcDeltasTanh;\n        break;\n      default:\n        throw new Error(\n          `Unknown activation ${this.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`\n        );\n    }\n\n    calcDeltas = alias(\n      gpuUtils.getMinifySafeName(() => calcDeltas),\n      calcDeltas\n    );\n    this.gpu.addFunction(calcDeltas);\n    for (let layer = this.outputLayer; layer > 0; layer--) {\n      if (layer === this.outputLayer) {\n        this.backwardPropagate[this.outputLayer] = this.gpu.createKernelMap(\n          {\n            error: calcErrorOutput,\n          },\n          function (outputs, targets) {\n            const output = outputs[this.thread.x];\n            return calcDeltas(calcErrorOutput(output, targets), output);\n          },\n          {\n            output: [this.sizes[this.outputLayer]],\n            pipeline: true,\n            immutable: true,\n          }\n        );\n      } else {\n        this.backwardPropagate[layer] = this.gpu.createKernelMap(\n          {\n            error: calcError,\n          },\n          function (nextWeights, outputs, nextDeltas) {\n            const output = outputs[this.thread.x];\n            return calcDeltas(calcError(nextWeights, nextDeltas), output);\n          },\n          {\n            output: [this.sizes[layer]],\n            pipeline: true,\n            constants: {\n              size: this.deltas[layer + 1].length,\n            },\n            immutable: true,\n          }\n        );\n      }\n    }\n  }\n\n  calculateDeltas(target) {\n    for (let layer = this.outputLayer; layer > 0; layer--) {\n      let output;\n      release(this.deltas[layer]);\n      release(this.errors[layer]);\n\n      if (layer === this.outputLayer) {\n        output = this.backwardPropagate[layer](this.outputs[layer], target);\n      } else {\n        output = this.backwardPropagate[layer](\n          this.weights[layer + 1],\n          this.outputs[layer],\n          this.deltas[layer + 1]\n        );\n      }\n      this.deltas[layer] = output.result;\n      this.errors[layer] = output.error;\n    }\n  }\n\n  buildGetChanges() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      this.changesPropagate[layer] = this.gpu.createKernelMap(\n        {\n          weights: addWeights,\n          changes: calcChanges,\n        },\n        function (previousOutputs, deltas, weights, changes) {\n          const change = calcChanges(changes, deltas, previousOutputs);\n\n          return addWeights(change, weights);\n        },\n        {\n          output: [this.sizes[layer - 1], this.sizes[layer]],\n          pipeline: true,\n          constants: {\n            size: this.outputs[layer - 1].length,\n            learningRate: this.trainOpts.learningRate,\n            momentum: this.trainOpts.momentum,\n          },\n          immutable: true,\n        }\n      );\n    }\n  }\n\n  getChanges() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const weights = this.weights[layer];\n      const changes = this.changes[layer];\n      const output = this.changesPropagate[layer](\n        this.outputs[layer - 1],\n        this.deltas[layer],\n        weights,\n        changes\n      );\n      release(weights);\n      release(changes);\n      this.weights[layer] = output.weights;\n      this.changes[layer] = output.changes;\n      release(output.result);\n    }\n  }\n\n  buildChangeBiases() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      this.biasesPropagate[layer] = this.gpu.createKernel(addBiases, {\n        output: [this.sizes[layer]],\n        pipeline: true,\n        constants: {\n          learningRate: this.trainOpts.learningRate,\n        },\n        immutable: true,\n      });\n    }\n  }\n\n  changeBiases() {\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      const biases = this.biases[layer];\n      this.biases[layer] = this.biasesPropagate[layer](\n        biases,\n        this.deltas[layer]\n      );\n      release(biases);\n    }\n  }\n\n  buildGetMSE() {\n    this.getMSE = this.gpu.createKernel(mse, {\n      output: [1],\n      constants: {\n        size: this.sizes[this.outputLayer],\n      },\n      pipeline: true,\n      immutable: true,\n    });\n    this._addMSE = this.gpu.createKernel(\n      function (value1, value2) {\n        return value1[0] + value2[0];\n      },\n      {\n        output: [1],\n        pipeline: true,\n        immutable: true,\n      }\n    );\n    this._divideMSESum = this.gpu.createKernel(\n      function (length, mseSum) {\n        const value = mseSum[0];\n        if (value > 0) {\n          return value / length;\n        }\n        return 0;\n      },\n      {\n        output: [1],\n      }\n    );\n  }\n\n  /**\n   *\n   * @param input\n   * @returns {*}\n   */\n  run(input) {\n    if (!this.isRunnable) return null;\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input, this.inputLookupLength);\n    }\n    const outputTextures = this.runInput(input);\n    let output = outputTextures.toArray\n      ? outputTextures.toArray()\n      : outputTextures;\n\n    if (this.outputLookup) {\n      output = lookup.toObject(this.outputLookup, output);\n    }\n    return output;\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return { data, status, endTime }\n   */\n  prepTraining(data, options) {\n    this.updateTrainingOptions(options);\n    data = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized(data);\n\n    const texturizeOutputData = this.gpu.createKernel(\n      function (value) {\n        return value[this.thread.x];\n      },\n      {\n        output: [data[0].output.length],\n        pipeline: true,\n        immutable: true,\n      }\n    );\n\n    return {\n      data: data.map((set) => ({\n        input: this.texturizeInputData(set.input),\n        output: texturizeOutputData(set.output),\n      })),\n      status,\n      endTime,\n    };\n  }\n\n  toFunction() {\n    throw new Error(\n      `${this.constructor.name}-toFunction is not yet implemented`\n    );\n  }\n\n  toJSON() {\n    if (!this.weights[1].toArray) {\n      // in fallback mode\n      return super.toJSON();\n    }\n\n    // in GPU mode\n    const weights = [];\n    const biases = [];\n    for (let layer = 1; layer <= this.outputLayer; layer++) {\n      weights[layer] = Array.from(this.weights[layer].toArray());\n      biases[layer] = Array.from(this.biases[layer].toArray());\n    }\n\n    // pseudo lo-fi decorator\n    return NeuralNetwork.prototype.toJSON.call({\n      activation: this.activation,\n      inputLookup: this.inputLookup,\n      outputLookup: this.outputLookup,\n      outputLayer: this.outputLayer,\n      sizes: this.sizes,\n      getTrainOptsJSON: () => this.getTrainOptsJSON(),\n      weights,\n      biases,\n    });\n  }\n}\n\nmodule.exports = NeuralNetworkGPU;\n","const { Internal } = require('./types');\n// const zeros2D = require('../utilities/zeros-2d');\nconst { release } = require('../utilities/kernel');\n\nclass RecurrentConnection extends Internal {\n  setLayer(layer) {\n    this.layer = layer;\n  }\n\n  get width() {\n    return this.layer.width;\n  }\n\n  set width(value) {\n    throw new Error(`${this.constructor.name}-width is not yet implemented`);\n  }\n\n  get height() {\n    return this.layer.height;\n  }\n\n  set height(value) {\n    throw new Error(`${this.constructor.name}-height is not yet implemented`);\n  }\n\n  get deltas() {\n    return this.layer.deltas;\n  }\n\n  set deltas(deltas) {\n    release(this.layer.deltas);\n    this.layer.deltas = deltas;\n  }\n\n  get weights() {\n    return this.layer.weights;\n  }\n\n  set weights(weights) {\n    release(this.layer.weights);\n    this.layer.weights = weights;\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn() {\n    throw new Error('no longer using');\n  }\n\n  setupKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n}\n\nmodule.exports = {\n  RecurrentConnection,\n};\n","const { Internal } = require('./types');\nconst { BaseLayer } = require('./base-layer');\nconst { release } = require('../utilities/kernel');\n// const { zeros2D } = require('../utilities/zeros-2d');\n\nclass RecurrentInput extends Internal {\n  constructor(recurrentInput) {\n    super();\n    this.recurrentInput = recurrentInput;\n    this.validate();\n  }\n\n  get width() {\n    return this.recurrentInput.width;\n  }\n\n  get height() {\n    return this.recurrentInput.height;\n  }\n\n  get deltas() {\n    return this.recurrentInput.deltas;\n  }\n\n  set deltas(deltas) {\n    const recurrentInputDeltas = this.recurrentInput.deltas;\n    this.recurrentInput.deltas = deltas;\n    release(recurrentInputDeltas);\n  }\n\n  get weights() {\n    return this.recurrentInput.weights;\n  }\n\n  set weights(weights) {\n    const recurrentInputWeights = this.recurrentInput.weights;\n    this.recurrentInput.weights = weights;\n    release(recurrentInputWeights);\n  }\n\n  validate() {\n    BaseLayer.prototype.validate.call(this);\n    if (this.width !== this.recurrentInput.width) {\n      throw new Error(\n        `${this.constructor.name} layer width ${this.width} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.width}) are not same`\n      );\n    }\n\n    if (this.height !== this.recurrentInput.height) {\n      throw new Error(\n        `${this.constructor.name} layer height ${this.height} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.height}) are not same`\n      );\n    }\n  }\n\n  setDimensions() {\n    throw new Error('should just listen');\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn() {\n    // throw new Error(`${this.constructor.name}-learn is not yet implemented`)\n  }\n\n  setupKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n}\n\nmodule.exports = {\n  RecurrentInput,\n};\n","const { zeros2D } = require('../utilities/zeros-2d');\nconst { Internal } = require('./types');\nconst { release, clear } = require('../utilities/kernel');\n\nclass RecurrentZeros extends Internal {\n  setDimensions(width, height) {\n    this.praxis = null;\n    this.width = width;\n    this.height = height;\n    this.weights = zeros2D(width, height);\n    this.deltas = zeros2D(width, height);\n  }\n\n  setupKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-setupKernels is not yet implemented`\n    // )\n  }\n\n  reuseKernels() {\n    // throw new Error(\n    //   `${this.constructor.name}-reuseKernels is not yet implemented`\n    // )\n  }\n\n  predict() {\n    // throw new Error(`${this.constructor.name}-predict is not yet implemented`)\n  }\n\n  compare() {\n    // throw new Error(`${this.constructor.name}-compare is not yet implemented`)\n  }\n\n  learn(learningRate) {\n    const { weights: oldWeights } = this;\n    this.weights = this.praxis.run(this, learningRate);\n    // this.deltas = deltas;\n    release(oldWeights);\n    clear(this.deltas);\n  }\n\n  validate() {\n    throw new Error(`${this.constructor.name}-validate is not yet implemented`);\n  }\n\n  reset() {\n    throw new Error(`${this.constructor.name}-reset is not yet implemented`);\n  }\n}\n\nfunction recurrentZeros() {\n  return new RecurrentZeros();\n}\n\nmodule.exports = {\n  RecurrentZeros,\n  recurrentZeros,\n};\n","const { RecurrentConnection } = require('./layer/recurrent-connection');\nconst { RecurrentInput } = require('./layer/recurrent-input');\nconst { RecurrentZeros } = require('./layer/recurrent-zeros');\nconst { Model, InternalModel } = require('./layer/types');\n// const { Target } = require('./layer/target');\nconst flattenLayers = require('./utilities/flatten-layers');\nconst { FeedForward } = require('./feed-forward');\nconst { release, clone } = require('./utilities/kernel');\n\nclass Recurrent extends FeedForward {\n  static get structure() {\n    return {\n      /**\n       *\n       * _inputLayers are a 1 dimensional array of input layers defined once\n       * @type Object[]\n       * @private\n       */\n      _inputLayers: null,\n\n      /**\n       * _hiddenLayers are a 1 dimensional array of hidden layers defined from results from settings.hiddenLayers\n       * @type Object[]\n       * @private\n       */\n      _hiddenLayers: null,\n\n      /**\n       * _hiddenLayerSets are a 2 dimensional array of hidden layers defined for each recursion\n       * @type Object[][]\n       * @private\n       */\n      _hiddenLayerSets: null,\n\n      /**\n       * a 2 dimensional array of layers defined for each recursion\n       */\n      _layerSets: null,\n      _hiddenLayerOutputIndices: null,\n\n      /**\n       * _outputLayers are a 1 dimensional array of output layers defined once\n       * @type Object[]\n       * @private\n       */\n      _outputLayers: null,\n      _outputConnection: null,\n      _previousInputs: null,\n      _model: null,\n      _recurrentIndices: null,\n    };\n  }\n\n  _connectLayers() {\n    const inputLayer = this.inputLayer();\n    const hiddenLayers = this._connectHiddenLayers(inputLayer);\n    const outputLayer = this.outputLayer(hiddenLayers[hiddenLayers.length - 1]);\n    return {\n      inputLayer,\n      hiddenLayers,\n      outputLayer,\n    };\n  }\n\n  _connectLayersDeep() {\n    const layers = [];\n    const previousLayers = this._layerSets[this._layerSets.length - 1];\n    let usedHiddenLayerOutputIndex = 0;\n\n    function findInputLayer(inputLayer) {\n      const index = previousLayers.indexOf(inputLayer);\n      if (index < 0) throw new Error('unable to find layer');\n      return layers[index];\n    }\n\n    function layerSettings(layer) {\n      return {\n        ...layer,\n        weights: null,\n        deltas: null,\n        errors: null,\n        praxis: null,\n      };\n    }\n\n    for (let i = 0; i < previousLayers.length; i++) {\n      const previousLayer = previousLayers[i];\n      let layer = null;\n      switch (Object.getPrototypeOf(previousLayer.constructor).name) {\n        case 'Activation': {\n          layer = new previousLayer.constructor(\n            findInputLayer(previousLayer.inputLayer)\n          );\n          break;\n        }\n        case 'EntryPoint': {\n          layer = new previousLayer.constructor(layerSettings(previousLayer));\n          break;\n        }\n        case 'Filter': {\n          layer = new previousLayer.constructor(\n            layerSettings(previousLayer.inputLayer),\n            findInputLayer(previousLayer.inputLayer)\n          );\n          break;\n        }\n        case 'Internal': {\n          const previousHiddenLayerOutput =\n            previousLayers[\n              this._hiddenLayerOutputIndices[usedHiddenLayerOutputIndex++]\n            ];\n          switch (previousLayer.constructor.name) {\n            case 'RecurrentConnection':\n              throw new Error('unfinished');\n            case 'RecurrentInput':\n              layer = new RecurrentInput(previousHiddenLayerOutput);\n              break;\n            case 'RecurrentZeros':\n            default:\n              layer = new RecurrentInput(previousHiddenLayerOutput);\n              break;\n          }\n          break;\n        }\n        case 'InternalModel':\n        case 'Model': {\n          layer = previousLayer;\n          break;\n        }\n        case 'Modifier': {\n          layer = new previousLayer.constructor(\n            findInputLayer(previousLayer.inputLayer)\n          );\n          break;\n        }\n        case 'Operator': {\n          layer = new previousLayer.constructor(\n            findInputLayer(previousLayer.inputLayer1),\n            findInputLayer(previousLayer.inputLayer2),\n            layerSettings(previousLayer)\n          );\n          break;\n        }\n        default:\n          throw new Error(\n            `hidden layer ${\n              previousLayer.constructor.name\n            } extends unknown hidden layer ${\n              Object.getPrototypeOf(previousLayer.constructor).name\n            }`\n          );\n      }\n      layers.push(layer);\n    }\n\n    return layers;\n  }\n\n  _connectHiddenLayers(previousLayer) {\n    const hiddenLayers = [];\n    for (let i = 0; i < this.hiddenLayers.length; i++) {\n      const recurrentInput = new RecurrentZeros();\n      const hiddenLayer = this.hiddenLayers[i](\n        previousLayer,\n        recurrentInput,\n        i\n      );\n      previousLayer = hiddenLayer;\n      hiddenLayers.push(hiddenLayer);\n    }\n    return hiddenLayers;\n  }\n\n  initialize() {\n    this.layers = [];\n    this._outputConnection = new RecurrentConnection();\n    const { inputLayer, hiddenLayers, outputLayer } = this._connectLayers();\n    const layerSet = flattenLayers([inputLayer, ...hiddenLayers, outputLayer]);\n    this._hiddenLayerOutputIndices = hiddenLayers.map((l) =>\n      layerSet.indexOf(l)\n    );\n    this._layerSets = [layerSet];\n    this._model = layerSet.filter(\n      (l) => l instanceof Model || l instanceof InternalModel\n    );\n    this.initializeLayers(layerSet);\n  }\n\n  initializeDeep() {\n    const layers = this._connectLayersDeep();\n    for (let i = 0; i < layers.length; i++) {\n      const layer = layers[i];\n      layer.reuseKernels(this._layerSets[0][i]);\n    }\n    this._layerSets.push(layers);\n  }\n\n  run(input) {\n    while (this._layerSets.length <= input.length) {\n      this.initializeDeep();\n    }\n    return super.run(input);\n  }\n\n  runInput(input) {\n    while (this._layerSets.length < input.length) {\n      this.initializeDeep();\n    }\n    const max = input.length - 1; // last output will be compared with last index\n    for (let x = 0; x <= max; x++) {\n      const layerSet = this._layerSets[x];\n      layerSet[0].predict([new Float32Array([input[x]])]);\n      for (let i = 1; i < layerSet.length; i++) {\n        layerSet[i].predict();\n      }\n    }\n    const lastLayerUsed = this._layerSets[max];\n    const result = lastLayerUsed[lastLayerUsed.length - 1].weights;\n    this.end();\n    return result;\n  }\n\n  end() {\n    const x = this._layerSets.length - 1;\n    const lastLayerSet = this._layerSets[x];\n    lastLayerSet[0].predict([new Float32Array([0])]);\n    for (let i = 1; i < lastLayerSet.length; i++) {\n      lastLayerSet[i].predict();\n    }\n  }\n\n  transferData(formattedData) {\n    return formattedData;\n  }\n\n  _prepTraining(data, options) {\n    const stats = super._prepTraining(data, options);\n\n    this.verifyIsInitialized(data);\n\n    return stats;\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {Number} error\n   */\n  _calculateTrainingError(data) {\n    let sum = new Float32Array(1);\n    for (let i = 0; i < data.length; ++i) {\n      const prevSum = sum;\n      const error = this._trainPattern(data[i], true);\n      sum = this.meanSquaredError.add(sum, error);\n      release(error);\n      release(prevSum);\n    }\n    const result = this.meanSquaredError.divide(data.length, sum);\n    release(sum);\n    if (result.toArray) {\n      const resultArray = result.toArray();\n      return resultArray[0];\n    }\n    return result[0];\n  }\n\n  formatData(data) {\n    return data;\n  }\n\n  _calculateDeltas(target) {\n    const lastLayerSet = this._layerSets[this._layerSets.length - 1];\n    // Iterate from the second to last layer backwards, propagating 0's\n    for (let i = lastLayerSet.length - 2; i >= 0; i--) {\n      lastLayerSet[i].compare();\n    }\n\n    for (let x = target.length - 2; x >= 0; x--) {\n      const layerSet = this._layerSets[x];\n      layerSet[layerSet.length - 1].compare(new Float32Array([target[x + 1]]));\n      for (let i = layerSet.length - 2; i >= 0; i--) {\n        layerSet[i].compare();\n      }\n    }\n  }\n\n  adjustWeights() {\n    const { _model } = this;\n    for (let i = 0; i < _model.length; i++) {\n      _model[i].learn();\n    }\n  }\n\n  /**\n   * @param data\n   * @private\n   */\n  _trainPatterns(data) {\n    for (let i = 0; i < data.length; ++i) {\n      this._trainPattern(data[i], false);\n    }\n  }\n\n  /**\n   *\n   * @param {number[]} input\n   * @param {Boolean} [logErrorRate]\n   */\n  _trainPattern(input, logErrorRate) {\n    // forward propagate\n    this.runInput(input);\n\n    // back propagate\n    this._calculateDeltas(input);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      const { meanSquaredError } = this;\n      let error = new Float32Array(1);\n      for (let i = 0, max = input.length - 1; i < max; i++) {\n        const layerSet = this._layerSets[i];\n        const lastLayer = layerSet[layerSet.length - 1];\n        const prevError = error;\n        error = meanSquaredError.addAbsolute(prevError, lastLayer.errors);\n        release(prevError);\n      }\n      return clone(meanSquaredError.divide(input.length, error));\n    }\n    return null;\n  }\n}\n\nmodule.exports = {\n  Recurrent,\n};\n","const { zeros } = require('../../utilities/zeros');\n\n/**\n * A matrix\n * @param {Number} [rows]\n * @param {Number} [columns]\n * @constructor\n */\nclass Matrix {\n  constructor(rows, columns) {\n    if (rows === undefined) return;\n    if (columns === undefined) return;\n\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n    this.deltas = zeros(rows * columns);\n  }\n\n  /**\n   *\n   * @param {Number} row\n   * @param {Number} col\n   * @returns {Float32Array|Array}\n   */\n  getWeights(row, col) {\n    // slow but careful accessor function\n    // we want row-major order\n    const ix = this.columns * row + col;\n    if (ix < 0 && ix >= this.weights.length)\n      throw new Error('get accessor is skewed');\n    return this.weights[ix];\n  }\n\n  /**\n   *\n   * @param {Number} row\n   * @param {Number} col\n   * @param v\n   * @returns {Matrix}\n   */\n  setWeight(row, col, v) {\n    // slow but careful accessor function\n    const ix = this.columns * row + col;\n    if (ix < 0 && ix >= this.weights.length)\n      throw new Error('set accessor is skewed');\n    this.weights[ix] = v;\n  }\n\n  /**\n   *\n   * @param {Number} row\n   * @param {Number} col\n   * @param v\n   * @returns {Matrix}\n   */\n  setDeltas(row, col, v) {\n    // slow but careful accessor function\n    const ix = this.columns * row + col;\n    if (ix < 0 && ix >= this.weights.length)\n      throw new Error('set accessor is skewed');\n    this.deltas[ix] = v;\n  }\n\n  /**\n   *\n   * @returns {{rows: *, columns: *, weights: Array}}\n   */\n  toJSON() {\n    return {\n      rows: this.rows,\n      columns: this.columns,\n      weights: this.weights.slice(0),\n    };\n  }\n\n  static fromJSON(json) {\n    const matrix = new Matrix(json.rows, json.columns);\n    for (let i = 0, max = json.rows * json.columns; i < max; i++) {\n      matrix.weights[i] = json.weights[i]; // copy over weights\n    }\n    return matrix;\n  }\n\n  /**\n   *\n   * @param weightRows\n   * @param [deltasRows]\n   * @returns {Matrix}\n   */\n  static fromArray(weightRows, deltasRows) {\n    const rows = weightRows.length;\n    const columns = weightRows[0].length;\n    const m = new Matrix(rows, columns);\n\n    deltasRows = deltasRows || weightRows;\n\n    for (let rowIndex = 0; rowIndex < rows; rowIndex++) {\n      const weightValues = weightRows[rowIndex];\n      const deltasValues = deltasRows[rowIndex];\n      for (let columnIndex = 0; columnIndex < columns; columnIndex++) {\n        m.setWeight(rowIndex, columnIndex, weightValues[columnIndex]);\n        m.setDeltas(rowIndex, columnIndex, deltasValues[columnIndex]);\n      }\n    }\n\n    return m;\n  }\n\n  weightsToArray() {\n    const deltas = [];\n    let row = 0;\n    let column = 0;\n    for (let i = 0; i < this.weights.length; i++) {\n      if (column === 0) {\n        deltas.push([]);\n      }\n      deltas[row].push(this.weights[i]);\n      column++;\n      if (column >= this.columns) {\n        column = 0;\n        row++;\n      }\n    }\n    return deltas;\n  }\n\n  deltasToArray() {\n    const deltas = [];\n    let row = 0;\n    let column = 0;\n    for (let i = 0; i < this.deltas.length; i++) {\n      if (column === 0) {\n        deltas.push([]);\n      }\n      deltas[row].push(this.deltas[i]);\n      column++;\n      if (column >= this.columns) {\n        column = 0;\n        row++;\n      }\n    }\n    return deltas;\n  }\n}\n\nmodule.exports = Matrix;\n","const Matrix = require('.');\nconst { randomFloat } = require('../../utilities/random');\n\n/** return Matrix but filled with random numbers from gaussian\n * @param {Number} [rows]\n * @param {Number} [columns]\n * @param std\n * @constructor\n */\nclass RandomMatrix extends Matrix {\n  constructor(rows, columns, std) {\n    super(rows, columns);\n    this.rows = rows;\n    this.columns = columns;\n    this.std = std;\n    for (let i = 0, max = this.weights.length; i < max; i++) {\n      this.weights[i] = randomFloat(-std, std);\n    }\n  }\n}\n\nmodule.exports = RandomMatrix;\n","'use strict';\nvar at = require('./_string-at')(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n","'use strict';\n\nvar classof = require('./_classof');\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n\nvar regexpFlags = require('./_flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar regexpExec = require('./_regexp-exec');\nrequire('./_export')({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n","'use strict';\nrequire('./es6.regexp.exec');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\nvar regexpExec = require('./_regexp-exec');\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","/**\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function cloneNegative(product, left) {\n  product.rows = parseInt(left.rows, 10);\n  product.columns = parseInt(left.columns, 10);\n  product.weights = left.weights.slice(0);\n  product.deltas = left.deltas.slice(0);\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = -left.weights[i];\n    product.deltas[i] = 0;\n  }\n};\n","/**\n * add {left} and {right} matrix weights into {into}\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function add(product, left, right) {\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = left.weights[i] + right.weights[i];\n    product.deltas[i] = 0;\n  }\n};\n","/**\n * adds {from} deltas to {left} and {right} deltas\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function addB(product, left, right) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    left.deltas[i] = product.deltas[i];\n    right.deltas[i] = product.deltas[i];\n  }\n};\n","/**\n * makes matrix weights and deltas all ones\n * @param {Matrix} product\n */\nmodule.exports = function allOnes(product) {\n  for (let i = 0; i < product.weights.length; i++) {\n    product.weights[i] = 1;\n    product.deltas[i] = 0;\n  }\n};\n","/**\n * multiply {left} and {right} matrix weights to {into}\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiply(product, left, right) {\n  const leftRows = left.rows;\n  const leftColumns = left.columns;\n  const rightColumns = right.columns;\n\n  // loop over rows of left\n  for (let leftRow = 0; leftRow < leftRows; leftRow++) {\n    const leftRowBase = leftColumns * leftRow;\n    const rightRowBase = rightColumns * leftRow;\n    // loop over cols of right\n    for (let rightColumn = 0; rightColumn < rightColumns; rightColumn++) {\n      // dot product loop\n      let dot = 0;\n      // loop over columns of left\n      for (let leftColumn = 0; leftColumn < leftColumns; leftColumn++) {\n        const rightColumnBase = rightColumns * leftColumn;\n        const leftIndex = leftRowBase + leftColumn;\n        const rightIndex = rightColumnBase + rightColumn;\n        dot += left.weights[leftIndex] * right.weights[rightIndex];\n        left.deltas[leftIndex] = 0;\n        right.deltas[rightIndex] = 0;\n      }\n      product.weights[rightRowBase + rightColumn] = dot;\n    }\n  }\n};\n","/**\n * multiplies {from} deltas to {left} and {right}\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiplyB(product, left, right) {\n  const leftRows = left.rows;\n  const leftColumns = left.columns;\n  const rightColumns = right.columns;\n\n  // loop over rows of left\n  for (let leftRowRoot = 0; leftRowRoot < leftRows; leftRowRoot++) {\n    const leftRowBase = leftColumns * leftRowRoot;\n    const rightRowBase = rightColumns * leftRowRoot;\n    // loop over cols of right\n    for (let rightColumn = 0; rightColumn < rightColumns; rightColumn++) {\n      // loop over columns of left\n      for (let leftColumn = 0; leftColumn < leftColumns; leftColumn++) {\n        const rightColumnBase = rightColumns * leftColumn;\n        const leftRow = leftRowBase + leftColumn;\n        const rightRow = rightColumnBase + rightColumn;\n        const backPropagateValue = product.deltas[rightRowBase + rightColumn];\n        left.deltas[leftRow] += right.weights[rightRow] * backPropagateValue;\n        right.deltas[rightRow] += left.weights[leftRow] * backPropagateValue;\n      }\n    }\n  }\n};\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiplyElement(product, left, right) {\n  const { weights } = left;\n  for (let i = 0; i < weights.length; i++) {\n    product.weights[i] = left.weights[i] * right.weights[i];\n    product.deltas[i] = 0;\n  }\n};\n","/**\n * multiplies {left} and {right} weight by {from} deltas into {left} and {right} deltas\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Matrix} right\n */\nmodule.exports = function multiplyElementB(product, left, right) {\n  for (let i = 0; i < left.weights.length; i++) {\n    left.deltas[i] = right.weights[i] * product.deltas[i];\n    right.deltas[i] = left.weights[i] * product.deltas[i];\n  }\n};\n","/**\n *\n * relu {m} weights to {into} weights\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function relu(product, left) {\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = Math.max(0, left.weights[i]); // relu\n    product.deltas[i] = 0;\n  }\n};\n","/**\n * adds {from} deltas to {m} deltas when {m} weights are above other a threshold of 0\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function reluB(product, left) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    left.deltas[i] = left.weights[i] > 0 ? product.deltas[i] : 0;\n  }\n};\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Number} rowPluckIndex\n */\nmodule.exports = function rowPluck(product, left, rowPluckIndex) {\n  const { columns } = left;\n  const rowBase = columns * rowPluckIndex;\n  for (let column = 0; column < columns; column++) {\n    product.weights[column] = left.weights[rowBase + column];\n    product.deltas[column] = 0;\n  }\n};\n","/**\n * adds {from} deltas into {m} deltas\n * @param {Matrix} product\n * @param {Matrix} left\n * @param {Number} rowIndex\n */\nmodule.exports = function rowPluckB(product, left, rowIndex) {\n  const { columns } = left;\n  const rowBase = columns * rowIndex;\n  for (let column = 0; column < columns; column++) {\n    left.deltas[rowBase + column] = product.deltas[column];\n  }\n};\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function sigmoid(product, left) {\n  // sigmoid nonlinearity\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = 1 / (1 + Math.exp(-left.weights[i]));\n    product.deltas[i] = 0;\n  }\n};\n\n// function sig(x) {\n//   // helper function for computing sigmoid\n//   return 1 / (1 + Math.exp(-x));\n// }\n","/**\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function sigmoidB(product, left) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    const mwi = product.weights[i];\n    left.deltas[i] = mwi * (1 - mwi) * product.deltas[i];\n  }\n};\n","/**\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function tanh(product, left) {\n  // tanh nonlinearity\n  for (let i = 0; i < left.weights.length; i++) {\n    product.weights[i] = Math.tanh(left.weights[i]);\n    product.deltas[i] = 0;\n  }\n};\n","/**\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function tanhB(product, left) {\n  for (let i = 0; i < product.deltas.length; i++) {\n    // grad for z = tanh(x) is (1 - z^2)\n    const mwi = product.weights[i];\n    left.deltas[i] = (1 - mwi * mwi) * product.deltas[i];\n  }\n};\n","const Matrix = require('.');\n\n/**\n *\n * @param {Matrix} m\n * @returns {Matrix}\n */\nmodule.exports = function softmax(m) {\n  const result = new Matrix(m.rows, m.columns); // probability volume\n  let maxVal = -999999;\n  for (let i = 0; i < m.weights.length; i++) {\n    if (m.weights[i] > maxVal) {\n      maxVal = m.weights[i];\n    }\n  }\n\n  let s = 0;\n  for (let i = 0; i < m.weights.length; i++) {\n    result.weights[i] = Math.exp(m.weights[i] - maxVal);\n    s += result.weights[i];\n  }\n\n  for (let i = 0; i < m.weights.length; i++) {\n    result.weights[i] /= s;\n  }\n\n  // no backward pass here needed\n  // since we will use the computed probabilities outside\n  // to set gradients directly on m\n  return result;\n};\n","const Matrix = require('./');\n// const OnesMatrix = require('./ones-matrix');\n// const copy = require('./copy');\nconst cloneNegative = require('./clone-negative');\nconst add = require('./add');\nconst addB = require('./add-b');\nconst allOnes = require('./all-ones');\nconst multiply = require('./multiply');\nconst multiplyB = require('./multiply-b');\nconst multiplyElement = require('./multiply-element');\nconst multiplyElementB = require('./multiply-element-b');\nconst relu = require('./relu');\nconst reluB = require('./relu-b');\nconst rowPluck = require('./row-pluck');\nconst rowPluckB = require('./row-pluck-b');\nconst sigmoid = require('./sigmoid');\nconst sigmoidB = require('./sigmoid-b');\nconst tanh = require('./tanh');\nconst tanhB = require('./tanh-b');\nconst softmax = require('./softmax');\n\nclass Equation {\n  constructor() {\n    this.inputRow = 0;\n    this.inputValue = null;\n    this.states = [];\n  }\n\n  /**\n   * connects two matrices together by add\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  add(left, right) {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n    const product = new Matrix(left.rows, left.columns);\n    this.states.push({\n      left,\n      right,\n      product,\n      forwardFn: add,\n      backpropagationFn: addB,\n    });\n    return product;\n  }\n\n  /**\n   *\n   * @param {Number} rows\n   * @param {Number} columns\n   * @returns {Matrix}\n   */\n  allOnes(rows, columns) {\n    const product = new Matrix(rows, columns);\n    this.states.push({\n      left: product,\n      product,\n      forwardFn: allOnes,\n    });\n    return product;\n  }\n\n  /**\n   *\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  cloneNegative(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: cloneNegative,\n    });\n    return product;\n  }\n\n  /**\n   * connects two matrices together by subtract\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  subtract(left, right) {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n    return this.add(\n      this.add(this.allOnes(left.rows, left.columns), this.cloneNegative(left)),\n      right\n    );\n  }\n\n  /**\n   * connects two matrices together by multiply\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  multiply(left, right) {\n    if (left.columns !== right.rows) {\n      throw new Error('misaligned matrices');\n    }\n    const product = new Matrix(left.rows, right.columns);\n    this.states.push({\n      left,\n      right,\n      product,\n      forwardFn: multiply,\n      backpropagationFn: multiplyB,\n    });\n    return product;\n  }\n\n  /**\n   * connects two matrices together by multiplyElement\n   * @param {Matrix} left\n   * @param {Matrix} right\n   * @returns {Matrix}\n   */\n  multiplyElement(left, right) {\n    if (left.weights.length !== right.weights.length) {\n      throw new Error('misaligned matrices');\n    }\n    const product = new Matrix(left.rows, left.columns);\n    this.states.push({\n      left,\n      right,\n      product,\n      forwardFn: multiplyElement,\n      backpropagationFn: multiplyElementB,\n    });\n    return product;\n  }\n\n  /**\n   * connects a matrix to relu\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  relu(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: relu,\n      backpropagationFn: reluB,\n    });\n    return product;\n  }\n\n  /**\n   * copy a matrix\n   * @param {Matrix} input\n   * @returns {Matrix}\n   */\n  input(input) {\n    this.states.push({\n      product: input,\n      forwardFn: (product) => {\n        product.weights = input.weights = this.inputValue;\n      },\n    });\n    return input;\n  }\n\n  /**\n   * connects a matrix via a row\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  inputMatrixToRow(m) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    const product = new Matrix(m.columns, 1);\n    this.states.push({\n      left: m,\n      get right() {\n        return self.inputRow;\n      },\n      product,\n      forwardFn: rowPluck,\n      backpropagationFn: rowPluckB,\n    });\n    return product;\n  }\n\n  /**\n   * connects a matrix to sigmoid\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  sigmoid(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: sigmoid,\n      backpropagationFn: sigmoidB,\n    });\n    return product;\n  }\n\n  /**\n   * connects a matrix to tanh\n   * @param {Matrix} m\n   * @returns {Matrix}\n   */\n  tanh(m) {\n    const product = new Matrix(m.rows, m.columns);\n    this.states.push({\n      left: m,\n      product,\n      forwardFn: tanh,\n      backpropagationFn: tanhB,\n    });\n    return product;\n  }\n\n  /**\n   *\n   * @param m\n   * @returns {Matrix}\n   */\n  observe(m) {\n    this.states.push({\n      forwardFn() {},\n      backpropagationFn() {},\n    });\n    return m;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  runIndex(rowIndex = 0) {\n    this.inputRow = rowIndex;\n    let state;\n    for (let i = 0, max = this.states.length; i < max; i++) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('forwardFn')) {\n        continue;\n      }\n      state.forwardFn(state.product, state.left, state.right);\n    }\n\n    return state.product;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  runInput(inputValue) {\n    this.inputValue = inputValue;\n    let state;\n    for (let i = 0, max = this.states.length; i < max; i++) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('forwardFn')) {\n        continue;\n      }\n      state.forwardFn(state.product, state.left, state.right);\n    }\n\n    return state.product;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  backpropagate() {\n    let i = this.states.length;\n    let state;\n    while (i-- > 0) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('backpropagationFn')) {\n        continue;\n      }\n      // console.log('backfn', state.backpropagationFn.name);\n      // console.log('before', state.product.deltas);\n      state.backpropagationFn(state.product, state.left, state.right);\n      // console.log('after', state.product.deltas);\n    }\n\n    return state.product;\n  }\n\n  /**\n   * @patam {Number} [rowIndex]\n   * @output {Matrix}\n   */\n  backpropagateIndex(rowIndex = 0) {\n    this.inputRow = rowIndex;\n\n    let i = this.states.length;\n    let state;\n    while (i-- > 0) {\n      state = this.states[i];\n      if (!state.hasOwnProperty('backpropagationFn')) {\n        continue;\n      }\n      state.backpropagationFn(state.product, state.left, state.right);\n    }\n\n    return state.product;\n  }\n\n  predictTarget(input, target) {\n    const output = this.runInput(input);\n    let errorSum = 0;\n    for (let i = 0; i < output.weights.length; i++) {\n      const error = output.weights[i] - target[i];\n      // set gradients into log probabilities\n      errorSum += Math.abs(error);\n      // write gradients into log probabilities\n      output.deltas[i] = error;\n    }\n    return errorSum;\n  }\n\n  predictTargetIndex(input, target) {\n    const output = this.runIndex(input);\n    // set gradients into log probabilities\n    const logProbabilities = output; // interpret output as log probabilities\n    const probabilities = softmax(output); // compute the softmax probabilities\n\n    // write gradients into log probabilities\n    logProbabilities.deltas = probabilities.weights.slice(0);\n    logProbabilities.deltas[target] -= 1;\n\n    // accumulate base 2 log prob and do smoothing\n    return -Math.log2(probabilities.weights[target]);\n  }\n}\n\nmodule.exports = Equation;\n","const { randomFloat } = require('../../utilities/random');\n\n/**\n *\n * @param {Matrix} m\n * @returns {number}\n */\nmodule.exports = function sampleI(m) {\n  // sample argmax from w, assuming w are\n  // probabilities that sum to one\n  const r = randomFloat(0, 1);\n  let x = 0;\n  let i = 0;\n  const w = m.weights;\n\n  while (true) {\n    x += w[i];\n    if (x > r) {\n      return i;\n    }\n    i++;\n  }\n};\n","/**\n *\n * @param {Matrix} m\n * @returns {number}\n */\nmodule.exports = function maxI(m) {\n  // argmax of array w\n  const { weights } = m;\n  let maxv = weights[0];\n  let maxix = 0;\n  for (let i = 1; i < weights.length; i++) {\n    const v = weights[i];\n    if (v < maxv) continue;\n\n    maxix = i;\n    maxv = v;\n  }\n  return maxix;\n};\n","/*\n *\n * @param {Matrix} product\n * @param {Matrix} left\n */\nmodule.exports = function copy(product, left) {\n  product.rows = parseInt(left.rows, 10);\n  product.columns = parseInt(left.columns, 10);\n  product.weights = left.weights.slice(0);\n  product.deltas = left.deltas.slice(0);\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","/**\n *\n * @param {String[]|Number[]} values\n * @param maxThreshold\n * @constructor\n */\nclass DataFormatter {\n  constructor(values, maxThreshold = 0) {\n    if (values === undefined) return;\n\n    this.values = values;\n    // go over all characters and keep track of all unique ones seen\n    // count up all characters\n    this.indexTable = {};\n    this.characterTable = {};\n    this.characters = [];\n    this.specialIndexes = [];\n    this.buildCharactersFromIterable(values);\n    this.buildTables(maxThreshold);\n  }\n\n  buildCharactersFromIterable(values) {\n    const tempCharactersTable = {};\n    for (\n      let dataFormatterIndex = 0, dataFormatterLength = values.length;\n      dataFormatterIndex < dataFormatterLength;\n      dataFormatterIndex++\n    ) {\n      const characters = values[dataFormatterIndex];\n\n      if (characters.hasOwnProperty('length')) {\n        for (\n          let characterIndex = 0, charactersLength = characters.length;\n          characterIndex < charactersLength;\n          characterIndex++\n        ) {\n          const character = characters[characterIndex];\n          if (tempCharactersTable.hasOwnProperty(character)) continue;\n          tempCharactersTable[character] = true;\n          this.characters.push(character);\n        }\n      } else {\n        const character = values[dataFormatterIndex];\n        if (tempCharactersTable.hasOwnProperty(character)) continue;\n        tempCharactersTable[dataFormatterIndex] = true;\n        this.characters.push(character);\n      }\n    }\n  }\n\n  buildTables(maxThreshold) {\n    // filter by count threshold and create pointers\n    const charactersLength = this.characters.length;\n    for (\n      let characterIndex = 0;\n      characterIndex < charactersLength;\n      characterIndex++\n    ) {\n      const character = this.characters[characterIndex];\n      if (characterIndex >= maxThreshold) {\n        // add character to dataFormatter\n        this.indexTable[character] = characterIndex;\n        this.characterTable[characterIndex] = character;\n      }\n    }\n  }\n\n  toIndexes(value, maxThreshold = 0) {\n    const result = [];\n    const { indexTable } = this;\n\n    for (let i = 0, max = value.length; i < max; i++) {\n      const character = value[i];\n      let index = indexTable[character];\n      if (index === undefined) {\n        if (indexTable.unrecognized) {\n          index = indexTable.unrecognized;\n        } else {\n          throw new Error(`unrecognized character \"${character}\"`);\n        }\n      }\n      if (index < maxThreshold) continue;\n      result.push(index);\n    }\n    return result;\n  }\n\n  toIndexesInputOutput(value1, value2 = null, maxThreshold = 0) {\n    let result = null;\n    if (typeof value1 === 'string') {\n      result = this.toIndexes(\n        value1.split('').concat(['stop-input', 'start-output']),\n        maxThreshold\n      );\n    } else if (typeof value1 === 'number') {\n      result = this.toIndexes(\n        value1.toString().split('').concat(['stop-input', 'start-output']),\n        maxThreshold\n      );\n    } else {\n      result = this.toIndexes(\n        value1.concat(['stop-input', 'start-output']),\n        maxThreshold\n      );\n    }\n\n    if (value2 === null) return result;\n\n    if (typeof value2 === 'string') {\n      return result.concat(this.toIndexes(value2.split(''), maxThreshold));\n    } else {\n      return result.concat(this.toIndexes(value2, maxThreshold));\n    }\n  }\n\n  toCharacters(indices, maxThreshold = 0) {\n    const result = [];\n    const { indexTable, characterTable } = this;\n\n    for (let i = 0, max = indices.length; i < max; i++) {\n      const index = indices[i];\n      if (index < maxThreshold) continue;\n      let character = characterTable[index];\n      if (character === undefined) {\n        if (indexTable.unrecognized) {\n          character = characterTable[indexTable.unrecognized];\n        } else {\n          throw new Error(`unrecognized index \"${index}\"`);\n        }\n      } else if (character !== null) {\n        result.push(character);\n      }\n    }\n\n    return result;\n  }\n\n  toString(indices, maxThreshold) {\n    return this.toCharacters(indices, maxThreshold).join('');\n  }\n\n  addInputOutput() {\n    this.addSpecial('stop-input');\n    this.addSpecial('start-output');\n  }\n\n  addUnrecognized() {\n    this.addSpecial('unrecognized');\n  }\n\n  static fromAllPrintable(maxThreshold, values = ['\\n']) {\n    for (let i = 32; i <= 126; i++) {\n      values.push(String.fromCharCode(i));\n    }\n    return new DataFormatter(values, maxThreshold);\n  }\n\n  static fromAllPrintableInputOutput(maxThreshold, values = ['\\n']) {\n    const dataFormatter = DataFormatter.fromAllPrintable(maxThreshold, values);\n    dataFormatter.addInputOutput();\n    return dataFormatter;\n  }\n\n  static fromStringInputOutput(string, maxThreshold) {\n    const values = String.prototype.concat(...new Set(string));\n    const dataFormatter = new DataFormatter(values, maxThreshold);\n    dataFormatter.addInputOutput();\n    return dataFormatter;\n  }\n\n  static fromArrayInputOutput(array, maxThreshold) {\n    const dataFormatter = new DataFormatter(\n      array.filter((v, i, a) => a.indexOf(v) === i),\n      maxThreshold\n    );\n    dataFormatter.addInputOutput();\n    return dataFormatter;\n  }\n\n  static fromString(string, maxThreshold) {\n    const values = String.prototype.concat(...new Set(string));\n    return new DataFormatter(values, maxThreshold);\n  }\n\n  static fromJSON(json) {\n    const dataFormatter = new DataFormatter();\n    dataFormatter.indexTable = json.indexTable;\n    dataFormatter.characterTable = json.characterTable;\n    dataFormatter.values = json.values;\n    dataFormatter.characters = json.characters;\n    dataFormatter.specialIndexes = json.specialIndexes;\n    return dataFormatter;\n  }\n\n  addSpecial(special, character = null) {\n    const specialIndex = (this.indexTable[special] = this.characters.length);\n    this.characterTable[specialIndex] = character;\n    this.specialIndexes.push(this.characters.length);\n    this.characters.push(special);\n  }\n\n  countSpecial(output) {\n    let sum = 0;\n    for (let i = 0; i < this.specialIndexes; i++) {\n      let index = -1;\n      while ((index = output.indexOf(this.specialIndexes[i], index) > -1)) {\n        sum++;\n      }\n    }\n    return sum;\n  }\n\n  toFunctionString() {\n    return `\nvar characterTable = ${JSON.stringify(this.characterTable)};\nvar indexTable = ${JSON.stringify(this.indexTable)};\nvar characters = ${JSON.stringify(this.characters)};\nvar dataFormatter = {\n  toIndexes: ${this.toIndexes.toString()},\n  toIndexesInputOutput: ${this.toIndexesInputOutput.toString()},\n  toCharacters: ${this.toCharacters.toString()},\n};`;\n  }\n}\n\nfunction validateAndCast(value) {\n  if (typeof value === 'string') return value;\n  if (typeof value === 'number') return value.toString();\n  if (typeof value[0] === 'string') return value;\n  if (typeof value[0] === 'number') {\n    return value.map((value) => value.toString());\n  }\n  throw new Error(\n    'unrecognized value, expected string[], string, number[], or number'\n  );\n}\n\n/**\n *\n * @param {*[]} data\n * @returns {Number[]}\n */\nfunction defaultRNNFormatter(data) {\n  if (\n    typeof data[0] !== 'string' &&\n    !Array.isArray(data[0]) &&\n    (!data[0].hasOwnProperty('input') || !data[0].hasOwnProperty('output'))\n  ) {\n    return data;\n  }\n  const values = [];\n  const result = [];\n  if (\n    typeof data[0] === 'string' ||\n    typeof data[0] === 'number' ||\n    Array.isArray(data[0])\n  ) {\n    if (!this.dataFormatter) {\n      for (let i = 0; i < data.length; i++) {\n        values.push(validateAndCast(data[i]));\n      }\n      this.dataFormatter = new DataFormatter(values);\n      this.dataFormatter.addUnrecognized();\n    }\n    for (let i = 0, max = data.length; i < max; i++) {\n      result.push(this.formatDataIn(data[i]));\n    }\n  } else if (data[0].input && data[0].output) {\n    if (!this.dataFormatter) {\n      for (let i = 0; i < data.length; i++) {\n        const datum = data[i];\n        values.push(\n          validateAndCast(datum.input),\n          validateAndCast(datum.output)\n        );\n      }\n      this.dataFormatter = DataFormatter.fromArrayInputOutput(values);\n      this.dataFormatter.addUnrecognized();\n    }\n    for (let i = 0, max = data.length; i < max; i++) {\n      result.push(\n        this.formatDataIn(\n          validateAndCast(data[i].input),\n          validateAndCast(data[i].output)\n        )\n      );\n    }\n  } else {\n    throw new Error('unrecognized data');\n  }\n  return result;\n}\n\nmodule.exports = { DataFormatter, defaultRNNFormatter };\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst Equation = require('./matrix/equation');\nconst sampleI = require('./matrix/sample-i');\nconst maxI = require('./matrix/max-i');\nconst softmax = require('./matrix/softmax');\nconst copy = require('./matrix/copy');\nconst { randomFloat } = require('../utilities/random');\nconst { zeros } = require('../utilities/zeros');\nconst {\n  DataFormatter,\n  defaultRNNFormatter,\n} = require('../utilities/data-formatter');\nconst NeuralNetwork = require('../neural-network');\n\nclass RNN {\n  constructor(options = {}) {\n    const { defaults } = this.constructor;\n\n    Object.assign(this, defaults, options);\n    this.trainOpts = {};\n    this.updateTrainingOptions({\n      ...this.constructor.trainDefaults,\n      ...options,\n    });\n\n    this.stepCache = {};\n    this.runs = 0;\n    this.ratioClipped = null;\n    this.model = null;\n    this.inputLookup = null;\n    this.inputLookupLength = null;\n    this.outputLookup = null;\n    this.outputLookupLength = null;\n\n    if (options.json) {\n      this.fromJSON(options.json);\n    }\n  }\n\n  initialize() {\n    this.model = {\n      input: null,\n      hiddenLayers: [],\n      output: null,\n      equations: [],\n      allMatrices: [],\n      equationConnections: [],\n      outputConnector: null,\n    };\n\n    if (this.dataFormatter) {\n      this.inputSize = this.inputRange = this.outputSize = this.dataFormatter.characters.length;\n    }\n    this.mapModel();\n  }\n\n  createHiddenLayers() {\n    // 0 is end, so add 1 to offset\n    this.model.hiddenLayers.push(\n      this.constructor.getModel(this.hiddenLayers[0], this.inputSize)\n    );\n    let prevSize = this.hiddenLayers[0];\n\n    for (let d = 1; d < this.hiddenLayers.length; d++) {\n      // loop over depths\n      const hiddenSize = this.hiddenLayers[d];\n      this.model.hiddenLayers.push(\n        this.constructor.getModel(hiddenSize, prevSize)\n      );\n      prevSize = hiddenSize;\n    }\n  }\n\n  /**\n   *\n   * @param {Number} hiddenSize\n   * @param {Number} prevSize\n   * @returns {object}\n   */\n  static getModel(hiddenSize, prevSize) {\n    return {\n      // wxh\n      weight: new RandomMatrix(hiddenSize, prevSize, 0.08),\n      // whh\n      transition: new RandomMatrix(hiddenSize, hiddenSize, 0.08),\n      // bhh\n      bias: new Matrix(hiddenSize, 1),\n    };\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    const relu = equation.relu.bind(equation);\n    const add = equation.add.bind(equation);\n    const multiply = equation.multiply.bind(equation);\n\n    return relu(\n      add(\n        add(\n          multiply(hiddenLayer.weight, inputMatrix),\n          multiply(hiddenLayer.transition, previousResult)\n        ),\n        hiddenLayer.bias\n      )\n    );\n  }\n\n  createInputMatrix() {\n    // 0 is end, so add 1 to offset\n    this.model.input = new RandomMatrix(\n      this.inputRange + 1,\n      this.inputSize,\n      0.08\n    );\n  }\n\n  createOutputMatrix() {\n    const { model } = this;\n    const { outputSize } = this;\n    const lastHiddenSize = this.hiddenLayers[this.hiddenLayers.length - 1];\n\n    // 0 is end, so add 1 to offset\n    // whd\n    model.outputConnector = new RandomMatrix(\n      outputSize + 1,\n      lastHiddenSize,\n      0.08\n    );\n    // 0 is end, so add 1 to offset\n    // bd\n    model.output = new Matrix(outputSize + 1, 1);\n  }\n\n  bindEquation() {\n    const { model } = this;\n    const equation = new Equation();\n    const outputs = [];\n    const equationConnection =\n      model.equationConnections.length > 0\n        ? model.equationConnections[model.equationConnections.length - 1]\n        : this.initialLayerInputs;\n    // 0 index\n    let output = this.constructor.getEquation(\n      equation,\n      equation.inputMatrixToRow(model.input),\n      equationConnection[0],\n      model.hiddenLayers[0]\n    );\n    outputs.push(output);\n    // 1+ indices\n    for (let i = 1, max = this.hiddenLayers.length; i < max; i++) {\n      output = this.constructor.getEquation(\n        equation,\n        output,\n        equationConnection[i],\n        model.hiddenLayers[i]\n      );\n      outputs.push(output);\n    }\n\n    model.equationConnections.push(outputs);\n    equation.add(\n      equation.multiply(model.outputConnector, output),\n      model.output\n    );\n    model.equations.push(equation);\n  }\n\n  mapModel() {\n    const { model } = this;\n    const { hiddenLayers } = model;\n    const { allMatrices } = model;\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n\n    this.createInputMatrix();\n    if (!model.input) throw new Error('net.model.input not set');\n    allMatrices.push(model.input);\n\n    this.createHiddenLayers();\n    if (!model.hiddenLayers.length) throw new Error('net.hiddenLayers not set');\n    for (let i = 0, max = hiddenLayers.length; i < max; i++) {\n      const hiddenMatrix = hiddenLayers[i];\n      for (const property in hiddenMatrix) {\n        if (!hiddenMatrix.hasOwnProperty(property)) continue;\n        allMatrices.push(hiddenMatrix[property]);\n      }\n    }\n\n    this.createOutputMatrix();\n    if (!model.outputConnector)\n      throw new Error('net.model.outputConnector not set');\n    if (!model.output) throw new Error('net.model.output not set');\n\n    allMatrices.push(model.outputConnector);\n    allMatrices.push(model.output);\n  }\n\n  /**\n   *\n   * @param {Number[]|string[]|string} input\n   * @param {boolean} [logErrorRate]\n   * @returns {number}\n   */\n  trainPattern(input, logErrorRate) {\n    const error = this.trainInput(input);\n    this.backpropagate(input);\n    this.adjustWeights();\n\n    if (logErrorRate) {\n      return error;\n    }\n  }\n\n  /**\n   *\n   * @param {Number[]} input\n   * @returns {number}\n   */\n  trainInput(input) {\n    this.runs++;\n    const { model } = this;\n    const max = input.length;\n    let log2ppl = 0;\n    let equation;\n    while (model.equations.length <= input.length + 1) {\n      // last is zero\n      this.bindEquation();\n    }\n    for (\n      let inputIndex = -1, inputMax = input.length;\n      inputIndex < inputMax;\n      inputIndex++\n    ) {\n      // start and end tokens are zeros\n      const equationIndex = inputIndex + 1;\n      equation = model.equations[equationIndex];\n\n      const source = inputIndex === -1 ? 0 : input[inputIndex] + 1; // first step: start with START token\n      const target = inputIndex === max - 1 ? 0 : input[inputIndex + 1] + 1; // last step: end with END token\n      log2ppl += equation.predictTargetIndex(source, target);\n    }\n    return Math.pow(2, log2ppl / (max - 1)) / 100;\n  }\n\n  /**\n   * @param {Number[]} input\n   */\n  backpropagate(input) {\n    let i = input.length;\n    const { model } = this;\n    const { equations } = model;\n    while (i > 0) {\n      equations[i].backpropagateIndex(input[i - 1] + 1);\n      i--;\n    }\n    equations[0].backpropagateIndex(0);\n  }\n\n  adjustWeights() {\n    const {\n      regc,\n      clipval,\n      model,\n      decayRate,\n      stepCache,\n      smoothEps,\n      trainOpts,\n    } = this;\n    const { learningRate } = trainOpts;\n    const { allMatrices } = model;\n    let numClipped = 0;\n    let numTot = 0;\n    for (let matrixIndex = 0; matrixIndex < allMatrices.length; matrixIndex++) {\n      const matrix = allMatrices[matrixIndex];\n      const { weights, deltas } = matrix;\n      if (!(matrixIndex in stepCache)) {\n        stepCache[matrixIndex] = zeros(matrix.rows * matrix.columns);\n      }\n      const cache = stepCache[matrixIndex];\n      for (let i = 0; i < weights.length; i++) {\n        let r = deltas[i];\n        const w = weights[i];\n        // rmsprop adaptive learning rate\n        cache[i] = cache[i] * decayRate + (1 - decayRate) * r * r;\n        // gradient clip\n        if (r > clipval) {\n          r = clipval;\n          numClipped++;\n        }\n        if (r < -clipval) {\n          r = -clipval;\n          numClipped++;\n        }\n        numTot++;\n        // update (and regularize)\n        weights[i] =\n          w + (-learningRate * r) / Math.sqrt(cache[i] + smoothEps) - regc * w;\n      }\n    }\n    this.ratioClipped = numClipped / numTot;\n  }\n\n  /**\n   *\n   * @returns boolean\n   */\n  get isRunnable() {\n    if (this.model.equations.length === 0) {\n      console.error(`No equations bound, did you run train()?`);\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   *\n   * @param {Number[]|*} [rawInput]\n   * @param {Boolean} [isSampleI]\n   * @param {Number} temperature\n   * @returns {*}\n   */\n  run(rawInput = [], isSampleI = false, temperature = 1) {\n    const maxPredictionLength =\n      this.maxPredictionLength +\n      rawInput.length +\n      (this.dataFormatter ? this.dataFormatter.specialIndexes.length : 0);\n    if (!this.isRunnable) return null;\n    const input = this.formatDataIn(rawInput);\n    const { model } = this;\n    const output = [];\n    let i = 0;\n    while (true) {\n      const previousIndex =\n        i === 0 ? 0 : i < input.length ? input[i - 1] + 1 : output[i - 1];\n      while (model.equations.length <= i) {\n        this.bindEquation();\n      }\n      const equation = model.equations[i];\n      // sample predicted letter\n      const outputMatrix = equation.runIndex(previousIndex);\n      const logProbabilities = new Matrix(\n        model.output.rows,\n        model.output.columns\n      );\n      copy(logProbabilities, outputMatrix);\n      if (temperature !== 1 && isSampleI) {\n        /**\n         * scale log probabilities by temperature and re-normalize\n         * if temperature is high, logProbabilities will go towards zero\n         * and the softmax outputs will be more diffuse. if temperature is\n         * very low, the softmax outputs will be more peaky\n         */\n        for (let j = 0, max = logProbabilities.weights.length; j < max; j++) {\n          logProbabilities.weights[j] /= temperature;\n        }\n      }\n\n      const probs = softmax(logProbabilities);\n      const nextIndex = isSampleI ? sampleI(probs) : maxI(probs);\n\n      i++;\n      if (nextIndex === 0) {\n        // END token predicted, break out\n        break;\n      }\n      if (i >= maxPredictionLength) {\n        // something is wrong\n        break;\n      }\n\n      output.push(nextIndex);\n    }\n\n    /**\n     * we slice the input length here, not because output contains it, but it will be erroneous as we are sending the\n     * network what is contained in input, so the data is essentially guessed by the network what could be next, till it\n     * locks in on a value.\n     * Kind of like this, values are from input:\n     * 0 -> 4 (or in English: \"beginning on input\" -> \"I have no idea? I'll guess what they want next!\")\n     * 2 -> 2 (oh how interesting, I've narrowed down values...)\n     * 1 -> 9 (oh how interesting, I've now know what the values are...)\n     * then the output looks like: [4, 2, 9,...]\n     * so we then remove the erroneous data to get our true output\n     */\n    return this.formatDataOut(\n      input,\n      output.slice(input.length).map((value) => value - 1)\n    );\n  }\n\n  /**\n   *\n   * Verifies network sizes are initilaized\n   * If they are not it will initialize them\n   */\n  verifyIsInitialized() {\n    if (!this.model) {\n      this.initialize();\n    }\n  }\n\n  /**\n   *\n   * @param options\n   *    Supports all `trainDefaults` properties\n   *    also supports:\n   *       learningRate: (number),\n   *       momentum: (number),\n   *       activation: 'sigmoid', 'relu', 'leaky-relu', 'tanh'\n   */\n  updateTrainingOptions(options) {\n    Object.keys(this.constructor.trainDefaults).forEach(\n      (p) =>\n        (this.trainOpts[p] = options.hasOwnProperty(p)\n          ? options[p]\n          : this.trainOpts[p])\n    );\n    this.validateTrainingOptions(this.trainOpts);\n    this.setLogMethod(options.log || this.trainOpts.log);\n    this.activation = options.activation || this.activation;\n  }\n\n  validateTrainingOptions(options) {\n    NeuralNetwork.prototype.validateTrainingOptions.call(this, options);\n  }\n\n  /**\n   *\n   * @param log\n   * if a method is passed in method is used\n   * if false passed in nothing is logged\n   * @returns error\n   */\n  setLogMethod(log) {\n    if (typeof log === 'function') {\n      this.trainOpts.log = log;\n    } else if (log) {\n      this.trainOpts.log = console.log;\n    } else {\n      this.trainOpts.log = false;\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @param options\n   * @protected\n   * @return {object} { data, status, endTime }\n   */\n  prepTraining(data, options) {\n    this.updateTrainingOptions(options);\n    data = this.formatData(data);\n    const endTime = Date.now() + this.trainOpts.timeout;\n\n    const status = {\n      error: 1,\n      iterations: 0,\n    };\n\n    this.verifyIsInitialized(data);\n\n    return {\n      data,\n      status,\n      endTime,\n    };\n  }\n\n  /**\n   *\n   * @param {Object[]|String[]} data an array of objects: `{input: 'string', output: 'string'}` or an array of strings\n   * @param {Object} [options]\n   * @returns {{error: number, iterations: number}}\n   */\n  train(data, options = {}) {\n    this.trainOpts = options = {\n      ...this.constructor.trainDefaults,\n      ...options,\n    };\n    const { iterations } = options;\n    const { errorThresh } = options;\n    const log = options.log === true ? console.log : options.log;\n    const { logPeriod } = options;\n    const { callback } = options;\n    const { callbackPeriod } = options;\n    let error = Infinity;\n    let i;\n\n    if (this.hasOwnProperty('setupData')) {\n      data = this.setupData(data);\n    }\n\n    this.verifyIsInitialized();\n\n    for (i = 0; i < iterations && error > errorThresh; i++) {\n      let sum = 0;\n      for (let j = 0; j < data.length; j++) {\n        const err = this.trainPattern(data[j], true);\n        sum += err;\n      }\n      error = sum / data.length;\n\n      if (isNaN(error)) {\n        throw new Error(\n          'Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. '\n        );\n      }\n      if (log && i % logPeriod === 0) {\n        log(`iterations: ${i}, training error: ${error}`);\n      }\n      if (callback && i % callbackPeriod === 0) {\n        callback({ error, iterations: i });\n      }\n    }\n\n    return {\n      error,\n      iterations: i,\n    };\n  }\n\n  addFormat() {\n    throw new Error('not yet implemented');\n  }\n\n  /**\n   *\n   * @returns {Object}\n   */\n  toJSON() {\n    const { defaults } = this.constructor;\n    if (!this.model) {\n      this.initialize();\n    }\n    const { model } = this;\n    const options = {};\n    for (const p in defaults) {\n      if (defaults.hasOwnProperty(p)) {\n        options[p] = this[p];\n      }\n    }\n\n    return {\n      type: this.constructor.name,\n      options,\n      input: model.input.toJSON(),\n      hiddenLayers: model.hiddenLayers.map((hiddenLayer) => {\n        const layers = {};\n        for (const p in hiddenLayer) {\n          layers[p] = hiddenLayer[p].toJSON();\n        }\n        return layers;\n      }),\n      outputConnector: this.model.outputConnector.toJSON(),\n      output: this.model.output.toJSON(),\n    };\n  }\n\n  fromJSON(json) {\n    const { defaults } = this.constructor;\n    const { options } = json;\n    this.model = null;\n    this.hiddenLayers = null;\n    const allMatrices = [];\n    const input = Matrix.fromJSON(json.input);\n    allMatrices.push(input);\n    const hiddenLayers = [];\n\n    // backward compatibility for hiddenSizes\n    (json.hiddenLayers || json.hiddenSizes).forEach((hiddenLayer) => {\n      const layers = {};\n      for (const p in hiddenLayer) {\n        layers[p] = Matrix.fromJSON(hiddenLayer[p]);\n        allMatrices.push(layers[p]);\n      }\n      hiddenLayers.push(layers);\n    });\n\n    const outputConnector = Matrix.fromJSON(json.outputConnector);\n    allMatrices.push(outputConnector);\n    const output = Matrix.fromJSON(json.output);\n    allMatrices.push(output);\n\n    Object.assign(this, defaults, options);\n\n    // backward compatibility\n    if (options.hiddenSizes) {\n      this.hiddenLayers = options.hiddenSizes;\n    }\n\n    if (options.dataFormatter) {\n      this.dataFormatter = DataFormatter.fromJSON(options.dataFormatter);\n    }\n\n    this.model = {\n      input,\n      hiddenLayers,\n      output,\n      allMatrices,\n      outputConnector,\n      equations: [],\n      equationConnections: [],\n    };\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n    this.bindEquation();\n  }\n\n  /**\n   * @param {Function} [cb]\n   * @returns {Function}\n   */\n  toFunction(cb) {\n    const { model } = this;\n    const { equations } = this.model;\n    const equation = equations[1];\n    const { states } = equation;\n    const jsonString = JSON.stringify(this.toJSON());\n\n    function previousConnectionIndex(m) {\n      const connection = model.equationConnections[0];\n      const { states } = equations[0];\n      for (let i = 0, max = states.length; i < max; i++) {\n        if (states[i].product === m) {\n          return i;\n        }\n      }\n      return connection.indexOf(m);\n    }\n\n    function matrixOrigin(m, stateIndex) {\n      for (let i = 0, max = states.length; i < max; i++) {\n        const state = states[i];\n\n        if (i === stateIndex) {\n          const j = previousConnectionIndex(m);\n          if (j > -1 && (m === state.left || m === state.right)) {\n            return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n          }\n          return `new Matrix(${m.rows}, ${m.columns})`;\n        }\n\n        if (m === state.product) return `states[${i}].product`;\n        if (m === state.right) return `states[${i}].right`;\n        if (m === state.left) return `states[${i}].left`;\n      }\n    }\n\n    function matrixToString(m, stateIndex) {\n      if (!m || !m.rows || !m.columns) return 'null';\n\n      if (m === model.input) return `json.input`;\n      if (m === model.outputConnector) return `json.outputConnector`;\n      if (m === model.output) return `json.output`;\n\n      for (let i = 0, max = model.hiddenLayers.length; i < max; i++) {\n        const hiddenLayer = model.hiddenLayers[i];\n        for (const p in hiddenLayer) {\n          if (!hiddenLayer.hasOwnProperty(p)) continue;\n          if (hiddenLayer[p] !== m) continue;\n          return `json.hiddenLayers[${i}].${p}`;\n        }\n      }\n\n      return matrixOrigin(m, stateIndex);\n    }\n\n    function toInner(fnString) {\n      // crude, but should be sufficient for now\n      // function() { body }\n      fnString = fnString.toString().split('{');\n      fnString.shift();\n      // body }\n      fnString = fnString.join('{');\n      fnString = fnString.split('}');\n      fnString.pop();\n      // body\n      return fnString\n        .join('}')\n        .split('\\n')\n        .join('\\n        ')\n        .replace('product.deltas[i] = 0;', '')\n        .replace('product.deltas[column] = 0;', '')\n        .replace('left.deltas[leftIndex] = 0;', '')\n        .replace('right.deltas[rightIndex] = 0;', '')\n        .replace('product.deltas = left.deltas.slice(0);', '');\n    }\n\n    function fileName(fnName) {\n      return `src/recurrent/matrix/${fnName.replace(/[A-Z]/g, function (value) {\n        return `-${value.toLowerCase()}`;\n      })}.js`;\n    }\n\n    const statesRaw = [];\n    const usedFunctionNames = {};\n    const innerFunctionsSwitch = [];\n    for (let i = 0, max = states.length; i < max; i++) {\n      const state = states[i];\n      statesRaw.push(`states[${i}] = {\n      name: '${state.forwardFn.name}',\n      left: ${matrixToString(state.left, i)},\n      right: ${matrixToString(state.right, i)},\n      product: ${matrixToString(state.product, i)}\n    }`);\n\n      const fnName = state.forwardFn.name;\n      if (!usedFunctionNames[fnName]) {\n        usedFunctionNames[fnName] = true;\n        innerFunctionsSwitch.push(\n          `        case '${fnName}': //compiled from ${fileName(fnName)}\n          ${toInner(state.forwardFn.toString())}\n          break;`\n        );\n      }\n    }\n\n    const src = `\n  if (typeof rawInput === 'undefined') rawInput = [];\n  if (typeof isSampleI === 'undefined') isSampleI = false;\n  if (typeof temperature === 'undefined') temperature = 1;\n  var json = ${jsonString};\n  ${\n    this.dataFormatter\n      ? `${this.dataFormatter.toFunctionString()};\n  Object.assign(dataFormatter, json.options.dataFormatter);`\n      : ''\n  }\n  ${\n    this.dataFormatter && typeof this.formatDataIn === 'function'\n      ? `const formatDataIn = function (input, output) { ${toInner(\n          this.formatDataIn.toString()\n        )} }.bind({ dataFormatter });`\n      : ''\n  }\n  ${\n    this.dataFormatter !== null && typeof this.formatDataOut === 'function'\n      ? `const formatDataOut = function formatDataOut(input, output) { ${toInner(\n          this.formatDataOut.toString()\n        )} }.bind({ dataFormatter });`\n      : ''\n  }\n  var maxPredictionLength =\n    ${this.maxPredictionLength} +\n    rawInput.length +\n    ${this.dataFormatter ? this.dataFormatter.specialIndexes.length : 0};\n  var input = ${\n    this.dataFormatter && typeof this.formatDataIn === 'function'\n      ? 'formatDataIn(rawInput)'\n      : 'rawInput'\n  };\n  var _i = 0;\n  var output = [];\n  var states = [];\n  var prevStates;\n  while (true) {\n    var previousIndex = (_i === 0\n        ? 0\n        : _i < input.length\n          ? input[_i - 1] + 1\n          : output[_i - 1])\n          ;\n    var rowPluckIndex = previousIndex;\n    prevStates = states;\n    states = [];\n    ${statesRaw.join(';\\n    ')};\n    for (var stateIndex = 0, stateMax = ${\n      statesRaw.length\n    }; stateIndex < stateMax; stateIndex++) {\n      var state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n      switch (state.name) {\n${innerFunctionsSwitch.join('\\n')}\n      }\n    }\n\n    var logProbabilities = state.product;\n    if (temperature !== 1 && isSampleI) {\n      for (var q = 0, nq = logProbabilities.weights.length; q < nq; q++) {\n        logProbabilities.weights[q] /= temperature;\n      }\n    }\n\n    var probs = softmax(logProbabilities);\n    var nextIndex = isSampleI ? sampleI(probs) : maxI(probs);\n\n    _i++;\n    if (nextIndex === 0) {\n      break;\n    }\n    if (_i >= maxPredictionLength) {\n      break;\n    }\n\n    output.push(nextIndex);\n  }\n  ${\n    this.dataFormatter && typeof this.formatDataOut === 'function'\n      ? 'return formatDataOut(input, output.slice(input.length).map(function(value) { return value - 1; }))'\n      : 'return output.slice(input.length).map(function(value) { return value - 1; })'\n  };\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n  }\n  ${zeros.toString()}\n  ${softmax.toString()}\n  ${randomFloat.toString()}\n  ${sampleI.toString()}\n  ${maxI.toString()}`;\n    // eslint-disable-next-line no-new-func\n    return new Function(\n      'rawInput',\n      'isSampleI',\n      'temperature',\n      cb ? cb(src) : src\n    );\n  }\n}\n\nRNN.defaults = {\n  inputSize: 20,\n  inputRange: 20,\n  hiddenLayers: [20, 20],\n  outputSize: 20,\n  decayRate: 0.999,\n  smoothEps: 1e-8,\n  regc: 0.000001,\n  clipval: 5,\n  maxPredictionLength: 100,\n  /**\n   *\n   * @param {*[]} data\n   * @returns {Number[]}\n   */\n  setupData: defaultRNNFormatter,\n  /**\n   *\n   * @param {*[]} input\n   * @param {*[]} output\n   * @returns {Number[]}\n   */\n  formatDataIn(input, output = null) {\n    if (this.dataFormatter) {\n      if (this.dataFormatter.indexTable.hasOwnProperty('stop-input')) {\n        return this.dataFormatter.toIndexesInputOutput(input, output);\n      }\n      return this.dataFormatter.toIndexes(input);\n    }\n    return input;\n  },\n  /**\n   *\n   * @param {Number[]} input\n   * @param {Number[]} output\n   * @returns {*}\n   */\n  formatDataOut(input, output) {\n    if (this.dataFormatter) {\n      return this.dataFormatter.toCharacters(output).join('');\n    }\n    return output;\n  },\n  dataFormatter: null,\n};\n\nRNN.trainDefaults = {\n  iterations: 20000,\n  errorThresh: 0.005,\n  log: false,\n  logPeriod: 10,\n  learningRate: 0.01,\n  callback: null,\n  callbackPeriod: 10,\n};\n\nmodule.exports = RNN;\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst RNN = require('./rnn');\n\nclass GRU extends RNN {\n  static getModel(hiddenSize, prevSize) {\n    return {\n      // update Gate\n      // wzxh\n      updateGateInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wzhh\n      updateGateHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bz\n      updateGateBias: new Matrix(hiddenSize, 1),\n      // reset Gate\n      // wrxh\n      resetGateInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wrhh\n      resetGateHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // br\n      resetGateBias: new Matrix(hiddenSize, 1),\n      // cell write parameters\n      // wcxh\n      cellWriteInputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wchh\n      cellWriteHiddenMatrix: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bc\n      cellWriteBias: new Matrix(hiddenSize, 1),\n    };\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    const sigmoid = equation.sigmoid.bind(equation);\n    const add = equation.add.bind(equation);\n    const multiply = equation.multiply.bind(equation);\n    const multiplyElement = equation.multiplyElement.bind(equation);\n    const tanh = equation.tanh.bind(equation);\n    const allOnes = equation.allOnes.bind(equation);\n    const cloneNegative = equation.cloneNegative.bind(equation);\n\n    // update gate\n    const updateGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.updateGateInputMatrix, inputMatrix),\n          multiply(hiddenLayer.updateGateHiddenMatrix, previousResult)\n        ),\n        hiddenLayer.updateGateBias\n      )\n    );\n\n    // reset gate\n    const resetGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.resetGateInputMatrix, inputMatrix),\n          multiply(hiddenLayer.resetGateHiddenMatrix, previousResult)\n        ),\n        hiddenLayer.resetGateBias\n      )\n    );\n\n    // cell\n    const cell = tanh(\n      add(\n        add(\n          multiply(hiddenLayer.cellWriteInputMatrix, inputMatrix),\n          multiply(\n            hiddenLayer.cellWriteHiddenMatrix,\n            multiplyElement(resetGate, previousResult)\n          )\n        ),\n        hiddenLayer.cellWriteBias\n      )\n    );\n\n    // compute hidden state as gated, saturated cell activations\n    // negate updateGate\n    return add(\n      multiplyElement(\n        add(\n          allOnes(updateGate.rows, updateGate.columns),\n          cloneNegative(updateGate)\n        ),\n        cell\n      ),\n      multiplyElement(previousResult, updateGate)\n    );\n  }\n}\n\nmodule.exports = GRU;\n","function ArrayLookupTable(data, prop) {\n  this.length = 0;\n  this.prop = prop;\n  const table = (this.table = {});\n  for (let i = 0; i < data.length; i++) {\n    const datum = data[i];\n    const input = datum[prop];\n    for (let j = 0; j < input.length; j++) {\n      for (const p in input[j]) {\n        if (table.hasOwnProperty(p)) continue;\n        table[p] = this.length++;\n      }\n    }\n  }\n}\n\nmodule.exports = ArrayLookupTable;\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst Equation = require('./matrix/equation');\nconst RNN = require('./rnn');\nconst { zeros } = require('../utilities/zeros');\nconst softmax = require('./matrix/softmax');\nconst { randomFloat } = require('../utilities/random');\nconst sampleI = require('./matrix/sample-i');\nconst maxI = require('./matrix/max-i');\nconst lookup = require('../lookup');\nconst LookupTable = require('../utilities/lookup-table');\nconst ArrayLookupTable = require('../utilities/array-lookup-table');\nconst {\n  arraysToFloat32Arrays,\n  arrayToFloat32Arrays,\n  objectsToFloat32Arrays,\n  objectToFloat32Arrays,\n  objectToFloat32Array,\n} = require('../utilities/cast');\n\nclass RNNTimeStep extends RNN {\n  // eslint-disable-next-line\n  constructor(options) {\n    super(options);\n  }\n\n  createInputMatrix() {}\n\n  createOutputMatrix() {\n    const { model } = this;\n    const { outputSize } = this;\n    const lastHiddenSize = this.hiddenLayers[this.hiddenLayers.length - 1];\n\n    // whd\n    model.outputConnector = new RandomMatrix(outputSize, lastHiddenSize, 0.08);\n    // bd\n    model.output = new RandomMatrix(outputSize, 1, 0.08);\n  }\n\n  bindEquation() {\n    const { model } = this;\n    const { hiddenLayers } = this;\n    const layers = model.hiddenLayers;\n    const equation = new Equation();\n    const outputs = [];\n    const equationConnection =\n      model.equationConnections.length > 0\n        ? model.equationConnections[model.equationConnections.length - 1]\n        : this.initialLayerInputs;\n    // 0 index\n    let output = this.constructor.getEquation(\n      equation,\n      equation.input(new Matrix(this.inputSize, 1)),\n      equationConnection[0],\n      layers[0]\n    );\n    outputs.push(output);\n    // 1+ indices\n    for (let i = 1, max = hiddenLayers.length; i < max; i++) {\n      output = this.constructor.getEquation(\n        equation,\n        output,\n        equationConnection[i],\n        layers[i]\n      );\n      outputs.push(output);\n    }\n\n    model.equationConnections.push(outputs);\n    equation.add(\n      equation.multiply(model.outputConnector, output),\n      model.output\n    );\n    model.equations.push(equation);\n  }\n\n  mapModel() {\n    const { model } = this;\n    const { hiddenLayers } = model;\n    const { allMatrices } = model;\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n\n    this.createHiddenLayers();\n    if (!model.hiddenLayers.length) throw new Error('net.hiddenLayers not set');\n    for (let i = 0, max = hiddenLayers.length; i < max; i++) {\n      const hiddenMatrix = hiddenLayers[i];\n      for (const property in hiddenMatrix) {\n        if (!hiddenMatrix.hasOwnProperty(property)) continue;\n        allMatrices.push(hiddenMatrix[property]);\n      }\n    }\n\n    this.createOutputMatrix();\n    if (!model.outputConnector)\n      throw new Error('net.model.outputConnector not set');\n    if (!model.output) throw new Error('net.model.output not set');\n\n    allMatrices.push(model.outputConnector);\n    allMatrices.push(model.output);\n  }\n\n  backpropagate() {\n    for (let i = this.model.equations.length - 1; i > -1; i--) {\n      this.model.equations[i].backpropagate();\n    }\n  }\n\n  /**\n   *\n   * @param {number[]|number[][]|object|object[][]} [rawInput]\n   * @returns {number[]|number|object|object[]|object[][]}\n   */\n  run(rawInput) {\n    if (this.inputSize === 1) {\n      if (this.outputLookup) {\n        this.run = this.runObject;\n        return this.runObject(rawInput);\n      }\n      this.run = this.runNumbers;\n      return this.runNumbers(rawInput);\n    }\n    if (this.outputLookup) {\n      this.run = this.runObjects;\n      return this.runObjects(rawInput);\n    }\n    this.run = this.runArrays;\n    return this.runArrays(rawInput);\n  }\n\n  forecast(input, count) {\n    if (this.inputSize === 1) {\n      if (this.outputLookup) {\n        this.forecast = this.runObject;\n        return this.runObject(input);\n      }\n      this.forecast = this.forecastNumbers;\n      return this.forecastNumbers(input, count);\n    }\n    if (this.outputLookup) {\n      this.forecast = this.forecastObjects;\n      return this.forecastObjects(input, count);\n    }\n    this.forecast = this.forecastArrays;\n    return this.forecastArrays(input, count);\n  }\n\n  /**\n   *\n   * @param {Object[]|String[]} data an array of objects: `{input: 'string', output: 'string'}` or an array of strings\n   * @param {Object} [options]\n   * @returns {{error: number, iterations: number}}\n   */\n  train(data, options = {}) {\n    this.trainOpts = options = {\n      ...this.constructor.trainDefaults,\n      ...options,\n    };\n    const { iterations } = options;\n    const { errorThresh } = options;\n    const log = options.log === true ? console.log : options.log;\n    const { logPeriod } = options;\n    const { callback } = options;\n    const { callbackPeriod } = options;\n\n    if (this.inputSize === 1 || !this.inputSize) {\n      this.setSize(data);\n    }\n\n    data = this.formatData(data);\n    let error = Infinity;\n    let i;\n\n    this.verifyIsInitialized(data);\n\n    for (i = 0; i < iterations && error > errorThresh; i++) {\n      let sum = 0;\n      for (let j = 0; j < data.length; j++) {\n        const err = this.trainPattern(data[j], true);\n        sum += err;\n      }\n      error = sum / data.length;\n\n      if (isNaN(error))\n        throw new Error(\n          'Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. '\n        );\n      if (log && i % logPeriod === 0) {\n        log(`iterations: ${i}, training error: ${error}`);\n      }\n      if (callback && i % callbackPeriod === 0) {\n        callback({ error, iterations: i });\n      }\n    }\n\n    return {\n      error,\n      iterations: i,\n    };\n  }\n\n  /**\n   *\n   * @param data\n   * Verifies network sizes are initialized\n   * If they are not it will initialize them based off the data set.\n   */\n  verifyIsInitialized(data) {\n    if (data[0].input) {\n      this.trainInput = this.trainInputOutput;\n    } else if (data[0].length > 0) {\n      if (data[0][0].length > 0) {\n        this.trainInput = this.trainArrays;\n      } else if (this.inputSize > 1) {\n        this.trainInput = this.trainArrays;\n      } else {\n        this.trainInput = this.trainNumbers;\n      }\n    }\n\n    if (!this.model) {\n      this.initialize();\n    }\n  }\n\n  setSize(data) {\n    const dataShape = lookup.dataShape(data).join(',');\n    switch (dataShape) {\n      case 'array,array,number':\n      case 'array,object,number':\n      case 'array,datum,array,number':\n      case 'array,datum,object,number':\n        // probably 1\n        break;\n      case 'array,array,array,number':\n        this.inputSize = this.outputSize = data[0][0].length;\n        break;\n      case 'array,array,object,number':\n        this.inputSize = this.outputSize = Object.keys(\n          lookup.toTable2D(data)\n        ).length;\n        break;\n      case 'array,datum,array,array,number':\n        this.inputSize = this.outputSize = data[0].input[0].length;\n        break;\n      case 'array,datum,array,object,number':\n        this.inputSize = Object.keys(lookup.toInputTable2D(data)).length;\n        this.outputSize = Object.keys(lookup.toOutputTable2D(data)).length;\n        break;\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n  }\n\n  trainNumbers(input) {\n    const { model } = this;\n    const { equations } = model;\n    while (equations.length < input.length) {\n      this.bindEquation();\n    }\n    let errorSum = 0;\n    for (let i = 0, max = input.length - 1; i < max; i++) {\n      errorSum += equations[i].predictTarget([input[i]], [input[i + 1]]);\n    }\n    this.end();\n    return errorSum / input.length;\n  }\n\n  runNumbers(input) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    if (this.inputLookup) {\n      input = lookup.toArray(this.inputLookup, input, this.inputLookupLength);\n    }\n    while (equations.length <= input.length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    for (let i = 0; i < input.length; i++) {\n      lastOutput = equations[i].runInput(new Float32Array([input[i]]));\n    }\n    this.end();\n    return lastOutput.weights[0];\n  }\n\n  forecastNumbers(input, count) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    const length = input.length + count;\n    while (equations.length <= length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    let equationIndex = 0;\n    for (let i = 0; i < input.length; i++) {\n      lastOutput = equations[equationIndex++].runInput([input[i]]);\n    }\n    const result = [lastOutput.weights[0]];\n    for (let i = 0, max = count - 1; i < max; i++) {\n      lastOutput = equations[equationIndex++].runInput(lastOutput.weights);\n      result.push(lastOutput.weights[0]);\n    }\n    this.end();\n    return result;\n  }\n\n  runObject(input) {\n    if (this.inputLookup === this.outputLookup) {\n      const inputArray = lookup.toArrayShort(this.inputLookup, input);\n      return lookup.toObjectPartial(\n        this.outputLookup,\n        this.forecastNumbers(\n          inputArray,\n          this.outputLookupLength - inputArray.length\n        ),\n        inputArray.length\n      );\n    }\n    return lookup.toObject(\n      this.outputLookup,\n      this.forecastNumbers(\n        lookup.toArray(this.inputLookup, input, this.inputLookupLength),\n        this.outputLookupLength\n      )\n    );\n  }\n\n  runObjects(input) {\n    input = input.map((value) =>\n      lookup.toArray(this.inputLookup, value, this.inputLookupLength)\n    );\n    return this.forecastArrays(input, 1).map((value) =>\n      lookup.toObject(this.outputLookup, value)\n    )[0];\n  }\n\n  forecastObjects(input, count) {\n    input = input.map((value) =>\n      lookup.toArray(this.inputLookup, value, this.inputLookupLength)\n    );\n    return this.forecastArrays(input, count).map((value) =>\n      lookup.toObject(this.outputLookup, value)\n    );\n  }\n\n  trainInputOutput(object) {\n    const { model } = this;\n    const { input } = object;\n    const { output } = object;\n    const totalSize = input.length + output.length;\n    const { equations } = model;\n    while (equations.length < totalSize) {\n      this.bindEquation();\n    }\n    let errorSum = 0;\n    let equationIndex = 0;\n    for (\n      let inputIndex = 0, max = input.length - 1;\n      inputIndex < max;\n      inputIndex++\n    ) {\n      errorSum += equations[equationIndex++].predictTarget(\n        input[inputIndex],\n        input[inputIndex + 1]\n      );\n    }\n    errorSum += equations[equationIndex++].predictTarget(\n      input[input.length - 1],\n      output[0]\n    );\n    for (\n      let outputIndex = 0, max = output.length - 1;\n      outputIndex < max;\n      outputIndex++\n    ) {\n      errorSum += equations[equationIndex++].predictTarget(\n        output[outputIndex],\n        output[outputIndex + 1]\n      );\n    }\n    this.end();\n    return errorSum / totalSize;\n  }\n\n  trainArrays(input) {\n    const { model } = this;\n    const { equations } = model;\n    while (equations.length < input.length) {\n      this.bindEquation();\n    }\n    let errorSum = 0;\n    for (let i = 0, max = input.length - 1; i < max; i++) {\n      errorSum += equations[i].predictTarget(input[i], input[i + 1]);\n    }\n    this.end();\n    return errorSum / input.length;\n  }\n\n  runArrays(input) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    while (equations.length <= input.length) {\n      this.bindEquation();\n    }\n    if (this.inputLookup) {\n      input = lookup.toArrays(this.inputLookup, input, this.inputLookupLength);\n    }\n    let lastOutput;\n    for (let i = 0; i < input.length; i++) {\n      const outputMatrix = equations[i].runInput(input[i]);\n      lastOutput = outputMatrix.weights;\n    }\n    this.end();\n    if (this.outputLookup) {\n      return lookup.toObject(this.outputLookup, lastOutput);\n    }\n    return lastOutput;\n  }\n\n  forecastArrays(input, count) {\n    if (!this.isRunnable) return null;\n    const { model } = this;\n    const { equations } = model;\n    const length = input.length + count;\n    while (equations.length <= length) {\n      this.bindEquation();\n    }\n    let lastOutput;\n    let equationIndex = 0;\n    for (let i = 0; i < input.length; i++) {\n      lastOutput = equations[equationIndex++].runInput(input[i]);\n    }\n    const result = [lastOutput.weights];\n    for (let i = 0, max = count - 1; i < max; i++) {\n      lastOutput = equations[equationIndex++].runInput(lastOutput.weights);\n      result.push(lastOutput.weights.slice(0));\n    }\n    this.end();\n    return result;\n  }\n\n  end() {\n    this.model.equations[this.model.equations.length - 1].runInput(\n      new Float32Array(this.outputSize)\n    );\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {*}\n   */\n  formatData(data) {\n    const dataShape = lookup.dataShape(data).join(',');\n    const result = [];\n    switch (dataShape) {\n      case 'array,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        for (let i = 0; i < data.length; i++) {\n          result.push(Float32Array.from([data[i]]));\n        }\n        return [result];\n      }\n      case 'array,array,number': {\n        if (this.inputSize === 1 && this.outputSize === 1) {\n          for (let i = 0; i < data.length; i++) {\n            result.push(arrayToFloat32Arrays(data[i]));\n          }\n          return result;\n        }\n        if (this.inputSize !== data[0].length) {\n          throw new Error('inputSize must match data input size');\n        }\n        if (this.outputSize !== data[0].length) {\n          throw new Error('outputSize must match data input size');\n        }\n        for (let i = 0; i < data.length; i++) {\n          result.push(Float32Array.from(data[i]));\n        }\n        return [result];\n      }\n      case 'array,object,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        if (!this.inputLookup) {\n          const lookupTable = new LookupTable(data);\n          this.inputLookup = this.outputLookup = lookupTable.table;\n          this.inputLookupLength = this.outputLookupLength = lookupTable.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          result.push(objectToFloat32Arrays(data[i]));\n        }\n        return result;\n      }\n      case 'array,datum,array,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        for (let i = 0; i < data.length; i++) {\n          const datum = data[i];\n          result.push({\n            input: arrayToFloat32Arrays(datum.input),\n            output: arrayToFloat32Arrays(datum.output),\n          });\n        }\n        return result;\n      }\n      case 'array,datum,object,number': {\n        if (this.inputSize !== 1) {\n          throw new Error('inputSize must be 1 for this data size');\n        }\n        if (this.outputSize !== 1) {\n          throw new Error('outputSize must be 1 for this data size');\n        }\n        if (!this.inputLookup) {\n          const inputLookup = new LookupTable(data, 'input');\n          this.inputLookup = inputLookup.table;\n          this.inputLookupLength = inputLookup.length;\n        }\n        if (!this.outputLookup) {\n          const outputLookup = new LookupTable(data, 'output');\n          this.outputLookup = outputLookup.table;\n          this.outputLookupLength = outputLookup.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          const datum = data[i];\n          result.push({\n            input: objectToFloat32Arrays(datum.input),\n            output: objectToFloat32Arrays(datum.output),\n          });\n        }\n        return result;\n      }\n      case 'array,array,array,number': {\n        for (let i = 0; i < data.length; i++) {\n          result.push(arraysToFloat32Arrays(data[i]));\n        }\n        return result;\n      }\n      case 'array,array,object,number': {\n        if (!this.inputLookup) {\n          const lookupTable = new LookupTable(data);\n          this.inputLookup = this.outputLookup = lookupTable.table;\n          this.inputLookupLength = this.outputLookupLength = lookupTable.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          const array = [];\n          for (let j = 0; j < data[i].length; j++) {\n            array.push(\n              objectToFloat32Array(\n                data[i][j],\n                this.inputLookup,\n                this.inputLookupLength\n              )\n            );\n          }\n          result.push(array);\n        }\n        return result;\n      }\n      case 'array,datum,array,array,number': {\n        if (this.inputSize === 1 && this.outputSize === 1) {\n          for (let i = 0; i < data.length; i++) {\n            const datum = data[i];\n            result.push({\n              input: Float32Array.from(datum.input),\n              output: Float32Array.from(datum.output),\n            });\n          }\n        } else {\n          if (this.inputSize !== data[0].input[0].length) {\n            throw new Error('inputSize must match data input size');\n          }\n          if (this.outputSize !== data[0].output[0].length) {\n            throw new Error('outputSize must match data output size');\n          }\n          for (let i = 0; i < data.length; i++) {\n            const datum = data[i];\n            result.push({\n              input: arraysToFloat32Arrays(datum.input),\n              output: arraysToFloat32Arrays(datum.output),\n            });\n          }\n        }\n        return result;\n      }\n      case 'array,datum,array,object,number': {\n        if (!this.inputLookup) {\n          const inputLookup = new ArrayLookupTable(data, 'input');\n          this.inputLookup = inputLookup.table;\n          this.inputLookupLength = inputLookup.length;\n        }\n        if (!this.outputLookup) {\n          const outputLookup = new ArrayLookupTable(data, 'output');\n          this.outputLookup = outputLookup.table;\n          this.outputLookupLength = outputLookup.length;\n        }\n        for (let i = 0; i < data.length; i++) {\n          const datum = data[i];\n          result.push({\n            input: objectsToFloat32Arrays(\n              datum.input,\n              this.inputLookup,\n              this.inputLookupLength\n            ),\n            output: objectsToFloat32Arrays(\n              datum.output,\n              this.outputLookup,\n              this.outputLookupLength\n            ),\n          });\n        }\n        return result;\n      }\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n  }\n\n  /**\n   *\n   * @param data\n   * @returns {\n   *  {\n   *    error: number,\n   *    misclasses: Array\n   *  }\n   * }\n   */\n  test(data) {\n    const formattedData = this.formatData(data);\n    // for classification problems\n    const misclasses = [];\n    // run each pattern through the trained network and collect\n    // error and misclassification statistics\n    let errorSum = 0;\n    const dataShape = lookup.dataShape(data).join(',');\n    switch (dataShape) {\n      case 'array,array,number': {\n        if (this.inputSize === 1) {\n          for (let i = 0; i < formattedData.length; i++) {\n            const input = formattedData[i];\n            const output = this.run(input.splice(0, input.length - 1));\n            const target = input[input.length - 1][0];\n            const error = target - output;\n            const errorMSE = error * error;\n            errorSum += errorMSE;\n            const errorsAbs = Math.abs(errorMSE);\n            if (errorsAbs > this.trainOpts.errorThresh) {\n              const misclass = data[i];\n              Object.assign(misclass, {\n                value: input,\n                actual: output,\n              });\n              misclasses.push(misclass);\n            }\n          }\n          break;\n        }\n        throw new Error('unknown data shape or configuration');\n      }\n      case 'array,array,array,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const input = formattedData[i];\n          const output = this.run(input.splice(0, input.length - 1));\n          const target = input[input.length - 1];\n          let errors = 0;\n          let errorCount = 0;\n          for (let j = 0; j < output.length; j++) {\n            errorCount++;\n            const error = target[j] - output[j];\n            // mse\n            errors += error * error;\n          }\n          errorSum += errors / errorCount;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              value: misclass,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const input = formattedData[i];\n          const output = this.run(\n            lookup.toObjectPartial(\n              this.outputLookup,\n              input,\n              0,\n              input.length - 1\n            )\n          );\n          const target = input[input.length - 1];\n          let errors = 0;\n          let p;\n          // for (p in output) {\n          // }\n          const error = target[i] - output[p];\n          // mse\n          errors += error * error;\n          errorSum += errors;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              value: misclass,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,array,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const input = formattedData[i];\n          const output = this.run(input.slice(0, input.length - 1));\n          const target = data[i][input.length - 1];\n          let errors = 0;\n          let errorCount = 0;\n          for (const p in output) {\n            const error = target[p] - output[p];\n            // mse\n            errors += error * error;\n            errorCount++;\n          }\n          errorSum += errors / errorCount;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              value: misclass,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,datum,array,number':\n      case 'array,datum,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const datum = formattedData[i];\n          const output = this.forecast(datum.input, datum.output.length);\n          let errors = 0;\n          let errorCount = 0;\n          for (let j = 0; j < output.length; j++) {\n            const error = datum.output[j][0] - output[j];\n            errors += error * error;\n            errorCount++;\n          }\n\n          errorSum += errors / errorCount;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            Object.assign(misclass, {\n              actual: this.outputLookup\n                ? lookup.toObject(this.outputLookup, output)\n                : output,\n            });\n            misclasses.push(misclass);\n          }\n        }\n        break;\n      }\n      case 'array,datum,array,array,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const datum = formattedData[i];\n          const output = this.forecast(datum.input, datum.output.length);\n          let errors = 0;\n          for (let j = 0; j < output.length; j++) {\n            for (let k = 0; k < output[j].length; k++) {\n              const error = datum.output[j][k] - output[j][k];\n              errors += error * error;\n            }\n          }\n\n          errorSum += errors;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              input: misclass.input,\n              output: misclass.output,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      case 'array,datum,array,object,number': {\n        for (let i = 0; i < formattedData.length; i++) {\n          const datum = formattedData[i];\n          const output = this.forecast(datum.input, datum.output.length);\n          let errors = 0;\n          for (let j = 0; j < output.length; j++) {\n            for (const p in output[j]) {\n              const error = data[i].output[j][p] - output[j][p];\n              errors += error * error;\n            }\n          }\n\n          errorSum += errors;\n          const errorsAbs = Math.abs(errors);\n          if (errorsAbs > this.trainOpts.errorThresh) {\n            const misclass = data[i];\n            misclasses.push({\n              input: misclass.input,\n              output: misclass.output,\n              actual: output,\n            });\n          }\n        }\n        break;\n      }\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n\n    return {\n      error: errorSum / formattedData.length,\n      misclasses,\n      total: formattedData.length,\n    };\n  }\n\n  addFormat(value) {\n    const dataShape = lookup.dataShape(value).join(',');\n    switch (dataShape) {\n      case 'array,array,number':\n      case 'datum,array,array,number':\n      case 'array,number':\n      case 'datum,array,number':\n        return;\n      case 'datum,object,number': {\n        this.inputLookup = lookup.addKeys(value.input, this.inputLookup);\n        if (this.inputLookup) {\n          this.inputLookupLength = Object.keys(this.inputLookup).length;\n        }\n        this.outputLookup = lookup.addKeys(value.output, this.outputLookup);\n        if (this.outputLookup) {\n          this.outputLookupLength = Object.keys(this.outputLookup).length;\n        }\n        break;\n      }\n      case 'object,number': {\n        this.inputLookup = this.outputLookup = lookup.addKeys(\n          value,\n          this.inputLookup\n        );\n        if (this.inputLookup) {\n          this.inputLookupLength = this.outputLookupLength = Object.keys(\n            this.inputLookup\n          ).length;\n        }\n        break;\n      }\n      case 'array,object,number': {\n        for (let i = 0; i < value.length; i++) {\n          this.inputLookup = this.outputLookup = lookup.addKeys(\n            value[i],\n            this.inputLookup\n          );\n          if (this.inputLookup) {\n            this.inputLookupLength = this.outputLookupLength = Object.keys(\n              this.inputLookup\n            ).length;\n          }\n        }\n        break;\n      }\n      case 'datum,array,object,number': {\n        for (let i = 0; i < value.input.length; i++) {\n          this.inputLookup = lookup.addKeys(value.input[i], this.inputLookup);\n          if (this.inputLookup) {\n            this.inputLookupLength = Object.keys(this.inputLookup).length;\n          }\n        }\n        for (let i = 0; i < value.output.length; i++) {\n          this.outputLookup = lookup.addKeys(\n            value.output[i],\n            this.outputLookup\n          );\n          if (this.outputLookup) {\n            this.outputLookupLength = Object.keys(this.outputLookup).length;\n          }\n        }\n        break;\n      }\n\n      default:\n        throw new Error('unknown data shape or configuration');\n    }\n  }\n\n  /**\n   *\n   * @returns {Object}\n   */\n  toJSON() {\n    const { defaults } = this.constructor;\n    if (!this.model) {\n      this.initialize();\n    }\n    const { model } = this;\n    const options = {};\n    for (const p in defaults) {\n      if (defaults.hasOwnProperty(p)) {\n        options[p] = this[p];\n      }\n    }\n\n    return {\n      type: this.constructor.name,\n      options,\n      hiddenLayers: model.hiddenLayers.map((hiddenLayer) => {\n        const layers = {};\n        for (const p in hiddenLayer) {\n          layers[p] = hiddenLayer[p].toJSON();\n        }\n        return layers;\n      }),\n      outputConnector: this.model.outputConnector.toJSON(),\n      output: this.model.output.toJSON(),\n      inputLookup: this.inputLookup,\n      inputLookupLength: this.inputLookupLength,\n      outputLookup: this.outputLookup,\n      outputLookupLength: this.outputLookupLength,\n    };\n  }\n\n  fromJSON(json) {\n    const { defaults } = this.constructor;\n    const { options } = json;\n    this.model = null;\n    this.hiddenLayers = null;\n    const allMatrices = [];\n    const hiddenLayers = [];\n\n    // backward compatibility for hiddenSizes\n    (json.hiddenLayers || json.hiddenSizes).forEach((hiddenLayer) => {\n      const layers = {};\n      for (const p in hiddenLayer) {\n        layers[p] = Matrix.fromJSON(hiddenLayer[p]);\n        allMatrices.push(layers[p]);\n      }\n      hiddenLayers.push(layers);\n    });\n\n    const outputConnector = Matrix.fromJSON(json.outputConnector);\n    allMatrices.push(outputConnector);\n    const output = Matrix.fromJSON(json.output);\n    allMatrices.push(output);\n\n    Object.assign(this, defaults, options);\n\n    // backward compatibility\n    if (options.hiddenSizes) {\n      this.hiddenLayers = options.hiddenSizes;\n    }\n\n    this.inputLookup = json.inputLookup;\n    this.inputLookupLength = json.inputLookupLength;\n    this.outputLookup = json.outputLookup;\n    this.outputLookupLength = json.outputLookupLength;\n\n    this.model = {\n      hiddenLayers,\n      output,\n      allMatrices,\n      outputConnector,\n      equations: [],\n      equationConnections: [],\n    };\n    this.initialLayerInputs = this.hiddenLayers.map(\n      (size) => new Matrix(size, 1)\n    );\n    this.bindEquation();\n  }\n\n  /**\n   * @param {Function} [cb]\n   * @returns {Function}\n   */\n  toFunction(cb) {\n    const { model } = this;\n    const { equations } = this.model;\n    const { inputSize } = this;\n    const { inputLookup } = this;\n    const { inputLookupLength } = this;\n    const { outputLookup } = this;\n    const { outputLookupLength } = this;\n    const equation = equations[1];\n    const { states } = equation;\n    const jsonString = JSON.stringify(this.toJSON());\n\n    function previousConnectionIndex(m) {\n      const connection = model.equationConnections[0];\n      const { states } = equations[0];\n      for (let i = 0, max = states.length; i < max; i++) {\n        if (states[i].product === m) {\n          return i;\n        }\n      }\n      return connection.indexOf(m);\n    }\n\n    function matrixOrigin(m, stateIndex) {\n      for (let i = 0, max = states.length; i < max; i++) {\n        const state = states[i];\n\n        if (i === stateIndex) {\n          const j = previousConnectionIndex(m);\n          switch (m) {\n            case state.left:\n              if (j > -1) {\n                return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n              }\n            // eslint-disable-next-line no-fallthrough\n            case state.right:\n              if (j > -1) {\n                return `typeof prevStates[${j}] === 'object' ? prevStates[${j}].product : new Matrix(${m.rows}, ${m.columns})`;\n              }\n            // eslint-disable-next-line no-fallthrough\n            case state.product:\n              return `new Matrix(${m.rows}, ${m.columns})`;\n            default:\n              throw Error('unknown state');\n          }\n        }\n\n        if (m === state.product) return `states[${i}].product`;\n        if (m === state.right) return `states[${i}].right`;\n        if (m === state.left) return `states[${i}].left`;\n      }\n    }\n\n    function matrixToString(m, stateIndex) {\n      if (!m || !m.rows || !m.columns) return 'null';\n      if (m === model.outputConnector) return `json.outputConnector`;\n      if (m === model.output) return `json.output`;\n\n      for (let i = 0, max = model.hiddenLayers.length; i < max; i++) {\n        const hiddenLayer = model.hiddenLayers[i];\n        for (const p in hiddenLayer) {\n          if (!hiddenLayer.hasOwnProperty(p)) continue;\n          if (hiddenLayer[p] !== m) continue;\n          return `json.hiddenLayers[${i}].${p}`;\n        }\n      }\n\n      return matrixOrigin(m, stateIndex);\n    }\n\n    function formatInputData() {\n      if (!inputLookup) return '';\n      if (inputSize === 1) {\n        if (inputLookup === outputLookup) {\n          return `function lookupInput(input) {\n            var table = ${JSON.stringify(inputLookup)};\n            var result = [];\n            for (var p in table) {\n              if (!input.hasOwnProperty(p)) break;\n              result.push(Float32Array.from([input[p]]));\n            }\n            return result;\n          }`;\n        }\n        return `function lookupInput(input) {\n          var table = ${JSON.stringify(inputLookup)};\n          var result = [];\n          for (var p in table) {\n            result.push(Float32Array.from([input[p]]));\n          }\n          return result;\n        }`;\n      }\n      return `function lookupInput(rawInputs) {\n        var table = ${JSON.stringify(inputLookup)};\n        var result = [];\n        for (var i = 0; i < rawInputs.length; i++) {\n          var rawInput = rawInputs[i];\n          var input = new Float32Array(${inputLookupLength});\n          for (var p in table) {\n            input[table[p]] = rawInput.hasOwnProperty(p) ? rawInput[p] : 0;\n          }\n          result.push(input);\n        }\n        return result;\n      }`;\n    }\n\n    function formatOutputData() {\n      if (!outputLookup) return '';\n      if (inputSize === 1) {\n        if (inputLookup === outputLookup) {\n          return `function lookupOutputPartial(output, input) {\n            var table = ${JSON.stringify(outputLookup)};\n            var offset = input.length;\n            var result = {};\n            var i = 0;\n            for (var p in table) {\n              if (i++ < offset) continue;\n              result[p] = output[table[p] - offset][0];\n            }\n            return result;\n          }`;\n        }\n        return `function lookupOutput(output) {\n          var table = ${JSON.stringify(outputLookup)};\n          var result = {};\n          for (var p in table) {\n            result[p] = output[table[p]][0];\n          }\n          return result;\n        }`;\n      }\n      return `function lookupOutput(output) {\n        var table = ${JSON.stringify(outputLookup)};\n        var result = {};\n        for (var p in table) {\n          result[p] = output[table[p]];\n        }\n        return result;\n      }`;\n    }\n\n    function toInner(fnString) {\n      // crude, but should be sufficient for now\n      // function() { body }\n      fnString = fnString.toString().split('{');\n      fnString.shift();\n      // body }\n      fnString = fnString.join('{');\n      fnString = fnString.split('}');\n      fnString.pop();\n      // body\n\n      return fnString\n        .join('}')\n        .split('\\n')\n        .join('\\n        ')\n        .replace(\n          'product.weights = input.weights = this.inputValue;',\n          inputLookup && inputSize === 1\n            ? 'product.weights = _i < input.length ? input[_i]: prevStates[prevStates.length - 1].product.weights;'\n            : inputSize === 1\n            ? 'product.weights = [input[_i]];'\n            : 'product.weights = input[_i];'\n        )\n        .replace('product.deltas[i] = 0;', '')\n        .replace('product.deltas[column] = 0;', '')\n        .replace('left.deltas[leftIndex] = 0;', '')\n        .replace('right.deltas[rightIndex] = 0;', '')\n        .replace('product.deltas = left.deltas.slice(0);', '');\n    }\n\n    function fileName(fnName) {\n      return `src/recurrent/matrix/${fnName.replace(/[A-Z]/g, function (value) {\n        return `-${value.toLowerCase()}`;\n      })}.js`;\n    }\n\n    const statesRaw = [];\n    const usedFunctionNames = {};\n    const innerFunctionsSwitch = [];\n    for (let i = 0, max = states.length; i < max; i++) {\n      const state = states[i];\n      statesRaw.push(`states[${i}] = {\n      name: '${state.forwardFn.name}',\n      left: ${matrixToString(state.left, i)},\n      right: ${matrixToString(state.right, i)},\n      product: ${matrixToString(state.product, i)}\n    }`);\n\n      const fnName = state.forwardFn.name;\n      if (!usedFunctionNames[fnName]) {\n        usedFunctionNames[fnName] = true;\n        innerFunctionsSwitch.push(\n          `        case '${fnName}':${\n            fnName !== 'forwardFn' ? ` //compiled from ${fileName(fnName)}` : ''\n          }\n          ${toInner(state.forwardFn.toString())}\n          break;`\n        );\n      }\n    }\n\n    const forceForecast = this.inputSize === 1 && this.outputLookup;\n    const src = `\n  var input = ${this.inputLookup ? 'lookupInput(rawInput)' : 'rawInput'};\n  var json = ${jsonString};\n  var output = [];\n  var states = [];\n  var prevStates;\n  var state;\n  var max = ${\n    forceForecast\n      ? inputLookup === outputLookup\n        ? inputLookupLength\n        : `input.length + ${outputLookupLength - 1}`\n      : 'input.length'\n  };\n  for (var _i = 0; _i < max; _i++) {\n    prevStates = states;\n    states = [];\n    ${statesRaw.join(';\\n    ')};\n    for (var stateIndex = 0, stateMax = ${\n      statesRaw.length\n    }; stateIndex < stateMax; stateIndex++) {\n      state = states[stateIndex];\n      var product = state.product;\n      var left = state.left;\n      var right = state.right;\n\n      switch (state.name) {\n${innerFunctionsSwitch.join('\\n')}\n      }\n    }\n    ${\n      inputSize === 1 && inputLookup\n        ? 'if (_i >= input.length - 1) { output.push(state.product.weights); }'\n        : 'output = state.product.weights;'\n    }\n  }\n  ${\n    outputLookup\n      ? outputLookup === inputLookup\n        ? 'return lookupOutputPartial(output, input)'\n        : 'return lookupOutput(output)'\n      : inputSize === 1\n      ? 'return output[0]'\n      : 'return output'\n  };\n  ${formatInputData()}\n  ${formatOutputData()}\n\n  function Matrix(rows, columns) {\n    this.rows = rows;\n    this.columns = columns;\n    this.weights = zeros(rows * columns);\n  }\n  ${zeros.toString()}\n  ${softmax.toString().replace('_2.default', 'Matrix')}\n  ${randomFloat.toString()}\n  ${sampleI.toString()}\n  ${maxI.toString()}`;\n    // eslint-disable-next-line no-new-func\n    return new Function('rawInput', cb ? cb(src) : src);\n  }\n}\n\nRNNTimeStep.defaults = {\n  inputSize: 1,\n  hiddenLayers: [20],\n  outputSize: 1,\n  learningRate: RNN.defaults.learningRate,\n  decayRate: RNN.defaults.decayRate,\n  smoothEps: RNN.defaults.smoothEps,\n  regc: RNN.defaults.regc,\n  clipval: RNN.defaults.clipval,\n};\n\nRNNTimeStep.trainDefaults = RNN.trainDefaults;\n\nmodule.exports = RNNTimeStep;\n","// import Matrix from './matrix'\nconst GRU = require('./gru');\nconst RNNTimeStep = require('./rnn-time-step');\n\nclass GRUTimeStep extends RNNTimeStep {\n  static getModel(hiddenSize, prevSize) {\n    return GRU.getModel(hiddenSize, prevSize);\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    return GRU.getEquation(equation, inputMatrix, previousResult, hiddenLayer);\n  }\n}\n\nmodule.exports = GRUTimeStep;\n","const Matrix = require('./matrix');\nconst RandomMatrix = require('./matrix/random-matrix');\nconst RNN = require('./rnn');\n\nclass LSTM extends RNN {\n  static getModel(hiddenSize, prevSize) {\n    return {\n      // gates parameters\n      // wix\n      inputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wih\n      inputHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bi\n      inputBias: new Matrix(hiddenSize, 1),\n      // wfx\n      forgetMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wfh\n      forgetHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bf\n      forgetBias: new Matrix(hiddenSize, 1),\n      // wox\n      outputMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // woh\n      outputHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bo\n      outputBias: new Matrix(hiddenSize, 1),\n      // cell write params\n      // wcx\n      cellActivationMatrix: new RandomMatrix(hiddenSize, prevSize, 0.08), // wch\n      cellActivationHidden: new RandomMatrix(hiddenSize, hiddenSize, 0.08), // bc\n      cellActivationBias: new Matrix(hiddenSize, 1),\n    };\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    const sigmoid = equation.sigmoid.bind(equation);\n    const add = equation.add.bind(equation);\n    const multiply = equation.multiply.bind(equation);\n    const multiplyElement = equation.multiplyElement.bind(equation);\n    const tanh = equation.tanh.bind(equation);\n\n    const inputGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.inputMatrix, inputMatrix),\n          multiply(hiddenLayer.inputHidden, previousResult)\n        ),\n        hiddenLayer.inputBias\n      )\n    );\n\n    const forgetGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.forgetMatrix, inputMatrix),\n          multiply(hiddenLayer.forgetHidden, previousResult)\n        ),\n        hiddenLayer.forgetBias\n      )\n    );\n\n    // output gate\n    const outputGate = sigmoid(\n      add(\n        add(\n          multiply(hiddenLayer.outputMatrix, inputMatrix),\n          multiply(hiddenLayer.outputHidden, previousResult)\n        ),\n        hiddenLayer.outputBias\n      )\n    );\n\n    // write operation on cells\n    const cellWrite = tanh(\n      add(\n        add(\n          multiply(hiddenLayer.cellActivationMatrix, inputMatrix),\n          multiply(hiddenLayer.cellActivationHidden, previousResult)\n        ),\n        hiddenLayer.cellActivationBias\n      )\n    );\n\n    // compute new cell activation\n    const retainCell = multiplyElement(forgetGate, previousResult); // what do we keep from cell\n    const writeCell = multiplyElement(inputGate, cellWrite); // what do we write to cell\n    const cell = add(retainCell, writeCell); // new cell contents\n\n    // compute hidden state as gated, saturated cell activations\n    return multiplyElement(outputGate, tanh(cell));\n  }\n}\n\nmodule.exports = LSTM;\n","// const Matrix = require('./matrix');\nconst LSTM = require('./lstm');\nconst RNNTimeStep = require('./rnn-time-step');\n\nclass LSTMTimeStep extends RNNTimeStep {\n  static getModel(hiddenSize, prevSize) {\n    return LSTM.getModel.call(this, hiddenSize, prevSize);\n  }\n\n  /**\n   *\n   * @param {Equation} equation\n   * @param {Matrix} inputMatrix\n   * @param {Matrix} previousResult\n   * @param {Object} hiddenLayer\n   * @returns {Matrix}\n   */\n  static getEquation(equation, inputMatrix, previousResult, hiddenLayer) {\n    return LSTM.getEquation.call(\n      this,\n      equation,\n      inputMatrix,\n      previousResult,\n      hiddenLayer\n    );\n  }\n}\n\nmodule.exports = LSTMTimeStep;\n","'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","\nvar inherits;\nif (typeof Object.create === 'function'){\n  inherits = function inherits(ctor, superCtor) {\n    // implementation from standard node.js 'util' module\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  inherits = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\nexport default inherits;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nimport process from 'process';\nvar formatRegExp = /%[sdj%]/g;\nexport function format(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexport function deprecate(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexport function debuglog(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = 0;\n      debugs[set] = function() {\n        var msg = format.apply(null, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nexport function inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    _extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexport function isArray(ar) {\n  return Array.isArray(ar);\n}\n\nexport function isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\n\nexport function isNull(arg) {\n  return arg === null;\n}\n\nexport function isNullOrUndefined(arg) {\n  return arg == null;\n}\n\nexport function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nexport function isString(arg) {\n  return typeof arg === 'string';\n}\n\nexport function isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\n\nexport function isUndefined(arg) {\n  return arg === void 0;\n}\n\nexport function isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\n\nexport function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nexport function isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\n\nexport function isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\n\nexport function isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nexport function isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\n\nexport function isBuffer(maybeBuf) {\n  return Buffer.isBuffer(maybeBuf);\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexport function log() {\n  console.log('%s - %s', timestamp(), format.apply(null, arguments));\n}\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nimport inherits from './inherits';\nexport {inherits}\n\nexport function _extend(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport default {\n  inherits: inherits,\n  _extend: _extend,\n  log: log,\n  isBuffer: isBuffer,\n  isPrimitive: isPrimitive,\n  isFunction: isFunction,\n  isError: isError,\n  isDate: isDate,\n  isObject: isObject,\n  isRegExp: isRegExp,\n  isUndefined: isUndefined,\n  isSymbol: isSymbol,\n  isString: isString,\n  isNumber: isNumber,\n  isNullOrUndefined: isNullOrUndefined,\n  isNull: isNull,\n  isBoolean: isBoolean,\n  isArray: isArray,\n  inspect: inspect,\n  deprecate: deprecate,\n  format: format,\n  debuglog: debuglog\n}\n","import {Buffer} from 'buffer';\n\nexport default BufferList;\n\nfunction BufferList() {\n  this.head = null;\n  this.tail = null;\n  this.length = 0;\n}\n\nBufferList.prototype.push = function (v) {\n  var entry = { data: v, next: null };\n  if (this.length > 0) this.tail.next = entry;else this.head = entry;\n  this.tail = entry;\n  ++this.length;\n};\n\nBufferList.prototype.unshift = function (v) {\n  var entry = { data: v, next: this.head };\n  if (this.length === 0) this.tail = entry;\n  this.head = entry;\n  ++this.length;\n};\n\nBufferList.prototype.shift = function () {\n  if (this.length === 0) return;\n  var ret = this.head.data;\n  if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n  --this.length;\n  return ret;\n};\n\nBufferList.prototype.clear = function () {\n  this.head = this.tail = null;\n  this.length = 0;\n};\n\nBufferList.prototype.join = function (s) {\n  if (this.length === 0) return '';\n  var p = this.head;\n  var ret = '' + p.data;\n  while (p = p.next) {\n    ret += s + p.data;\n  }return ret;\n};\n\nBufferList.prototype.concat = function (n) {\n  if (this.length === 0) return Buffer.alloc(0);\n  if (this.length === 1) return this.head.data;\n  var ret = Buffer.allocUnsafe(n >>> 0);\n  var p = this.head;\n  var i = 0;\n  while (p) {\n    p.data.copy(ret, i);\n    i += p.data.length;\n    p = p.next;\n  }\n  return ret;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nimport {Buffer} from 'buffer';\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nexport function StringDecoder(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","'use strict';\n\n\nReadable.ReadableState = ReadableState;\nimport EventEmitter from 'events';\nimport {inherits, debuglog} from 'util';\nimport BufferList from './buffer-list';\nimport {StringDecoder} from 'string_decoder';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\n\nvar debug = debuglog('stream');\ninherits(Readable, EventEmitter);\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') {\n    return emitter.prependListener(event, fn);\n  } else {\n    // This is a hack to make sure that our error handler is attached before any\n    // userland ones.  NEVER DO THIS. This is here only because this code needs\n    // to continue to work with older versions of Node.js that do not include\n    // the prependListener() method. The goal is to eventually remove this hack.\n    if (!emitter._events || !emitter._events[event])\n      emitter.on(event, fn);\n    else if (Array.isArray(emitter._events[event]))\n      emitter._events[event].unshift(fn);\n    else\n      emitter._events[event] = [fn, emitter._events[event]];\n  }\n}\nfunction listenerCount (emitter, type) {\n  return emitter.listeners(type).length;\n}\nfunction ReadableState(options, stream) {\n\n  options = options || {};\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\nexport default Readable;\nexport function Readable(options) {\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options && typeof options.read === 'function') this._read = options.read;\n\n  EventEmitter.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n\n  if (!state.objectMode && typeof chunk === 'string') {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = Buffer.from(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var _e = new Error('stream.unshift() after end event');\n      stream.emit('error', _e);\n    } else {\n      var skipAdd;\n      if (state.decoder && !addToFront && !encoding) {\n        chunk = state.decoder.write(chunk);\n        skipAdd = !state.objectMode && chunk.length === 0;\n      }\n\n      if (!addToFront) state.reading = false;\n\n      // Don't add to the buffer if we've decoded to an empty string chunk and\n      // we're not in object mode\n      if (!skipAdd) {\n        // if we want the data now, just emit it.\n        if (state.flowing && state.length === 0 && !state.sync) {\n          stream.emit('data', chunk);\n          stream.read(0);\n        } else {\n          // update the buffer info.\n          state.length += state.objectMode ? 1 : chunk.length;\n          if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n          if (state.needReadable) emitReadable(stream);\n        }\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== null && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false);\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted) nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (listenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && src.listeners('data').length) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var _i = 0; _i < len; _i++) {\n      dests[_i].emit('unpipe', this);\n    }return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1) return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = EventEmitter.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function (ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n\nimport {inherits, deprecate} from 'util';\nimport {Buffer} from 'buffer';\nWritable.WritableState = WritableState;\nimport {EventEmitter} from 'events';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\ninherits(Writable, EventEmitter);\n\nfunction nop() {}\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\nfunction WritableState(options, stream) {\n  Object.defineProperty(this, 'buffer', {\n    get: deprecate(function () {\n      return this.getBuffer();\n    }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.')\n  });\n  options = options || {};\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function writableStateGetBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\nexport default Writable;\nexport function Writable(options) {\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex)) return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n  }\n\n  EventEmitter.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  nextTick(cb, er);\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n  // Always throw error if a null is written\n  // if we are not in object mode then throw\n  // if it is not a buffer, string, or undefined.\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = new WriteReq(chunk, encoding, cb);\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) nextTick(cb, er);else cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n        nextTick(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n        afterWrite(stream, state, finished, cb);\n      }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    while (entry) {\n      buffer[count] = entry;\n      entry = entry.next;\n      count += 1;\n    }\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequestCount = 0;\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else {\n      prefinish(stream, state);\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function (err) {\n    var entry = _this.entry;\n    _this.entry = null;\n    while (entry) {\n      var cb = entry.callback;\n      state.pendingcb--;\n      cb(err);\n      entry = entry.next;\n    }\n    if (state.corkedRequestsFree) {\n      state.corkedRequestsFree.next = _this;\n    } else {\n      state.corkedRequestsFree = _this;\n    }\n  };\n}\n","\nimport {inherits} from 'util';\nimport {nextTick} from 'process';\nimport {Readable} from './readable';\nimport {Writable} from './writable';\n\n\ninherits(Duplex, Readable);\n\nvar keys = Object.keys(Writable.prototype);\nfor (var v = 0; v < keys.length; v++) {\n  var method = keys[v];\n  if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n}\nexport default Duplex;\nexport function Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n","// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n\nimport {Duplex} from './duplex';\n\n\nimport {inherits} from 'util';\ninherits(Transform, Duplex);\n\nfunction TransformState(stream) {\n  this.afterTransform = function (er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n  this.writeencoding = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined) stream.push(data);\n\n  cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\nexport default Transform;\nexport function Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  this.once('prefinish', function () {\n    if (typeof this._flush === 'function') this._flush(function (er) {\n      done(stream, er);\n    });else done(stream);\n  });\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('Not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nfunction done(stream, er) {\n  if (er) return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (ts.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","\nimport {Transform} from './transform';\n\nimport {inherits} from 'util';\ninherits(PassThrough, Transform);\nexport default PassThrough;\nexport function PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","import EE from 'events';\nimport {inherits} from 'util';\n\nimport {Duplex} from './readable-stream/duplex.js';\nimport {Readable} from './readable-stream/readable.js';\nimport {Writable} from './readable-stream/writable.js';\nimport {Transform} from './readable-stream/transform.js';\nimport {PassThrough} from './readable-stream/passthrough.js';\ninherits(Stream, EE);\nStream.Readable = Readable;\nStream.Writable = Writable;\nStream.Duplex = Duplex;\nStream.Transform = Transform;\nStream.PassThrough = PassThrough;\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\nexport default Stream;\nexport {Readable,Writable,Duplex,Transform,PassThrough,Stream}\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","const { Writable } = require('stream');\n\n/**\n *\n * @param opts\n * @returns {TrainStream}\n * @constructor\n */\nclass TrainStream extends Writable {\n  constructor(options) {\n    super({\n      objectMode: true,\n    });\n\n    options = options || {};\n\n    // require the neuralNetwork\n    if (!options.neuralNetwork) {\n      throw new Error(\n        'No neural network specified. PLease see lis of available networks types: https://github.com/BrainJS/brain.js#neural-network-types'\n      );\n    }\n\n    const { neuralNetwork } = options;\n    this.neuralNetwork = neuralNetwork;\n    this.dataFormatDetermined = false;\n    this.i = 0; // keep track of internal iterations\n    this.size = 0;\n    this.count = 0;\n    this.sum = 0;\n    this.floodCallback = options.floodCallback;\n    this.doneTrainingCallback = options.doneTrainingCallback;\n\n    // inherit trainOpts settings from neuralNetwork\n    neuralNetwork.updateTrainingOptions(options);\n    const { trainOpts } = neuralNetwork;\n    this.iterations = trainOpts.iterations;\n    this.errorThresh = trainOpts.errorThresh;\n    this.log = trainOpts.log;\n    this.logPeriod = trainOpts.logPeriod;\n    this.callbackPeriod = trainOpts.callbackPeriod;\n    this.callback = trainOpts.callback;\n\n    this.on('finish', this.finishStreamIteration.bind(this));\n  }\n\n  endInputs() {\n    this.write(false);\n  }\n\n  /**\n   * _write expects data to be in the form of a datum. ie. {input: {a: 1 b: 0}, output: {z: 0}}\n   * @param chunk\n   * @param enc\n   * @param next\n   * @returns {*}\n   * @private\n   */\n  _write(chunk, enc, next) {\n    if (!chunk) {\n      // check for the end of one iteration of the stream\n      this.emit('finish');\n      return next();\n    }\n\n    if (!this.dataFormatDetermined) {\n      this.size++;\n      this.neuralNetwork.addFormat(chunk);\n      this.firstDatum = this.firstDatum || chunk;\n      return next();\n    }\n\n    this.count++;\n\n    const data = this.neuralNetwork.formatData(chunk);\n    this.sum += this.neuralNetwork.trainPattern(data[0], true);\n\n    // tell the Readable Stream that we are ready for more data\n    next();\n  }\n\n  /**\n   *\n   * @returns {*}\n   */\n  finishStreamIteration() {\n    if (this.dataFormatDetermined && this.size !== this.count) {\n      this.log(\"This iteration's data length was different from the first.\");\n    }\n\n    if (!this.dataFormatDetermined) {\n      const data = this.neuralNetwork.formatData(this.firstDatum);\n      this.neuralNetwork.verifyIsInitialized(data);\n      this.dataFormatDetermined = true;\n\n      if (typeof this.floodCallback === 'function') {\n        this.floodCallback();\n      }\n      return;\n    }\n\n    const error = this.sum / this.size;\n\n    if (this.log && this.i % this.logPeriod === 0) {\n      this.log(`iterations: ${this.i}, training error: ${error}`);\n    }\n    if (this.callback && this.i % this.callbackPeriod === 0) {\n      this.callback({\n        error,\n        iterations: this.i,\n      });\n    }\n\n    this.sum = 0;\n    this.count = 0;\n    // update the iterations\n    this.i++;\n\n    // do a check here to see if we need the stream again\n    if (this.i < this.iterations && error > this.errorThresh) {\n      if (typeof this.floodCallback === 'function') {\n        return this.floodCallback();\n      }\n    } else {\n      // done training\n      if (typeof this.doneTrainingCallback === 'function') {\n        return this.doneTrainingCallback({\n          error,\n          iterations: this.i,\n        });\n      }\n    }\n  }\n}\n\nmodule.exports = TrainStream;\n","const NeuralNetwork = require('../neural-network');\nconst RNN = require('../recurrent/rnn');\nconst RNNTimeStep = require('../recurrent/rnn-time-step');\nconst { FeedForward } = require('../feed-forward');\nconst { Recurrent } = require('../recurrent');\nconst { recurrentZeros } = require('../layer/recurrent-zeros');\n\nconst recurrentJSONTypes = [\n  'RNN',\n  'LSTM',\n  'GRU',\n  'RNNTimeStep',\n  'LSTMTimeStep',\n  'GRUTimeStep',\n  'Recurrent',\n];\n\nfunction drawInput({\n  pixelX,\n  pixelY,\n  radius,\n  inputs,\n  row,\n  line,\n  fontSize,\n  fontClassName,\n}) {\n  let svg = `<rect\n              x=\"${pixelX / 2 - radius}\"\n              y=\"${pixelY / 2 + row * pixelY - radius}\"\n              width=\"${2 * radius}\"\n              height=\"${2 * radius}\"\n              stroke=\"black\"\n              stroke-width=\"1\"\n              fill=\"${inputs.color}\"\n              class=\"${inputs.className}\" />\n            <line\n              x1=\"${pixelX / 4}\"\n              y1=\"${pixelY / 2 + row * pixelY}\"\n              x2=\"${pixelX / 2 - radius}\"\n              y2=\"${pixelY / 2 + row * pixelY}\"\n              style=\"stroke:${line.color};stroke-width:${line.width}\"\n              class=\"${line.className}\" />`;\n  if (inputs.labels) {\n    svg += `<text\n              x=\"${pixelX / 8}\"\n              y=\"${pixelY / 2 + row * pixelY - 5}\"\n              fill=\"black\"\n              font-size=\"${fontSize}\"\n              class=\"${fontClassName}\">${inputs.labels[row]}</text>`;\n  }\n  return svg;\n}\n\nfunction drawNeuron({ pixelX, pixelY, row, column, radius, hidden }) {\n  return `<circle\n            cx=\"${pixelX / 2 + column * pixelX}\"\n            cy=\"${pixelY / 2 + row * pixelY}\"\n            r=\"${radius}\"\n            stroke=\"black\"\n            stroke-width=\"1\"\n            fill=\"${hidden.color}\"\n            class=\"${hidden.className}\" />`;\n}\n\nfunction drawOutput({ pixelX, pixelY, row, column, line, outputs, radius }) {\n  return `<circle\n            cx=\"${pixelX / 2 + column * pixelX}\"\n            cy=\"${pixelY / 2 + row * pixelY}\"\n            r=\"${radius}\"\n            stroke=\"black\"\n            stroke-width=\"1\"\n            fill=\"${outputs.color}\"\n            class=\"${outputs.className}\" />\n          <line\n            x1=\"${pixelX / 2 + column * pixelX + radius}\"\n            y1=\"${pixelY / 2 + row * pixelY}\"\n            x2=\"${pixelX / 2 + column * pixelX + pixelX / 4}\"\n            y2=\"${pixelY / 2 + row * pixelY}\"\n            style=\"stroke:${line.color};stroke-width:${line.width}\"\n            class=\"${line.className}\" />`;\n}\n\nfunction drawBackwardConnections({\n  pixelX,\n  pixelY,\n  row,\n  column,\n  radius,\n  lineY,\n  line,\n  previousConnectionIndex,\n}) {\n  return `<line\n            x1=\"${pixelX / 2 + (column - 1) * pixelX + radius}\"\n            y1=\"${lineY / 2 + previousConnectionIndex * lineY}\"\n            x2=\"${pixelX / 2 + column * pixelX - radius}\"\n            y2=\"${pixelY / 2 + row * pixelY}\"\n            style=\"stroke:${line.color};stroke-width:${line.width}\"\n            class=\"${line.className}\" />`;\n}\n\nfunction neuralNetworkToSVG(options) {\n  const { sizes, height, width } = options;\n  let svg = '';\n  const pixelX = width / sizes.length;\n  for (let column = 0; column < sizes.length; column++) {\n    const size = sizes[column];\n    const pixelY = height / size;\n    for (let row = 0; row < size; row++) {\n      if (column === 0) {\n        svg += drawInput(\n          Object.assign({ pixelX, pixelY, row, column }, options)\n        );\n      } else {\n        if (column === sizes.length - 1) {\n          svg += drawOutput(\n            Object.assign({ pixelX, pixelY, row, column }, options)\n          );\n        } else {\n          svg += drawNeuron(\n            Object.assign({ pixelX, pixelY, row, column }, options)\n          );\n        }\n        const previousSize = sizes[column - 1];\n        const lineY = height / previousSize;\n        for (\n          let previousConnectionIndex = 0;\n          previousConnectionIndex < previousSize;\n          previousConnectionIndex++\n        ) {\n          svg += drawBackwardConnections(\n            Object.assign(\n              { pixelX, pixelY, row, column, lineY, previousConnectionIndex },\n              options\n            )\n          );\n        }\n      }\n    }\n  }\n  return svg;\n}\n\nfunction drawRecurrentConnections({\n  pixelX,\n  pixelY,\n  row,\n  column,\n  radius,\n  recurrentLine,\n}) {\n  const moveX = pixelX / 2 + column * pixelX + radius + 1;\n  const moveY = pixelY / 2 + row * pixelY;\n  const x = moveX - radius * 2 - 2;\n  const y = moveY;\n  const x1 = x + 100;\n  const y1 = y + 50;\n  const x2 = moveX - 100;\n  const y2 = moveY + 50;\n  return `<path\n              d=\"M ${moveX} ${moveY} C ${x1} ${y1}, ${x2} ${y2}, ${x} ${y}\"\n              stroke=\"${recurrentLine.color}\"\n              stroke-width=\"${recurrentLine.width}\"\n              fill=\"transparent\"\n              stroke-linecap=\"round\"\n              marker-end=\"url(#arrow)\"\n              class=\"${recurrentLine.className}\" />`;\n}\n\nfunction rnnToSVG(options) {\n  const { width, height, recurrentLine, sizes, radius } = options;\n  const pixelX = width / sizes.length;\n  let svg = `<defs>\n              <marker id=\"arrow\" markerWidth=\"10\" markerHeight=\"10\" refX=\"8\" refY=\"3\" orient=\"auto\" markerUnits=\"strokeWidth\">\n                <path d=\"M0,0 L0,6 L9,3 z\" fill=\"${recurrentLine.color}\" />\n              </marker>\n            </defs>`;\n  svg += neuralNetworkToSVG(options);\n  for (let column = 1; column < sizes.length; column++) {\n    const size = sizes[column];\n    const pixelY = height / size;\n    for (let row = 0; row < size; row++) {\n      svg += drawRecurrentConnections({\n        pixelX,\n        pixelY,\n        row,\n        column,\n        radius,\n        recurrentLine,\n      });\n    }\n  }\n  return svg;\n}\n\nfunction getFeedForwardLayers(network) {\n  const inputLayer = network.inputLayer();\n  const hiddenLayers = [];\n  hiddenLayers.push(network.hiddenLayers[0](inputLayer));\n  for (let i = 1; i < network.hiddenLayers.length; i++) {\n    hiddenLayers.push(network.hiddenLayers[i](hiddenLayers[i - 1]));\n  }\n  const outputLayer = network.outputLayer(\n    hiddenLayers[hiddenLayers.length - 1]\n  );\n  return {\n    inputLayer,\n    hiddenLayers,\n    outputLayer,\n    layerCount: 1 + hiddenLayers.length + 1,\n  };\n}\n\nfunction getRecurrentLayers(network) {\n  const inputLayer = network.inputLayer();\n  const hiddenLayers = [];\n  hiddenLayers.push(network.hiddenLayers[0](inputLayer, recurrentZeros(), 0));\n  for (let i = 1; i < network.hiddenLayers.length; i++) {\n    hiddenLayers.push(\n      network.hiddenLayers[i](hiddenLayers[i - 1], recurrentZeros(), i)\n    );\n  }\n  const outputLayer = network.outputLayer(\n    hiddenLayers[hiddenLayers.length - 1]\n  );\n  return {\n    inputLayer,\n    hiddenLayers,\n    outputLayer,\n    layerCount: 1 + hiddenLayers.length + 1,\n  };\n}\n\nfunction wrapSVG(svgBody, width, height) {\n  return `<svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            version=\"1.1\"\n            width=\"${width}\"\n            height=\"${height}\">${svgBody}</svg>`;\n}\n\nfunction getSizes({ sizes, inputSize, outputSize, hiddenLayers }) {\n  return typeof inputSize === 'number' &&\n    Array.isArray(hiddenLayers) &&\n    hiddenLayers.every((l) => typeof l === 'number') &&\n    typeof outputSize === 'number'\n    ? [inputSize].concat(hiddenLayers).concat([outputSize])\n    : sizes;\n}\n\nfunction toSVG(net, options) {\n  // default values\n  const defaultOptions = {\n    line: {\n      width: 0.5,\n      color: 'black',\n      className: 'connection',\n    },\n    recurrentLine: {\n      width: 1,\n      color: 'red',\n      className: 'recurrence',\n    },\n    inputs: {\n      color: 'rgba(0, 128, 0, 0.5)',\n      labels: null,\n      className: 'input',\n    },\n    outputs: {\n      color: 'rgba(100, 149, 237, 0.5)',\n      className: 'output',\n    },\n    hidden: {\n      color: 'rgba(255, 127, 80, 0.5)',\n      className: 'hidden-neuron',\n    },\n    fontSize: '14px',\n    fontClassName: 'label',\n    radius: 8,\n    width: 400,\n    height: 250,\n  };\n\n  const mergedOptions = { ...defaultOptions, ...options };\n  const { width, height, inputs } = mergedOptions;\n\n  const isRNN =\n    net.hasOwnProperty('model') ||\n    net instanceof Recurrent ||\n    (net.type && recurrentJSONTypes.indexOf(net.type) !== -1);\n\n  // Get network size array for NeuralNetwork or NeuralNetworkGPU\n  let sizes = null;\n  if (\n    net instanceof NeuralNetwork ||\n    net instanceof RNN ||\n    net instanceof RNNTimeStep\n  ) {\n    sizes = getSizes(net);\n  }\n  // Get network size array for NeuralNetwork json\n  else if (net.sizes) {\n    sizes = net.sizes;\n  }\n  // get network size for Recurrent\n  else if (net instanceof Recurrent) {\n    const { inputLayer, hiddenLayers, outputLayer } = getRecurrentLayers(net);\n    sizes = [inputLayer.height]\n      .concat(hiddenLayers.map((l) => l.height))\n      .concat([outputLayer.height]);\n  }\n  // get network size for FeedForward\n  else if (net instanceof FeedForward) {\n    const { inputLayer, hiddenLayers, outputLayer } = getFeedForwardLayers(net);\n    sizes = [inputLayer.height]\n      .concat(hiddenLayers.map((l) => l.height))\n      .concat([outputLayer.height]);\n  }\n  // handle json, recurrent first\n  else if (isRNN) {\n    if (net.options) {\n      sizes = getSizes(net.options);\n    }\n  }\n  // handle json, NeuralNetwork\n  else {\n    sizes = getSizes(net);\n  }\n\n  if (!sizes) throw new Error('sizes not set');\n\n  if (inputs.labels && inputs.labels.length !== sizes[0])\n    throw new Error('not enough labels for inputs');\n\n  if (isRNN) {\n    return wrapSVG(rnnToSVG({ ...mergedOptions, sizes }), width, height);\n  } else {\n    return wrapSVG(\n      neuralNetworkToSVG({ ...mergedOptions, sizes }),\n      width,\n      height\n    );\n  }\n}\n\nmodule.exports = toSVG;\n","import * as activation from './activation';\nimport CrossValidate from './cross-validate';\nimport { FeedForward } from './feed-forward';\nimport * as layer from './layer';\nimport { layerTypes } from './layer';\nimport likely from './likely';\nimport lookup from './lookup';\nimport NeuralNetwork from './neural-network';\nimport NeuralNetworkGPU from './neural-network-gpu';\nimport * as praxis from './praxis';\nimport { Recurrent } from './recurrent';\nimport GRU from './recurrent/gru';\nimport GRUTimeStep from './recurrent/gru-time-step';\nimport LSTM from './recurrent/lstm';\nimport LSTMTimeStep from './recurrent/lstm-time-step';\nimport RNN from './recurrent/rnn';\nimport RNNTimeStep from './recurrent/rnn-time-step';\nimport TrainStream from './train-stream';\nimport DataFormatter from './utilities/data-formatter';\nimport max from './utilities/max';\nimport mse from './utilities/mse';\nimport ones from './utilities/ones';\nimport { randomFloat } from './utilities/random';\nimport { randomWeight } from './utilities/random-weight';\nimport { randos } from './utilities/randos';\nimport range from './utilities/range';\nimport toArray from './utilities/to-array';\nimport toSVG from './utilities/to-svg';\nimport { zeros } from './utilities/zeros';\n\nexport const brain = {\n  activation,\n  CrossValidate,\n  likely,\n  layer,\n  layerTypes,\n  lookup,\n  praxis,\n  FeedForward,\n  NeuralNetwork,\n  NeuralNetworkGPU,\n  Recurrent,\n  TrainStream,\n  recurrent: {\n    RNNTimeStep,\n    LSTMTimeStep,\n    GRUTimeStep,\n    RNN,\n    LSTM,\n    GRU,\n  },\n  utilities: {\n    max,\n    mse,\n    ones,\n    randomFloat,\n    randomWeight,\n    randos,\n    range,\n    toArray,\n    DataFormatter,\n    zeros,\n    toSVG,\n  },\n};\n\nif (typeof window !== 'undefined') {\n  // @ts-expect-error window.brain\n  window.brain = brain;\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = brain;\n}\n"],"names":["activate","weight","Math","max","measure","delta","value","exp","error","isObject","require$$0","document","require$$1","require$$2","anObject","toPrimitive","IE8_DOM_DEFINE","dP","createDesc","global","core","$toString","has","hide","aFunction","ctx","redefine","$export","expm1","tanh","uid","cof","IObject","defined","toInteger","min","toIObject","toLength","toAbsoluteIndex","$keys","enumBugKeys","getKeys","IE_PROTO","PROTOTYPE","dPs","create","descriptor","setToStringTag","toObject","$iterCreate","getPrototypeOf","Iterators","step","addToUnscopables","ITERATOR","wks","$iterators","TAG","classof","fails","gOPS","pIE","DESCRIPTORS","CrossValidate","Classifier","options","json","trainOpts","trainSet","testSet","classifier","beginTrain","Date","now","trainingStats","train","beginTest","testStats","test","endTest","stats","Object","assign","trainTime","testTime","iterations","total","learningRate","hiddenLayers","network","toJSON","array","i","length","j","floor","random","temp","data","k","Error","size","constructor","Array","shuffleArray","newData","keys","forEach","key","avgs","binaryStats","truePos","trueNeg","falsePos","falseNeg","results","stat","isBinary","dclone","slice","splice","result","testPartition","hasOwnProperty","push","precision","recall","accuracy","testSize","trainSize","sets","fromJSON","crossValidateJson","reduce","prev","cur","Infinity","instance","NAME","toIndex","$typed","anInstance","arrayFill","redefineAll","ArrayProto","isArray","speciesConstructor","asc","SPECIES","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","require$$16","require$$17","require$$18","require$$19","require$$20","require$$21","require$$22","require$$23","require$$24","require$$25","require$$26","require$$27","require$$28","require$$29","require$$30","require$$31","require$$32","require$$33","require$$34","require$$35","require$$36","require$$37","require$$38","Lookup","hashes","hash","memo","toHash","objects2D","table","valueIndex","objects","object","p","tableIndex","dataIndex","input","output","lookup","index","arrayLength","Float32Array","from","toArray","offset","limit","z","shape","buffer","ArrayBuffer","invoke","bind","spaces","gOPD","proto","inheritIfRequired","gpuInstance","setup","teardown","destroy","catch","console","log","makeKernel","fn","settings","_gpuInstance","GPU","mode","createKernel","setPipeline","makeKernelMap","map","createKernelMap","kernelInput","Input","release","possibleTexture","Texture","delete","clear","fill","x","y","row","clone","matrix","cube","defaults","width","height","depth","weights","deltas","praxis","praxisOpts","BaseLayer","setupPraxis","initPraxis","Number","isNaN","name","layer","predictKernel","immutable","compareKernel","inputs","oldWeights","run","zeros","zeros2D","zeros3D","Activation","inputLayer","validate","Operator","inputLayer1","inputLayer2","Internal","InternalModel","EntryPoint","Filter","Model","Modifier","checkSameSize","layer1","layer2","predict","inputWeights1","inputWeights2","thread","Add","add","BasePraxis","layerTemplate","kernel","updateChange","update","changes","incomingWeights","inputDeltas","lastChange","inputDelta","incoming","change","constants","momentum","ArthurDeviationWeights","weightsLayer","incomingLayer","deltaLayer","kernelMap","arthurDeviationWeights","ArthurDeviationBiases","arthurDeviationBiases","randomWeight","randomFloat","a","b","gaussRandom","returnV","vVal","u","v","r","c","sqrt","randomInteger","randomN","mu","std","randos","randos2D","Random","weights1","weights2","sum","compareFromX","inputWeights","compareFromY","Multiply","compareKernel1","compareKernel2","inputLayer1Deltas","inputLayer2Deltas","newDeltas1","newDeltas2","multiply","predict2D","predict3D","compare2D","compare3D","Sigmoid","functions","sigmoid","arthurFeedForward","weightsPraxis","setupKernels","biasesPraxis","biasesLayer","multiplyLayer","addLayer","sigmoidLayer","setStride","strideX","stride","strideY","setPadding","paddingX","padding","paddingY","randos3D","values","filters","biases","startFilterX","startInputX","endFilterX","filterWidth","inputWidth","startFilterY","startInputY","endFilterY","filterHeight","inputHeight","inputDepth","filterY","inputY","filterX","inputX","compareFilterDeltas","filterDeltas","startDeltaX","ceil","endDeltaX","deltaWidth","startDeltaY","endDeltaY","deltaHeight","deltaY","deltaX","deltaZ","compareInputDeltas","compareBiases","biasDeltas","Convolution","bias","filterCount","learnFilters","learnInputs","compareFilterDeltasKernel","deltasWidth","deltasHeight","deltasDepth","compareInputDeltasKernel","compareBiasesKernel","convolution","setDropout","dropout","trainingPredict","probability","compare","dropouts","Dropout","isTraining","feedForward","compareInputDeltas3D","compareFilterDeltas3D","inputZ","FullyConnected","connectionCount","inputLayerDeltas","fullyConnected","Negative","negative","inputLayerWeights1","inputLayerWeights2","MultiplyElement","multiplyElement","ones","ones2D","Ones","errors","Tanh","Zeros","gru","recurrentInput","updateGateWeights","updateGatePeepholes","updateGateBias","updateGate","resetGateWeights","resetGatePeepholes","resetGateBias","resetGate","cellWeights","cellPeepholes","cellBias","cell","rows","columns","reshapeInput","predict1D","LeakyRelu","leakyRelu","lstmCell","setDimensions","inputGateWeights","inputGatePeepholes","inputGateBias","inputGate","forgetGateWeights","forgetGatePeepholes","forgetGateBias","forgetGate","outputGateWeights","outputGatePeepholes","outputGateBias","outputGate","memoryWeights","memoryPeepholes","memoryBias","memory","retainCell","writeCell","compare1D","targetValues","Target","compareFn","target","outputGateConnector","setSwitchY","setSwitchX","largestValue","switchY","switchX","outputWidth","outputHeight","deltasY","deltasX","switchXValue","switchYValue","Pool","outputDepth","pool","Relu","relu","rnnCell","transition","Regression","learn","targets","regression","getMaxValue","maxInput","getMaxValue2D","getMaxValue3D","getSum","getSum2D","getSum3D","getExponentials","getExponentials2D","getExponentials3D","exponentials","exponentialsSum","indicator","loss","SoftMax","getExponentialsKernel","getMaxValueKernel","getSumKernel","maxValue","softMax","SVM","svm","Transpose","transpose","layerTypes","layerFromJSON","jsonLayer","type","Layer","realLayer","Reflect","construct","arguments","Adam","adam","Base","getMomentum","decay","previousMomentum","clipByValue","previousMomenta","clippedDelta","clipValue","decayRate","smoothEps","regularizationStrength","isClippedByValue","MomentumRootMeanSquaredPropagation","momenta","momentumRootMeanSquaredPropagation","MRmsProp","mRmsProp","traverseLayersFrom","cb","flattenLayers","layers","indexOf","mse2d","MeanSquaredError","calculate","addAbsolute","prevError","prevLayerErrors","abs","value1","value2","divide","mseSum","FeedForward","opts","trainDefaults","opt","_validateTrainingOptions","_setLogMethod","callback","callbackPeriod","errorCheckInterval","warn","validations","val","errorThresh","logPeriod","timeout","reinforce","binaryThresh","outputLayer","_inputLayer","_outputLayer","_model","_updateTrainingOptions","structure","_hiddenLayers","_connectHiddenLayers","previousLayer","hiddenLayer","_connectLayers","initializeLayers","filter","l","lastLayer","meanSquaredError","inputLookup","runInput","outputLookup","status","endTime","_prepTraining","_trainingTick","_calculateTrainingError","_trainPatterns","formattedData","formatData","verifyIsInitialized","transferData","initialize","prevSum","_trainPattern","resultArray","logErrorRate","_calculateDeltas","adjustWeights","tmp","inputDatumCheck","buildLookup","datumParam","outputDatumCheck","transferredData","transferInput","transferOutput","formattedDatum","jsonLayers","inputLayerIndex","inputLayer1Index","inputLayer2Index","sizes","concat","getLayer","undefined","net","likely","TypeError","maxProp","getIterFn","isArrayIter","call","cel","html","process","Promise","newPromiseCapability","isNode","newPromiseCapabilityModule","userAgent","perform","promiseResolve","forOf","this","block_1","mse","range","start","end","LookupTable","prop","datum","arraysToFloat32Arrays","arrays","arrayToFloat32Arrays","arrayToFloat32Array","objectsToFloat32Arrays","objectToFloat32Arrays","objectToFloat32Array","Thaw","getTypedArrayFn","NeuralNetwork","beta1","beta2","epsilon","leakyReluAlpha","activation","updateTrainingOptions","outputs","prototype","calculateDeltas","inputLookupLength","outputLookupLength","inputSize","outputSize","node","prevSize","setActivation","_setupAdam","_runInputSigmoid","_calculateDeltasSigmoid","_runInputRelu","_calculateDeltasRelu","_runInputLeakyRelu","_calculateDeltasLeakyRelu","_runInputTanh","_calculateDeltasTanh","isRunnable","activeLayer","activeWeights","activeBiases","activeOutputs","currentSize","currentWeights","currentBiases","currentOutputs","alpha","validateTrainingOptions","setLogMethod","logTrainingStatus","trainPattern","calculateTrainingError","trainPatterns","prepTraining","trainingTick","resolve","reject","thawedTrain","delay","each","stop","done","tick","trainError","JSON","stringify","activeSize","activeOutput","activeError","activeDeltas","nextLayer","nextWeights","nextDeltas","currentErrors","currentDeltas","activeDelta","activeChanges","biasChangesLow","biasChangesHigh","changesLow","changesHigh","_adjustWeightsAdam","currentChangesLow","currentChangesHigh","currentBiasChangesLow","currentBiasChangesHigh","gradient","changeLow","changeHigh","momentumCorrection","pow","gradientCorrection","biasGradient","biasChangeLow","biasChangeHigh","biasMomentumCorrection","biasGradientCorrection","_formatInput","_formatOutput","addKeys","misclasses","errorSum","actual","expected","misclass","nodes","getTrainOptsJSON","needsVar","nodeHandle","layerNumber","nodeKey","w","join","layersAsMath","source","Function","checkFns","$defineProperty","createProperty","alias","gpuUtils","utils","weightedSumSigmoid","weightedSumRelu","weightedSumLeakyRelu","weightedSumTanh","calcErrorOutput","calcDeltasSigmoid","calcDeltasRelu","calcDeltasLeakyRelu","calcDeltasTanh","calcError","calcChanges","previousChanges","previousOutputs","addWeights","addBiases","NeuralNetworkGPU","forwardPropagate","backwardPropagate","changesPropagate","biasesPropagate","gpu","buildRunInput","buildCalculateDeltas","buildGetChanges","buildChangeBiases","buildGetMSE","getMSE","_addMSE","_divideMSESum","getChanges","changeBiases","weightedSum","pipeline","texturizeInputData","calcDeltas","getMinifySafeName","addFunction","outputTextures","texturizeOutputData","set","RecurrentConnection","RecurrentInput","recurrentInputDeltas","recurrentInputWeights","RecurrentZeros","recurrentZeros","Recurrent","previousLayers","_layerSets","usedHiddenLayerOutputIndex","findInputLayer","layerSettings","previousHiddenLayerOutput","_hiddenLayerOutputIndices","_outputConnection","layerSet","_connectLayersDeep","reuseKernels","initializeDeep","lastLayerUsed","lastLayerSet","_inputLayers","_hiddenLayerSets","_outputLayers","_previousInputs","_recurrentIndices","Matrix","col","ix","column","weightRows","deltasRows","m","rowIndex","weightValues","deltasValues","columnIndex","setWeight","setDeltas","RandomMatrix","regexpFlags","regexpExec","regExpExec","advanceStringIndex","$flags","LAST_INDEX","isRegExp","callRegExpExec","cloneNegative","product","left","parseInt","right","addB","allOnes","leftRows","leftColumns","rightColumns","leftRow","leftRowBase","rightRowBase","rightColumn","dot","leftColumn","rightColumnBase","leftIndex","rightIndex","multiplyB","leftRowRoot","rightRow","backPropagateValue","multiplyElementB","reluB","rowPluck","rowPluckIndex","rowBase","rowPluckB","sigmoidB","mwi","tanhB","softmax","maxVal","s","Equation","inputRow","inputValue","states","forwardFn","backpropagationFn","self","state","runIndex","logProbabilities","probabilities","log2","sampleI","maxI","maxv","maxix","copy","$iterDefine","setSpecies","meta","$iterDetect","strong","DataFormatter","maxThreshold","indexTable","characterTable","characters","specialIndexes","buildCharactersFromIterable","buildTables","tempCharactersTable","dataFormatterIndex","dataFormatterLength","characterIndex","charactersLength","character","unrecognized","toIndexes","split","toString","indices","toCharacters","addSpecial","special","specialIndex","toIndexesInputOutput","String","fromCharCode","dataFormatter","fromAllPrintable","addInputOutput","string","Set","validateAndCast","defaultRNNFormatter","addUnrecognized","formatDataIn","fromArrayInputOutput","RNN","stepCache","runs","ratioClipped","model","equations","allMatrices","equationConnections","outputConnector","inputRange","mapModel","getModel","d","hiddenSize","lastHiddenSize","equation","equationConnection","initialLayerInputs","getEquation","inputMatrixToRow","createInputMatrix","createHiddenLayers","hiddenMatrix","property","createOutputMatrix","trainInput","backpropagate","log2ppl","bindEquation","inputIndex","inputMax","equationIndex","predictTargetIndex","backpropagateIndex","regc","clipval","numClipped","numTot","matrixIndex","cache","rawInput","isSampleI","temperature","maxPredictionLength","previousIndex","outputMatrix","probs","nextIndex","formatDataOut","setupData","err","hiddenSizes","jsonString","previousConnectionIndex","connection","matrixOrigin","stateIndex","matrixToString","toInner","fnString","shift","pop","replace","fileName","fnName","toLowerCase","statesRaw","usedFunctionNames","innerFunctionsSwitch","src","toFunctionString","inputMatrix","previousResult","GRU","updateGateInputMatrix","updateGateHiddenMatrix","resetGateInputMatrix","resetGateHiddenMatrix","cellWriteInputMatrix","cellWriteHiddenMatrix","cellWriteBias","ArrayLookupTable","RNNTimeStep","runObject","runNumbers","runObjects","runArrays","count","forecast","forecastNumbers","forecastObjects","forecastArrays","setSize","trainInputOutput","trainArrays","trainNumbers","dataShape","toTable2D","toInputTable2D","toOutputTable2D","predictTarget","lastOutput","inputArray","toArrayShort","toObjectPartial","totalSize","outputIndex","toArrays","lookupTable","errorMSE","errorsAbs","errorCount","formatInputData","formatOutputData","forceForecast","GRUTimeStep","LSTM","inputHidden","inputBias","forgetMatrix","forgetHidden","forgetBias","outputHidden","outputBias","cellActivationMatrix","cellActivationHidden","cellActivationBias","cellWrite","LSTMTimeStep","arrayIndexOf","base64.fromByteArray","ieee754.read","ieee754.write","base64.toByteArray","queue","inherits","listenerCount","Buffer.isBuffer","EE","Writable","TrainStream","objectMode","neuralNetwork","dataFormatDetermined","floodCallback","doneTrainingCallback","on","finishStreamIteration","write","chunk","enc","next","emit","addFormat","firstDatum","recurrentJSONTypes","drawInput","pixelX","pixelY","radius","line","fontSize","fontClassName","svg","color","className","labels","drawNeuron","hidden","drawOutput","drawBackwardConnections","lineY","neuralNetworkToSVG","previousSize","drawRecurrentConnections","recurrentLine","moveX","moveY","x1","y1","x2","y2","rnnToSVG","getFeedForwardLayers","layerCount","getRecurrentLayers","wrapSVG","svgBody","getSizes","every","toSVG","defaultOptions","mergedOptions","isRNN","brain","recurrent","utilities","window","module","exports"],"mappings":"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"}